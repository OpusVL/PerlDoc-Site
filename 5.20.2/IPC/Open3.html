<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="IPC::Open3 - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>IPC::Open3 - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.20.2/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.20.2/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.20.2/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.20.2/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.20.2/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.20.2/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.20.2/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.20.2/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.20.2/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.20.2/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.20.2/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.20.2/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.20.2/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.20.2/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.20.2/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.20.2/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../index-modules-I.html">Core modules (I)</a> &gt;
      
    
    IPC::Open3
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 20.2 documentation</h1>
                  </div>
                  <h1>IPC::Open3</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#See-Also">See Also</a></li><li><a href="#WARNING">WARNING</a></li></ul><a id="NAME"></a><h2 class='h2' >NAME</h2>
<p>IPC::Open3 - open a process for reading, writing, and error handling using open3()</p>
<a id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<pre>
    <span class="i">$pid</span> = <span class="i">open3</span><span class="s">(</span>\<span class="i">*CHLD_IN</span><span class="cm">,</span> \<span class="i">*CHLD_OUT</span><span class="cm">,</span> \<span class="i">*CHLD_ERR</span><span class="cm">,</span>
		    <span class="q">&#39;some cmd and args&#39;</span><span class="cm">,</span> <span class="q">&#39;optarg&#39;</span><span class="cm">,</span> ...<span class="s">)</span><span class="sc">;</span>

    <a class="l_k" href="../functions/my.html">my</a><span class="s">(</span><span class="i">$wtr</span><span class="cm">,</span> <span class="i">$rdr</span><span class="cm">,</span> <span class="i">$err</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Symbol</span> <span class="q">&#39;gensym&#39;</span><span class="sc">;</span> <span class="i">$err</span> = <span class="w">gensym</span><span class="sc">;</span>
    <span class="i">$pid</span> = <span class="i">open3</span><span class="s">(</span><span class="i">$wtr</span><span class="cm">,</span> <span class="i">$rdr</span><span class="cm">,</span> <span class="i">$err</span><span class="cm">,</span>
		    <span class="q">&#39;some cmd and args&#39;</span><span class="cm">,</span> <span class="q">&#39;optarg&#39;</span><span class="cm">,</span> ...<span class="s">)</span><span class="sc">;</span>

    <a class="l_k" href="../functions/waitpid.html">waitpid</a><span class="s">(</span> <span class="i">$pid</span><span class="cm">,</span> <span class="n">0</span> <span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$child_exit_status</span> = <span class="i">$?</span> &gt;&gt; <span class="n">8</span><span class="sc">;</span></pre>
<a id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>Extremely similar to open2(), open3() spawns the given $cmd and
connects CHLD_OUT for reading from the child, CHLD_IN for writing to
the child, and CHLD_ERR for errors.  If CHLD_ERR is false, or the
same file descriptor as CHLD_OUT, then STDOUT and STDERR of the child
are on the same filehandle (this means that an autovivified lexical
cannot be used for the STDERR filehandle, see SYNOPSIS).  The CHLD_IN
will have autoflush turned on.</p>
<p>If CHLD_IN begins with <code class="inline">&lt;&amp;</code>, then CHLD_IN will be closed in the
parent, and the child will read from it directly.  If CHLD_OUT or
CHLD_ERR begins with <code class="inline">&gt;&amp;</code>, then the child will send output
directly to that filehandle.  In both cases, there will be a dup(2)
instead of a pipe(2) made.</p>
<p>If either reader or writer is the null string, this will be replaced
by an autogenerated filehandle.  If so, you must pass a valid lvalue
in the parameter slot so it can be overwritten in the caller, or
an exception will be raised.</p>
<p>The filehandles may also be integers, in which case they are understood
as file descriptors.</p>
<p>open3() returns the process ID of the child process.  It doesn't return on
failure: it just raises an exception matching <pre>
<span class="q">/^open3:/</span></code>
.  However,
<code class="inline"><a class="l_k" href="../functions/exec.html">exec</a></code> failures in the child (such as no such file or permission denied),
are just reported to CHLD_ERR under Windows and OS/2, as it is not possible
to trap them.</p>
<p>If the child process dies for any reason, the next write to CHLD_IN is
likely to generate a SIGPIPE in the parent, which is fatal by default.
So you may wish to handle this signal.</p>
<p>Note if you specify <pre>
-</code>
 as the command, in an analogous fashion to
<pre>
<a class="l_k" href="../functions/open.html">open</a><span class="s">(</span><span class="w">FOO</span><span class="cm">,</span> <span class="q">&quot;-|&quot;</span><span class="s">)</span></code>
 the child process will just be the forked Perl
process rather than an external command.  This feature isn't yet
supported on Win32 platforms.</p>
<p>open3() does not wait for and reap the child process after it exits.
Except for short programs where it's acceptable to let the operating system
take care of this, you need to do this yourself.  This is normally as
simple as calling <pre>
<a class="l_k" href="../functions/waitpid.html">waitpid</a> <span class="i">$pid</span><span class="cm">,</span> <span class="n">0</span></code>
 when you're done with the process.
Failing to do this can result in an accumulation of defunct or "zombie"
processes.  See <a href="../functions/waitpid.html">waitpid</a> for more information.</p>
<p>If you try to read from the child's stdout writer and their stderr
writer, you'll have problems with blocking, which means you'll want
to use select() or the IO::Select, which means you'd best use
sysread() instead of readline() for normal stuff.</p>
<p>This is very dangerous, as you may block forever.  It assumes it's
going to talk to something like <strong>bc</strong>, both writing to it and reading
from it.  This is presumably safe because you "know" that commands
like <strong>bc</strong> will read a line at a time and output a line at a time.
Programs like <strong>sort</strong> that read their entire input stream first,
however, are quite apt to cause deadlock.</p>
<p>The big problem with this approach is that if you don't have control
over source code being run in the child process, you can't control
what it does with pipe buffering.  Thus you can't just open a pipe to
<pre>
<span class="w">cat</span> -<span class="w">v</span></code>
 and continually read and write a line from it.</p>
<a id="See-Also"></a><h2 class='h2' >See Also</h2>
<ul>
<li><a id="the-IPC%3a%3aOpen2-manpage"></a><strong><a href="../IPC/Open2.html">IPC::Open2</a></strong>
<p>Like Open3 but without STDERR capture.</p>
</li>
<li><a id="the-IPC%3a%3aRun-manpage"></a><strong><a href="https://search.cpan.org/perldoc/IPC::Run">IPC::Run</a></strong>
<p>This is a CPAN module that has better error handling and more facilities
than Open3.</p>
</li>
</ul>
<a id="WARNING"></a><h2 class='h2' >WARNING</h2>
<p>The order of arguments differs from that of open2().</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#See-Also">See Also</a></li><li><a href="#WARNING">WARNING</a></li></ul>


                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/20/2/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/20/2/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/20/2/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/20/2/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/20/2/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/20/2/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/20/2/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
