<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="perl5240delta - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>perl5240delta - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.28.0/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.28.0/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.28.0/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.28.0/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.28.0/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.28.0/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.28.0/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.28.0/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.28.0/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.28.0/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.28.0/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.28.0/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.28.0/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.28.0/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.28.0/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.28.0/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-history.html">History / Changes</a> &gt;
      
    
    perl5240delta
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 28.0 documentation</h1>
                  </div>
                  <h1>perl5240delta</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Core-Enhancements">Core Enhancements</a></li><ul><li><a href="#Postfix-dereferencing-is-no-longer-experimental">Postfix dereferencing is no longer experimental</a></li><li><a href="#Unicode-8.0-is-now-supported">Unicode 8.0 is now supported</a></li><li><a href="#perl-will-now-croak-when-closing-an-in-place-output-file-fails">perl will now croak when closing an in-place output file fails</a></li><li><a href="#New-%5cb%7blb%7d-boundary-in-regular-expressions">New \b{lb} boundary in regular expressions</a></li><li><a href="#qr%2f(%3f%5b-%5d)%2f-now-works-in-UTF-8-locales">qr/(?[ ])/ now works in UTF-8 locales</a></li><li><a href="#Integer-shift-(%3c%3c-and-%3e%3e)-now-more-explicitly-defined">Integer shift (<< and >>) now more explicitly defined</a></li><li><a href="#printf-and-sprintf-now-allow-reordered-precision-arguments">printf and sprintf now allow reordered precision arguments</a></li><li><a href="#More-fields-provided-to-sigaction-callback-with-SA_SIGINFO">More fields provided to sigaction callback with SA_SIGINFO</a></li><li><a href="#Hashbang-redirection-to-Perl-6">Hashbang redirection to Perl 6</a></li></ul><li><a href="#Security">Security</a></li><ul><li><a href="#Set-proper-umask-before-calling-mkstemp(3)">Set proper umask before calling mkstemp(3)</a></li><li><a href="#Fix-out-of-boundary-access-in-Win32-path-handling">Fix out of boundary access in Win32 path handling</a></li><li><a href="#Fix-loss-of-taint-in-canonpath">Fix loss of taint in canonpath</a></li><li><a href="#Avoid-accessing-uninitialized-memory-in-win32-crypt()">Avoid accessing uninitialized memory in win32 crypt()</a></li><li><a href="#Remove-duplicate-environment-variables-from-environ">Remove duplicate environment variables from environ</a></li></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a></li><ul><li><a href="#The-autoderef-feature-has-been-removed">The autoderef feature has been removed</a></li><li><a href="#Lexical-%24_-has-been-removed">Lexical $_ has been removed</a></li><li><a href="#qr%2f%5cb%7bwb%7d%2f-is-now-tailored-to-Perl-expectations">qr/\b{wb}/ is now tailored to Perl expectations</a></li><li><a href="#Regular-expression-compilation-errors">Regular expression compilation errors</a></li><li><a href="#qr%2f%5cN%7b%7d%2f-now-disallowed-under-use-re-%22strict%22">qr/\N{}/ now disallowed under use re "strict"</a></li><li><a href="#Nested-declarations-are-now-disallowed">Nested declarations are now disallowed</a></li><li><a href="#The-%2f%5cC%2f-character-class-has-been-removed.">The /\C/ character class has been removed.</a></li><li><a href="#chdir('')-no-longer-chdirs-home">chdir('') no longer chdirs home</a></li><li><a href="#ASCII-characters-in-variable-names-must-now-be-all-visible">ASCII characters in variable names must now be all visible</a></li><li><a href="#An-off-by-one-issue-in-%24Carp%3a%3aMaxArgNums-has-been-fixed">An off by one issue in $Carp::MaxArgNums has been fixed</a></li><li><a href="#Only-blanks-and-tabs-are-now-allowed-within-%5b...%5d-within-(%3f%5b...%5d).">Only blanks and tabs are now allowed within [...] within (?[...]).</a></li></ul><li><a href="#Deprecations">Deprecations</a></li><ul><li><a href="#Using-code-points-above-the-platform's-IV_MAX-is-now-deprecated">Using code points above the platform's IV_MAX is now deprecated</a></li><li><a href="#Doing-bitwise-operations-on-strings-containing-code-points-above-0xFF-is-deprecated">Doing bitwise operations on strings containing code points above
0xFF is deprecated</a></li><li><a href="#sysread()%2c-syswrite()%2c-recv()-and-send()-are-deprecated-on-%3autf8-handles">sysread(), syswrite(), recv() and send() are deprecated on
:utf8 handles</a></li></ul><li><a href="#Performance-Enhancements">Performance Enhancements</a></li><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a></li><ul><li><a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a></li></ul><li><a href="#Documentation">Documentation</a></li><ul><li><a href="#Changes-to-Existing-Documentation">Changes to Existing Documentation</a></li></ul><li><a href="#Diagnostics">Diagnostics</a></li><ul><li><a href="#New-Diagnostics">New Diagnostics</a></li><li><a href="#Changes-to-Existing-Diagnostics">Changes to Existing Diagnostics</a></li></ul><li><a href="#Configuration-and-Compilation">Configuration and Compilation</a></li><li><a href="#Testing">Testing</a></li><li><a href="#Platform-Support">Platform Support</a></li><ul><li><a href="#Platform-Specific-Notes">Platform-Specific Notes</a></li></ul><li><a href="#Internal-Changes">Internal Changes</a></li><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a></li><li><a href="#Acknowledgements">Acknowledgements</a></li><li><a href="#Reporting-Bugs">Reporting Bugs</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul><a id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perl5240delta - what is new for perl v5.24.0</p>
<a id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>This document describes the differences between the 5.22.0 release and the
5.24.0 release.</p>
<a id="Core-Enhancements"></a><h2 class='h2' >Core Enhancements</h2>
<a id="Postfix-dereferencing-is-no-longer-experimental"></a><h3 class='h3' >Postfix dereferencing is no longer experimental</h3>
<p>Using the <pre>
<span class="w">postderef</span></code>
 and <pre>
<span class="w">postderef_qq</span></code>
 features no longer emits a
warning. Existing code that disables the <pre>
<span class="w">experimental::postderef</span></code>
 warning
category that they previously used will continue to work. The <pre>
<span class="w">postderef</span></code>

feature has no effect; all Perl code can use postfix dereferencing,
regardless of what feature declarations are in scope. The <pre>
<span class="n">5.24</span></code>
 feature
bundle now includes the <pre>
<span class="w">postderef_qq</span></code>
 feature.</p>
<a id="Unicode-8.0-is-now-supported"></a><h3 class='h3' >Unicode 8.0 is now supported</h3>
<p>For details on what is in this release, see
<a href="http://www.unicode.org/versions/Unicode8.0.0/">http://www.unicode.org/versions/Unicode8.0.0/</a>.</p>
<a id="perl-will-now-croak-when-closing-an-in-place-output-file-fails"></a><h3 class='h3' >perl will now croak when closing an in-place output file fails</h3>
<p>Until now, failure to close the output file for an in-place edit was not
detected, meaning that the input file could be clobbered without the edit being
successfully completed.  Now, when the output file cannot be closed
successfully, an exception is raised.</p>
<a id="New-%5cb%7blb%7d-boundary-in-regular-expressions"></a><h3 class='h3' >New <pre>
\<span class="i">b</span><span class="s">{</span><span class="w">lb</span><span class="s">}</span></code>
 boundary in regular expressions</h3>
<p><pre>
<span class="w">lb</span></code>
 stands for Line Break.  It is a Unicode property
that determines where a line of text is suitable to break (typically so
that it can be output without overflowing the available horizontal
space).  This capability has long been furnished by the
<a href="https://search.cpan.org/perldoc/Unicode::LineBreak">Unicode::LineBreak</a> module, but now a light-weight, non-customizable
version that is suitable for many purposes is in core Perl.</p>
<a id="qr%2f(%3f%5b-%5d)%2f-now-works-in-UTF-8-locales"></a><h3 class='h3' ><pre>
<span class="q">qr/(?[ ])/</span></code>
 now works in UTF-8 locales</h3>
<p><a href="perlrecharclass.html#Extended-Bracketed-Character-Classes">Extended Bracketed Character Classes</a>
now will successfully compile when <pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">locale</span></code>
 is in effect.  The compiled
pattern will use standard Unicode rules.  If the runtime locale is not a
UTF-8 one, a warning is raised and standard Unicode rules are used
anyway.  No tainting is done since the outcome does not actually depend
on the locale.</p>
<a id="Integer-shift-(%3c%3c-and-%3e%3e)-now-more-explicitly-defined"></a><h3 class='h3' >Integer shift (<pre>
&lt;&lt;</code>
 and <pre>
&gt;&gt;</code>
) now more explicitly defined</h3>
<p>Negative shifts are reverse shifts: left shift becomes right shift,
and right shift becomes left shift.</p>
<p>Shifting by the number of bits in a native integer (or more) is zero,
except when the "overshift" is right shifting a negative value under
<pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">integer</span></code>
, in which case the result is -1 (arithmetic shift).</p>
<p>Until now negative shifting and overshifting have been undefined
because they have relied on whatever the C implementation happens
to do.  For example, for the overshift a common C behavior is
"modulo shift":</p>
<pre>
  <span class="n">1</span> &gt;&gt; <span class="n">64</span> == <span class="n">1</span> &gt;&gt; <span class="s">(</span><span class="n">64</span> % <span class="n">64</span><span class="s">)</span> == <span class="n">1</span> &gt;&gt; <span class="n">0</span> == <span class="n">1</span>  <span class="c"># Common C behavior.</span>

  <span class="c"># And the same for &lt;&lt;, while Perl now produces 0 for both.</span></pre>
<p>Now these behaviors are well-defined under Perl, regardless of what
the underlying C implementation does.  Note, however, that you are still
constrained by the native integer width: you need to know how far left you
can go.  You can use for example:</p>
<pre>
  <a class="l_k" href="functions/use.html">use</a> <span class="w">Config</span><span class="sc">;</span>
  <a class="l_k" href="functions/my.html">my</a> <span class="i">$wordbits</span> = <span class="i">$Config</span>{<span class="w">uvsize</span>} * <span class="n">8</span><span class="sc">;</span>  <span class="c"># Or $Config{uvsize} &lt;&lt; 3.</span></pre>
<p>If you need a more bits on the left shift, you can use for example
the <pre>
<span class="w">bigint</span></code>
 pragma, or the <pre>
<span class="w">Bit::Vector</span></code>
 module from CPAN.</p>
<a id="printf-and-sprintf-now-allow-reordered-precision-arguments"></a><h3 class='h3' >printf and sprintf now allow reordered precision arguments</h3>
<p>That is, <pre>
<a class="l_k" href="functions/sprintf.html">sprintf</a> <span class="q">&#39;|%.*2$d|&#39;</span><span class="cm">,</span> <span class="n">2</span><span class="cm">,</span> <span class="n">3</span></code>
 now returns <code class="inline">|002|</code>. This extends
the existing reordering mechanism (which allows reordering for arguments
that are used as format fields, widths, and vector separators).</p>
<a id="More-fields-provided-to-sigaction-callback-with-SA_SIGINFO"></a><h3 class='h3' >More fields provided to <pre>
<span class="w">sigaction</span></code>
 callback with <pre>
<span class="w">SA_SIGINFO</span></code>
</h3>
<p>When passing the <pre>
<span class="w">SA_SIGINFO</span></code>
 flag to <a href="POSIX.html#sigaction">sigaction</a>, the
<pre>
<span class="w">errno</span></code>
, <pre>
<span class="w">status</span></code>
, <pre>
<span class="w">uid</span></code>
, <pre>
<span class="w">pid</span></code>
, <pre>
<span class="w">addr</span></code>
 and <pre>
<span class="w">band</span></code>
 fields are now
included in the hash passed to the handler, if supported by the
platform.</p>
<a id="Hashbang-redirection-to-Perl-6"></a><h3 class='h3' >Hashbang redirection to Perl 6</h3>
<p>Previously perl would redirect to another interpreter if it found a
hashbang path unless the path contains "perl" (see <a href="perlrun.html">perlrun</a>). To improve
compatibility with Perl 6 this behavior has been extended to also redirect
if "perl" is followed by "6".</p>
<a id="Security"></a><h2 class='h2' >Security</h2>
<a id="Set-proper-umask-before-calling-mkstemp(3)"></a><h3 class='h3' >Set proper umask before calling <pre>
<span class="i">mkstemp</span><span class="s">(</span><span class="n">3</span><span class="s">)</span></code>
</h3>
<p>In 5.22 perl started setting umask to 0600 before calling <pre>
<span class="i">mkstemp</span><span class="s">(</span><span class="n">3</span><span class="s">)</span></code>

and restoring it afterwards. This wrongfully tells <code class="inline"><a class="l_k" href="functions/open.html">open(2)</a></code> to strip
the owner read and write bits from the given mode before applying it,
rather than the intended negation of leaving only those bits in place.</p>
<p>Systems that use mode 0666 in <pre>
<span class="i">mkstemp</span><span class="s">(</span><span class="n">3</span><span class="s">)</span></code>
 (like old versions of
glibc) create a file with permissions 0066, leaving world read and
write permissions regardless of current umask.</p>
<p>This has been fixed by using umask 0177 instead. [perl #127322]</p>
<a id="Fix-out-of-boundary-access-in-Win32-path-handling"></a><h3 class='h3' >Fix out of boundary access in Win32 path handling</h3>
<p>This is CVE-2015-8608.  For more information see
<a href="https://rt.perl.org/Ticket/Display.html?id=126755">[perl #126755]</a></p>
<a id="Fix-loss-of-taint-in-canonpath"></a><h3 class='h3' >Fix loss of taint in canonpath</h3>
<p>This is CVE-2015-8607.  For more information see
<a href="https://rt.perl.org/Ticket/Display.html?id=126862">[perl #126862]</a></p>
<a id="Avoid-accessing-uninitialized-memory-in-win32-crypt()"></a><h3 class='h3' >Avoid accessing uninitialized memory in win32 <code class="inline"><a class="l_k" href="functions/crypt.html">crypt()</a></code></h3>
<p>Added validation that will detect both a short salt and invalid characters
in the salt.
<a href="https://rt.perl.org/Ticket/Display.html?id=126922">[perl #126922]</a></p>
<a id="Remove-duplicate-environment-variables-from-environ"></a><h3 class='h3' >Remove duplicate environment variables from <pre>
<span class="w">environ</span></code>
</h3>
<p>Previously, if an environment variable appeared more than once in
<pre>
<span class="w">environ</span><span class="s">[</span><span class="s">]</span></code>
, <pre>
<span class="i">%ENV</span></code>
 would contain the last entry for that name,
while a typical <pre>
<span class="i">getenv</span><span class="s">(</span><span class="s">)</span></code>
 would return the first entry. We now
make sure <pre>
<span class="i">%ENV</span></code>
 contains the same as what <pre>
<span class="w">getenv</span></code>
 returns.</p>
<p>Second, we remove duplicates from <pre>
<span class="w">environ</span><span class="s">[</span><span class="s">]</span></code>
, so if a setting
with that name is set in <pre>
<span class="i">%ENV</span></code>
, we won't pass an unsafe value
to a child process.</p>
<p>[CVE-2016-2381]</p>
<a id="Incompatible-Changes"></a><h2 class='h2' >Incompatible Changes</h2>
<a id="The-autoderef-feature-has-been-removed"></a><h3 class='h3' >The <pre>
<span class="w">autoderef</span></code>
 feature has been removed</h3>
<p>The experimental <pre>
<span class="w">autoderef</span></code>
 feature (which allowed calling <code class="inline"><a class="l_k" href="functions/push.html">push</a></code>,
<code class="inline"><a class="l_k" href="functions/pop.html">pop</a></code>, <code class="inline"><a class="l_k" href="functions/shift.html">shift</a></code>, <code class="inline"><a class="l_k" href="functions/unshift.html">unshift</a></code>, <code class="inline"><a class="l_k" href="functions/splice.html">splice</a></code>, <code class="inline"><a class="l_k" href="functions/keys.html">keys</a></code>, <code class="inline"><a class="l_k" href="functions/values.html">values</a></code>, and <code class="inline"><a class="l_k" href="functions/each.html">each</a></code> on
a scalar argument) has been deemed unsuccessful. It has now been removed;
trying to use the feature (or to disable the <pre>
<span class="w">experimental::autoderef</span></code>

warning it previously triggered) now yields an exception.</p>
<a id="Lexical-%24_-has-been-removed"></a><h3 class='h3' >Lexical $_ has been removed</h3>
<p><pre>
<a class="l_k" href="functions/my.html">my</a> <span class="i">$_</span></code>
 was introduced in Perl 5.10, and subsequently caused much confusion
with no obvious solution.  In Perl 5.18.0, it was made experimental on the
theory that it would either be removed or redesigned in a less confusing (but
backward-incompatible) way.  Over the following years, no alternatives were
proposed.  The feature has now been removed and will fail to compile.</p>
<a id="qr%2f%5cb%7bwb%7d%2f-is-now-tailored-to-Perl-expectations"></a><h3 class='h3' ><code class="inline"><a class="l_k" href="functions/qr.html">qr/\b{wb}/</a></code> is now tailored to Perl expectations</h3>
<p>This is now more suited to be a drop-in replacement for plain <pre>
\<span class="w">b</span></code>
, but
giving better results for parsing natural language.  Previously it
strictly followed the current Unicode rules which calls for it to match
between each white space character.  Now it doesn't generally match
within spans of white space, behaving like <pre>
\<span class="w">b</span></code>
 does.  See
<a href="perlrebackslash.html#%5cb%7bwb%7d">\b{wb} in perlrebackslash</a></p>
<a id="Regular-expression-compilation-errors"></a><h3 class='h3' >Regular expression compilation errors</h3>
<p>Some regular expression patterns that had runtime errors now
don't compile at all.</p>
<p>Almost all Unicode properties using the <pre>
\<span class="w">p</span><span class="s">{</span><span class="s">}</span></code>
 and <pre>
\<span class="w">P</span><span class="s">{</span><span class="s">}</span></code>
 regular
expression pattern constructs are now checked for validity at pattern
compilation time, and invalid ones will cause the program to not
compile.  In earlier releases, this check was often deferred until run
time.  Whenever an error check is moved from run- to compile time,
erroneous code is caught 100% of the time, whereas before it would only
get caught if and when the offending portion actually gets executed,
which for unreachable code might be never.</p>
<a id="qr%2f%5cN%7b%7d%2f-now-disallowed-under-use-re-%22strict%22"></a><h3 class='h3' ><code class="inline"><a class="l_k" href="functions/qr.html">qr/\N{}/</a></code> now disallowed under <pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&quot;strict&quot;</span></code>
</h3>
<p>An empty <pre>
\<span class="w">N</span><span class="s">{</span><span class="s">}</span></code>
 makes no sense, but for backwards compatibility is
accepted as doing nothing, though a deprecation warning is raised by
default.  But now this is a fatal error under the experimental feature
<a href="re.html#'strict'-mode">'strict' mode in re</a>.</p>
<a id="Nested-declarations-are-now-disallowed"></a><h3 class='h3' >Nested declarations are now disallowed</h3>
<p>A <code class="inline"><a class="l_k" href="functions/my.html">my</a></code>, <code class="inline"><a class="l_k" href="functions/our.html">our</a></code>, or <code class="inline"><a class="l_k" href="functions/state.html">state</a></code> declaration is no longer allowed inside
of another <code class="inline"><a class="l_k" href="functions/my.html">my</a></code>, <code class="inline"><a class="l_k" href="functions/our.html">our</a></code>, or <code class="inline"><a class="l_k" href="functions/state.html">state</a></code> declaration.</p>
<p>For example, these are now fatal:</p>
<pre>
   <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">$x</span><span class="cm">,</span> <a class="l_k" href="functions/my.html">my</a><span class="s">(</span><span class="i">$y</span><span class="s">)</span><span class="s">)</span><span class="sc">;</span>
   <a class="l_k" href="functions/our.html">our</a> <span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$x</span><span class="s">)</span><span class="sc">;</span></pre>
<p><a href="https://rt.perl.org/Ticket/Display.html?id=125587">[perl #125587]</a></p>
<p><a href="https://rt.perl.org/Ticket/Display.html?id=121058">[perl #121058]</a></p>
<a id="The-%2f%5cC%2f-character-class-has-been-removed."></a><h3 class='h3' >The <pre>
<span class="q">/\C/</span></code>
 character class has been removed.</h3>
<p>This regular expression character class was deprecated in v5.20.0 and has
produced a deprecation warning since v5.22.0. It is now a compile-time
error. If you need to examine the individual bytes that make up a
UTF8-encoded character, then use <pre>
<span class="i">utf8::encode</span><span class="s">(</span><span class="s">)</span></code>
 on the string (or a
copy) first.</p>
<a id="chdir('')-no-longer-chdirs-home"></a><h3 class='h3' ><code class="inline"><a class="l_k" href="functions/chdir.html">chdir('')</a></code> no longer chdirs home</h3>
<p>Using <code class="inline"><a class="l_k" href="functions/chdir.html">chdir('')</a></code> or <code class="inline"><a class="l_k" href="functions/chdir.html">chdir(undef)</a></code> to chdir home has been deprecated since
perl v5.8, and will now fail.  Use <code class="inline"><a class="l_k" href="functions/chdir.html">chdir()</a></code> instead.</p>
<a id="ASCII-characters-in-variable-names-must-now-be-all-visible"></a><h3 class='h3' >ASCII characters in variable names must now be all visible</h3>
<p>It was legal until now on ASCII platforms for variable names to contain
non-graphical ASCII control characters (ordinals 0 through 31, and 127,
which are the C0 controls and <pre>
<span class="w">DELETE</span></code>
).  This usage has been
deprecated since v5.20, and as of now causes a syntax error.  The
variables these names referred to are special, reserved by Perl for
whatever use it may choose, now, or in the future.  Each such variable
has an alternative way of spelling it.  Instead of the single
non-graphic control character, a two character sequence beginning with a
caret is used, like <pre>
<span class="i">$^]</span></code>
 and <pre>
<span class="i">$</span>{<span class="w">^GLOBAL_PHASE</span>}</code>
.  Details are at
<a href="perlvar.html">perlvar</a>.   It remains legal, though unwise and deprecated (raising a
deprecation warning), to use certain non-graphic non-ASCII characters in
variables names when not under <pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">utf8</span></code>
.  No code should do this,
as all such variables are reserved by Perl, and Perl doesn't currently
define any of them (but could at any time, without notice).</p>
<a id="An-off-by-one-issue-in-%24Carp%3a%3aMaxArgNums-has-been-fixed"></a><h3 class='h3' >An off by one issue in <pre>
<span class="i">$Carp::MaxArgNums</span></code>
 has been fixed</h3>
<p><pre>
<span class="i">$Carp::MaxArgNums</span></code>
 is supposed to be the number of arguments to display.
Prior to this version, it was instead showing <pre>
<span class="i">$Carp::MaxArgNums</span></code>
 + 1 arguments,
contrary to the documentation.</p>
<a id="Only-blanks-and-tabs-are-now-allowed-within-%5b...%5d-within-(%3f%5b...%5d)."></a><h3 class='h3' >Only blanks and tabs are now allowed within <pre>
<span class="s">[</span>...<span class="s">]</span></code>
 within <code class="inline">(?[...])</code>.</h3>
<p>The experimental Extended Bracketed Character Classes can contain regular
bracketed character classes within them.  These differ from regular ones in
that white space is generally ignored, unless escaped by preceding it with a
backslash.  The white space that is ignored is now limited to just tab <pre>
\<span class="w">t</span></code>

and SPACE characters.  Previously, it was any white space.  See
<a href="perlrecharclass.html#Extended-Bracketed-Character-Classes">Extended Bracketed Character Classes in perlrecharclass</a>.</p>
<a id="Deprecations"></a><h2 class='h2' >Deprecations</h2>
<a id="Using-code-points-above-the-platform's-IV_MAX-is-now-deprecated"></a><h3 class='h3' >Using code points above the platform's <pre>
<span class="w">IV_MAX</span></code>
 is now deprecated</h3>
<p>Unicode defines code points in the range <pre>
<span class="n">0</span>..<span class="n">0x10FFFF</span></code>
.  Some standards
at one time defined them up to 2**31 - 1, but Perl has allowed them to
be as high as anything that will fit in a word on the platform being
used.  However, use of those above the platform's <pre>
<span class="w">IV_MAX</span></code>
 is broken in
some constructs, notably <code class="inline"><a class="l_k" href="functions/tr.html">tr///</a></code>, regular expression patterns involving
quantifiers, and in some arithmetic and comparison operations, such as
being the upper limit of a loop.  Now the use of such code points raises
a deprecation warning, unless that warning category is turned off.
<pre>
<span class="w">IV_MAX</span></code>
 is typically 2**31 -1 on 32-bit platforms, and 2**63-1 on
64-bit ones.</p>
<a id="Doing-bitwise-operations-on-strings-containing-code-points-above-0xFF-is-deprecated"></a><h3 class='h3' >Doing bitwise operations on strings containing code points above
0xFF is deprecated</h3>
<p>The string bitwise operators treat their operands as strings of bytes,
and values beyond 0xFF are nonsensical in this context.  To operate on
encoded bytes, first encode the strings.  To operate on code points'
numeric values, use <code class="inline"><a class="l_k" href="functions/split.html">split</a></code> and <pre>
<a class="l_k" href="functions/map.html">map</a> <a class="l_k" href="functions/ord.html">ord</a></code>
.  In the future, this
warning will be replaced by an exception.</p>
<a id="sysread()%2c-syswrite()%2c-recv()-and-send()-are-deprecated-on-%3autf8-handles"></a><h3 class='h3' ><code class="inline"><a class="l_k" href="functions/sysread.html">sysread()</a></code>, <code class="inline"><a class="l_k" href="functions/syswrite.html">syswrite()</a></code>, <code class="inline"><a class="l_k" href="functions/recv.html">recv()</a></code> and <code class="inline"><a class="l_k" href="functions/send.html">send()</a></code> are deprecated on
:utf8 handles</h3>
<p>The <code class="inline"><a class="l_k" href="functions/sysread.html">sysread()</a></code>, <code class="inline"><a class="l_k" href="functions/recv.html">recv()</a></code>, <code class="inline"><a class="l_k" href="functions/syswrite.html">syswrite()</a></code> and <code class="inline"><a class="l_k" href="functions/send.html">send()</a></code> operators
are deprecated on handles that have the <pre>
<span class="j">:</span><span class="w">utf8</span></code>
 layer, either
explicitly, or implicitly, eg., with the <pre>
<span class="j">:</span><span class="i">encoding</span><span class="s">(</span><span class="w">UTF</span>-<span class="n">16</span>LE<span class="s">)</span></code>
 layer.</p>
<p>Both <code class="inline"><a class="l_k" href="functions/sysread.html">sysread()</a></code> and <code class="inline"><a class="l_k" href="functions/recv.html">recv()</a></code> currently use only the <pre>
<span class="j">:</span><span class="w">utf8</span></code>
 flag for the
stream, ignoring the actual layers.  Since <code class="inline"><a class="l_k" href="functions/sysread.html">sysread()</a></code> and <code class="inline"><a class="l_k" href="functions/recv.html">recv()</a></code> do no
UTF-8 validation they can end up creating invalidly encoded scalars.</p>
<p>Similarly, <code class="inline"><a class="l_k" href="functions/syswrite.html">syswrite()</a></code> and <code class="inline"><a class="l_k" href="functions/send.html">send()</a></code> use only the <pre>
<span class="j">:</span><span class="w">utf8</span></code>
 flag, otherwise
ignoring any layers.  If the flag is set, both write the value UTF-8
encoded, even if the layer is some different encoding, such as the
example above.</p>
<p>Ideally, all of these operators would completely ignore the <pre>
<span class="j">:</span><span class="w">utf8</span></code>

state, working only with bytes, but this would result in silently
breaking existing code.  To avoid this a future version of perl will
throw an exception when any of <code class="inline"><a class="l_k" href="functions/sysread.html">sysread()</a></code>, <code class="inline"><a class="l_k" href="functions/recv.html">recv()</a></code>, <code class="inline"><a class="l_k" href="functions/syswrite.html">syswrite()</a></code> or <code class="inline"><a class="l_k" href="functions/send.html">send()</a></code>
are called on handle with the <pre>
<span class="j">:</span><span class="w">utf8</span></code>
 layer.</p>
<a id="Performance-Enhancements"></a><h2 class='h2' >Performance Enhancements</h2>
<ul>
<li>
<p>The overhead of scope entry and exit has been considerably reduced, so
for example subroutine calls, loops and basic blocks are all faster now.
This empty function call now takes about a third less time to execute:</p>
<pre>
<a name="f"></a>    sub <span class="m">f</span><span class="s">{</span><span class="s">}</span> <span class="i">f</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></pre>
</li>
<li>
<p>Many languages, such as Chinese, are caseless.  Perl now knows about
most common ones, and skips much of the work when
a program tries to change case in them (like <code class="inline"><a class="l_k" href="functions/ucfirst.html">ucfirst()</a></code>) or match
caselessly (<code class="inline"><a class="l_k" href="functions/qr.html">qr//i</a></code>).  This will speed up a program, such as a web
server, that can operate on multiple languages, while it is operating on a
caseless one.</p>
</li>
<li>
<p><pre>
<span class="q">/fixed-substr/</span></code>
 has been made much faster.</p>
<p>On platforms with a libc <pre>
<span class="i">memchr</span><span class="s">(</span><span class="s">)</span></code>
 implementation which makes good use of
underlying hardware support, patterns which include fixed substrings will now
often be much faster; for example with glibc on a recent x86_64 CPU, this:</p>
<pre>
    <span class="i">$s</span> = <span class="q">&quot;a&quot;</span> x <span class="n">1000</span> . <span class="q">&quot;wxyz&quot;</span><span class="sc">;</span>
    <span class="i">$s</span> =~ <span class="q">/wxyz/</span> <a class="l_k" href="functions/for.html">for</a> <span class="n">1</span>..<span class="n">30000</span></pre>
<p>is now about 7 times faster.  On systems with slow <pre>
<span class="i">memchr</span><span class="s">(</span><span class="s">)</span></code>
, e.g. 32-bit ARM
Raspberry Pi, there will be a small or little speedup.  Conversely, some
pathological cases, such as <pre>
<span class="q">&quot;ab&quot;</span> x <span class="n">1000</span> =~ <span class="q">/aa/</span></code>
 will be slower now; up to 3
times slower on the rPi, 1.5x slower on x86_64.</p>
</li>
<li>
<p>Faster addition, subtraction and multiplication.</p>
<p>Since 5.8.0, arithmetic became slower due to the need to support
64-bit integers. To deal with 64-bit integers, a lot more corner
cases need to be checked, which adds time. We now detect common
cases where there is no need to check for those corner cases,
and special-case them.</p>
</li>
<li>
<p>Preincrement, predecrement, postincrement, and postdecrement have been
made faster by internally splitting the functions which handled multiple
cases into different functions.</p>
</li>
<li>
<p>Creating Perl debugger data structures (see <a href="perldebguts.html#Debugger-Internals">Debugger Internals in perldebguts</a>)
for XSUBs and const subs has been removed.  This removed one glob/scalar combo
for each unique <code class="inline">.c</code> file that XSUBs and const subs came from.  On startup
(<pre>
<span class="w">perl</span> -e<span class="q">&quot;0&quot;</span></code>
) about half a dozen glob/scalar debugger combos were created.
Loading XS modules created more glob/scalar combos.  These things were
being created regardless of whether the perl debugger was being used,
and despite the fact that it can't debug C code anyway</p>
</li>
<li>
<p>On Win32, <code class="inline"><a class="l_k" href="functions/stat.html">stat</a></code>ing or <code class="inline"><a class="l_k" href="functions/-X.html">-X</a></code>ing a path, if the file or directory does not
exist, is now 3.5x faster than before.</p>
</li>
<li>
<p>Single arguments in list assign are now slightly faster:</p>
<pre>
  <span class="s">(</span><span class="i">$x</span><span class="s">)</span> = <span class="s">(</span>...<span class="s">)</span><span class="sc">;</span>
  <span class="s">(</span>...<span class="s">)</span> = <span class="s">(</span><span class="i">$x</span><span class="s">)</span><span class="sc">;</span></pre>
</li>
<li>
<p>Less peak memory is now used when compiling regular expression patterns.</p>
</li>
</ul>
<a id="Modules-and-Pragmata"></a><h2 class='h2' >Modules and Pragmata</h2>
<a id="Updated-Modules-and-Pragmata"></a><h3 class='h3' >Updated Modules and Pragmata</h3>
<ul>
<li>
<p><a href="arybase.html">arybase</a> has been upgraded from version 0.10 to 0.11.</p>
</li>
<li>
<p><a href="Attribute/Handlers.html">Attribute::Handlers</a> has been upgraded from version 0.97 to 0.99.</p>
</li>
<li>
<p><a href="autodie.html">autodie</a> has been upgraded from version 2.26 to 2.29.</p>
</li>
<li>
<p><a href="autouse.html">autouse</a> has been upgraded from version 1.08 to 1.11.</p>
</li>
<li>
<p><a href="B.html">B</a> has been upgraded from version 1.58 to 1.62.</p>
</li>
<li>
<p><a href="B/Deparse.html">B::Deparse</a> has been upgraded from version 1.35 to 1.37.</p>
</li>
<li>
<p><a href="base.html">base</a> has been upgraded from version 2.22 to 2.23.</p>
</li>
<li>
<p><a href="Benchmark.html">Benchmark</a> has been upgraded from version 1.2 to 1.22.</p>
</li>
<li>
<p><a href="bignum.html">bignum</a> has been upgraded from version 0.39 to 0.42.</p>
</li>
<li>
<p><a href="bytes.html">bytes</a> has been upgraded from version 1.04 to 1.05.</p>
</li>
<li>
<p><a href="Carp.html">Carp</a> has been upgraded from version 1.36 to 1.40.</p>
</li>
<li>
<p><a href="Compress/Raw/Bzip2.html">Compress::Raw::Bzip2</a> has been upgraded from version 2.068 to 2.069.</p>
</li>
<li>
<p><a href="Compress/Raw/Zlib.html">Compress::Raw::Zlib</a> has been upgraded from version 2.068 to 2.069.</p>
</li>
<li>
<p><a href="Config/Perl/V.html">Config::Perl::V</a> has been upgraded from version 0.24 to 0.25.</p>
</li>
<li>
<p><a href="CPAN/Meta.html">CPAN::Meta</a> has been upgraded from version 2.150001 to 2.150005.</p>
</li>
<li>
<p><a href="CPAN/Meta/Requirements.html">CPAN::Meta::Requirements</a> has been upgraded from version 2.132 to 2.140.</p>
</li>
<li>
<p><a href="CPAN/Meta/YAML.html">CPAN::Meta::YAML</a> has been upgraded from version 0.012 to 0.018.</p>
</li>
<li>
<p><a href="Data/Dumper.html">Data::Dumper</a> has been upgraded from version 2.158 to 2.160.</p>
</li>
<li>
<p><a href="Devel/Peek.html">Devel::Peek</a> has been upgraded from version 1.22 to 1.23.</p>
</li>
<li>
<p><a href="Devel/PPPort.html">Devel::PPPort</a> has been upgraded from version 3.31 to 3.32.</p>
</li>
<li>
<p><a href="Dumpvalue.html">Dumpvalue</a> has been upgraded from version 1.17 to 1.18.</p>
</li>
<li>
<p><a href="DynaLoader.html">DynaLoader</a> has been upgraded from version 1.32 to 1.38.</p>
</li>
<li>
<p><a href="Encode.html">Encode</a> has been upgraded from version 2.72 to 2.80.</p>
</li>
<li>
<p><a href="encoding.html">encoding</a> has been upgraded from version 2.14 to 2.17.</p>
</li>
<li>
<p><a href="encoding/warnings.html">encoding::warnings</a> has been upgraded from version 0.11 to 0.12.</p>
</li>
<li>
<p><a href="English.html">English</a> has been upgraded from version 1.09 to 1.10.</p>
</li>
<li>
<p><a href="Errno.html">Errno</a> has been upgraded from version 1.23 to 1.25.</p>
</li>
<li>
<p><a href="experimental.html">experimental</a> has been upgraded from version 0.013 to 0.016.</p>
</li>
<li>
<p><a href="ExtUtils/CBuilder.html">ExtUtils::CBuilder</a> has been upgraded from version 0.280221 to 0.280225.</p>
</li>
<li>
<p><a href="ExtUtils/Embed.html">ExtUtils::Embed</a> has been upgraded from version 1.32 to 1.33.</p>
</li>
<li>
<p><a href="ExtUtils/MakeMaker.html">ExtUtils::MakeMaker</a> has been upgraded from version 7.04_01 to 7.10_01.</p>
</li>
<li>
<p><a href="ExtUtils/ParseXS.html">ExtUtils::ParseXS</a> has been upgraded from version 3.28 to 3.31.</p>
</li>
<li>
<p><a href="ExtUtils/Typemaps.html">ExtUtils::Typemaps</a> has been upgraded from version 3.28 to 3.31.</p>
</li>
<li>
<p><a href="feature.html">feature</a> has been upgraded from version 1.40 to 1.42.</p>
</li>
<li>
<p><a href="fields.html">fields</a> has been upgraded from version 2.17 to 2.23.</p>
</li>
<li>
<p><a href="File/Find.html">File::Find</a> has been upgraded from version 1.29 to 1.34.</p>
</li>
<li>
<p><a href="File/Glob.html">File::Glob</a> has been upgraded from version 1.24 to 1.26.</p>
</li>
<li>
<p><a href="File/Path.html">File::Path</a> has been upgraded from version 2.09 to 2.12_01.</p>
</li>
<li>
<p><a href="File/Spec.html">File::Spec</a> has been upgraded from version 3.56 to 3.63.</p>
</li>
<li>
<p><a href="Filter/Util/Call.html">Filter::Util::Call</a> has been upgraded from version 1.54 to 1.55.</p>
</li>
<li>
<p><a href="Getopt/Long.html">Getopt::Long</a> has been upgraded from version 2.45 to 2.48.</p>
</li>
<li>
<p><a href="Hash/Util.html">Hash::Util</a> has been upgraded from version 0.18 to 0.19.</p>
</li>
<li>
<p><a href="Hash/Util/FieldHash.html">Hash::Util::FieldHash</a> has been upgraded from version 1.15 to 1.19.</p>
</li>
<li>
<p><a href="HTTP/Tiny.html">HTTP::Tiny</a> has been upgraded from version 0.054 to 0.056.</p>
</li>
<li>
<p><a href="I18N/Langinfo.html">I18N::Langinfo</a> has been upgraded from version 0.12 to 0.13.</p>
</li>
<li>
<p><a href="if.html">if</a> has been upgraded from version 0.0604 to 0.0606.</p>
</li>
<li>
<p><a href="IO.html">IO</a> has been upgraded from version 1.35 to 1.36.</p>
</li>
<li>
<p>IO-Compress has been upgraded from version 2.068 to 2.069.</p>
</li>
<li>
<p><a href="IPC/Open3.html">IPC::Open3</a> has been upgraded from version 1.18 to 1.20.</p>
</li>
<li>
<p><a href="IPC/SysV.html">IPC::SysV</a> has been upgraded from version 2.04 to 2.06_01.</p>
</li>
<li>
<p><a href="List/Util.html">List::Util</a> has been upgraded from version 1.41 to 1.42_02.</p>
</li>
<li>
<p><a href="locale.html">locale</a> has been upgraded from version 1.06 to 1.08.</p>
</li>
<li>
<p><a href="Locale/Codes.html">Locale::Codes</a> has been upgraded from version 3.34 to 3.37.</p>
</li>
<li>
<p><a href="Math/BigInt.html">Math::BigInt</a> has been upgraded from version 1.9997 to 1.999715.</p>
</li>
<li>
<p><a href="Math/BigInt/FastCalc.html">Math::BigInt::FastCalc</a> has been upgraded from version 0.31 to 0.40.</p>
</li>
<li>
<p><a href="Math/BigRat.html">Math::BigRat</a> has been upgraded from version 0.2608 to 0.260802.</p>
</li>
<li>
<p><a href="Module/CoreList.html">Module::CoreList</a> has been upgraded from version 5.20150520 to 5.20160320.</p>
</li>
<li>
<p><a href="Module/Metadata.html">Module::Metadata</a> has been upgraded from version 1.000026 to 1.000031.</p>
</li>
<li>
<p><a href="mro.html">mro</a> has been upgraded from version 1.17 to 1.18.</p>
</li>
<li>
<p><a href="https://search.cpan.org/perldoc/ODBM_File">ODBM_File</a> has been upgraded from version 1.12 to 1.14.</p>
</li>
<li>
<p><a href="Opcode.html">Opcode</a> has been upgraded from version 1.32 to 1.34.</p>
</li>
<li>
<p><a href="parent.html">parent</a> has been upgraded from version 0.232 to 0.234.</p>
</li>
<li>
<p><a href="Parse/CPAN/Meta.html">Parse::CPAN::Meta</a> has been upgraded from version 1.4414 to 1.4417.</p>
</li>
<li>
<p><a href="Perl/OSType.html">Perl::OSType</a> has been upgraded from version 1.008 to 1.009.</p>
</li>
<li>
<p><a href="perlfaq.html">perlfaq</a> has been upgraded from version 5.021009 to 5.021010.</p>
</li>
<li>
<p><a href="PerlIO/encoding.html">PerlIO::encoding</a> has been upgraded from version 0.21 to 0.24.</p>
</li>
<li>
<p><a href="PerlIO/mmap.html">PerlIO::mmap</a> has been upgraded from version 0.014 to 0.016.</p>
</li>
<li>
<p><a href="PerlIO/scalar.html">PerlIO::scalar</a> has been upgraded from version 0.22 to 0.24.</p>
</li>
<li>
<p><a href="PerlIO/via.html">PerlIO::via</a> has been upgraded from version 0.15 to 0.16.</p>
</li>
<li>
<p><a href="Pod/Functions.html">Pod::Functions</a> has been upgraded from version 1.09 to 1.10.</p>
</li>
<li>
<p><a href="Pod/Perldoc.html">Pod::Perldoc</a> has been upgraded from version 3.25 to 3.25_02.</p>
</li>
<li>
<p><a href="Pod/Simple.html">Pod::Simple</a> has been upgraded from version 3.29 to 3.32.</p>
</li>
<li>
<p><a href="Pod/Usage.html">Pod::Usage</a> has been upgraded from version 1.64 to 1.68.</p>
</li>
<li>
<p><a href="POSIX.html">POSIX</a> has been upgraded from version 1.53 to 1.65.</p>
</li>
<li>
<p><a href="Scalar/Util.html">Scalar::Util</a> has been upgraded from version 1.41 to 1.42_02.</p>
</li>
<li>
<p><a href="SDBM_File.html">SDBM_File</a> has been upgraded from version 1.13 to 1.14.</p>
</li>
<li>
<p><a href="SelfLoader.html">SelfLoader</a> has been upgraded from version 1.22 to 1.23.</p>
</li>
<li>
<p><a href="Socket.html">Socket</a> has been upgraded from version 2.018 to 2.020_03.</p>
</li>
<li>
<p><a href="Storable.html">Storable</a> has been upgraded from version 2.53 to 2.56.</p>
</li>
<li>
<p><a href="strict.html">strict</a> has been upgraded from version 1.09 to 1.11.</p>
</li>
<li>
<p><a href="Term/ANSIColor.html">Term::ANSIColor</a> has been upgraded from version 4.03 to 4.04.</p>
</li>
<li>
<p><a href="Term/Cap.html">Term::Cap</a> has been upgraded from version 1.15 to 1.17.</p>
</li>
<li>
<p><a href="Test.html">Test</a> has been upgraded from version 1.26 to 1.28.</p>
</li>
<li>
<p><a href="Test/Harness.html">Test::Harness</a> has been upgraded from version 3.35 to 3.36.</p>
</li>
<li>
<p><a href="Thread/Queue.html">Thread::Queue</a> has been upgraded from version 3.05 to 3.08.</p>
</li>
<li>
<p><a href="threads.html">threads</a> has been upgraded from version 2.01 to 2.06.</p>
</li>
<li>
<p><a href="threads/shared.html">threads::shared</a> has been upgraded from version 1.48 to 1.50.</p>
</li>
<li>
<p><a href="Tie/File.html">Tie::File</a> has been upgraded from version 1.01 to 1.02.</p>
</li>
<li>
<p><a href="Tie/Scalar.html">Tie::Scalar</a> has been upgraded from version 1.03 to 1.04.</p>
</li>
<li>
<p><a href="Time/HiRes.html">Time::HiRes</a> has been upgraded from version 1.9726 to 1.9732.</p>
</li>
<li>
<p><a href="Time/Piece.html">Time::Piece</a> has been upgraded from version 1.29 to 1.31.</p>
</li>
<li>
<p><a href="Unicode/Collate.html">Unicode::Collate</a> has been upgraded from version 1.12 to 1.14.</p>
</li>
<li>
<p><a href="Unicode/Normalize.html">Unicode::Normalize</a> has been upgraded from version 1.18 to 1.25.</p>
</li>
<li>
<p><a href="Unicode/UCD.html">Unicode::UCD</a> has been upgraded from version 0.61 to 0.64.</p>
</li>
<li>
<p><a href="UNIVERSAL.html">UNIVERSAL</a> has been upgraded from version 1.12 to 1.13.</p>
</li>
<li>
<p><a href="utf8.html">utf8</a> has been upgraded from version 1.17 to 1.19.</p>
</li>
<li>
<p><a href="version.html">version</a> has been upgraded from version 0.9909 to 0.9916.</p>
</li>
<li>
<p><a href="warnings.html">warnings</a> has been upgraded from version 1.32 to 1.36.</p>
</li>
<li>
<p><a href="https://search.cpan.org/perldoc/Win32">Win32</a> has been upgraded from version 0.51 to 0.52.</p>
</li>
<li>
<p><a href="https://search.cpan.org/perldoc/Win32API::File">Win32API::File</a> has been upgraded from version 0.1202 to 0.1203.</p>
</li>
<li>
<p><a href="https://search.cpan.org/perldoc/XS::Typemap">XS::Typemap</a> has been upgraded from version 0.13 to 0.14.</p>
</li>
<li>
<p><a href="XSLoader.html">XSLoader</a> has been upgraded from version 0.20 to 0.21.</p>
</li>
</ul>
<a id="Documentation"></a><h2 class='h2' >Documentation</h2>
<a id="Changes-to-Existing-Documentation"></a><h3 class='h3' >Changes to Existing Documentation</h3>
<a id="the-perlapi-manpage"></a><h4 class='h4' ><a href="perlapi.html">perlapi</a></h4>
<ul>
<li>
<p>The process of using undocumented globals has been documented, namely, that one
should send email to <a href="mailto:perl5-porters@perl.org">perl5-porters@perl.org</a>
first to get the go-ahead for documenting and using an undocumented function or
global variable.</p>
</li>
</ul>
<a id="the-perlcall-manpage"></a><h4 class='h4' ><a href="perlcall.html">perlcall</a></h4>
<ul>
<li>
<p>A number of cleanups have been made to perlcall, including:</p>
<ul>
<li>
<p>use <pre>
<span class="i">EXTEND</span><span class="s">(</span><span class="w">SP</span><span class="cm">,</span> <span class="w">n</span><span class="s">)</span></code>
 and <pre>
<span class="i">PUSHs</span><span class="s">(</span><span class="s">)</span></code>
 instead of <pre>
<span class="i">XPUSHs</span><span class="s">(</span><span class="s">)</span></code>
 where applicable
and update prose to match</p>
</li>
<li>
<p>add POPu, POPul and POPpbytex to the "complete list of POP macros"
and clarify the documentation for some of the existing entries, and
a note about side-effects</p>
</li>
<li>
<p>add API documentation for POPu and POPul</p>
</li>
<li>
<p>use ERRSV more efficiently</p>
</li>
<li>
<p>approaches to thread-safety storage of SVs.</p>
</li>
</ul>
</li>
</ul>
<a id="the-perlfunc-manpage"></a><h4 class='h4' ><a href="perlfunc.html">perlfunc</a></h4>
<ul>
<li>
<p>The documentation of <code class="inline"><a class="l_k" href="functions/hex.html">hex</a></code> has been revised to clarify valid inputs.</p>
</li>
<li>
<p>Better explain meaning of negative PIDs in <code class="inline"><a class="l_k" href="functions/waitpid.html">waitpid</a></code>.
<a href="https://rt.perl.org/Ticket/Display.html?id=127080">[perl #127080]</a></p>
</li>
<li>
<p>General cleanup: there's more consistency now (in POD usage, grammar, code
examples), better practices in code examples (use of <code class="inline"><a class="l_k" href="functions/my.html">my</a></code>, removal of bareword
filehandles, dropped usage of <pre>
<span class="i">&amp;</span></code>
 when calling subroutines, ...), etc.</p>
</li>
</ul>
<a id="the-perlguts-manpage"></a><h4 class='h4' ><a href="perlguts.html">perlguts</a></h4>
<ul>
<li>
<p>A new section has been added, <a href="perlguts.html#Dynamic-Scope-and-the-Context-Stack">Dynamic Scope and the Context Stack in perlguts</a>, which explains how the perl context stack works.</p>
</li>
</ul>
<a id="the-perllocale-manpage"></a><h4 class='h4' ><a href="perllocale.html">perllocale</a></h4>
<ul>
<li>
<p>A stronger caution about using locales in threaded applications is
given.  Locales are not thread-safe, and you can get wrong results or
even segfaults if you use them there.</p>
</li>
</ul>
<a id="the-perlmodlib-manpage"></a><h4 class='h4' ><a href="perlmodlib.html">perlmodlib</a></h4>
<ul>
<li>
<p>We now recommend contacting the module-authors list or PAUSE in seeking
guidance on the naming of modules.</p>
</li>
</ul>
<a id="the-perlop-manpage"></a><h4 class='h4' ><a href="perlop.html">perlop</a></h4>
<ul>
<li>
<p>The documentation of <code class="inline"><a class="l_k" href="functions/qx.html">qx//</a></code> now describes how <pre>
<span class="i">$?</span></code>
 is affected.</p>
</li>
</ul>
<a id="the-perlpolicy-manpage"></a><h4 class='h4' ><a href="perlpolicy.html">perlpolicy</a></h4>
<ul>
<li>
<p>This note has been added to perlpolicy:</p>
<pre>
 <span class="w">While</span> <span class="w">civility</span> <span class="w">is</span> <span class="w">required</span><span class="cm">,</span> <span class="w">kindness</span> <span class="w">is</span> <span class="w">encouraged</span><span class="sc">;</span> <a class="l_k" href="functions/if.html">if</a> <span class="w">you</span> <span class="w">have</span> <span class="w">any</span>
 <span class="w">doubt</span> <span class="w">about</span> <span class="w">whether</span> <span class="w">you</span> <span class="w">are</span> <span class="w">being</span> <span class="w">civil</span><span class="cm">,</span> <span class="w">simply</span> <span class="w">ask</span> <span class="w">yourself</span><span class="cm">,</span> <span class="q">&quot;Am I</span>
 <span class="q"> being kind?&quot;</span> <a class="l_k" href="functions/and.html">and</a> <span class="w">aspire</span> <span class="w">to</span> <span class="w">that</span>.</pre>
</li>
</ul>
<a id="the-perlreftut-manpage"></a><h4 class='h4' ><a href="perlreftut.html">perlreftut</a></h4>
<ul>
<li>
<p>Fix some examples to be <a href="strict.html">strict</a> clean.</p>
</li>
</ul>
<a id="the-perlrebackslash-manpage"></a><h4 class='h4' ><a href="perlrebackslash.html">perlrebackslash</a></h4>
<ul>
<li>
<p>Clarify that in languages like Japanese and Thai, dictionary lookup
is required to determine word boundaries.</p>
</li>
</ul>
<a id="the-perlsub-manpage"></a><h4 class='h4' ><a href="perlsub.html">perlsub</a></h4>
<ul>
<li>
<p>Updated to note that anonymous subroutines can have signatures.</p>
</li>
</ul>
<a id="the-perlsyn-manpage"></a><h4 class='h4' ><a href="perlsyn.html">perlsyn</a></h4>
<ul>
<li>
<p>Fixed a broken example where <pre>
=</code>
 was used instead of
<pre>
==</code>
 in conditional in do/while example.</p>
</li>
</ul>
<a id="the-perltie-manpage"></a><h4 class='h4' ><a href="perltie.html">perltie</a></h4>
<ul>
<li>
<p>The usage of <pre>
<span class="w">FIRSTKEY</span></code>
 and <pre>
<span class="w">NEXTKEY</span></code>
 has been clarified.</p>
</li>
</ul>
<a id="the-perlunicode-manpage"></a><h4 class='h4' ><a href="perlunicode.html">perlunicode</a></h4>
<ul>
<li>
<p>Discourage use of 'In' as a prefix signifying the Unicode Block property.</p>
</li>
</ul>
<a id="the-perlvar-manpage"></a><h4 class='h4' ><a href="perlvar.html">perlvar</a></h4>
<ul>
<li>
<p>The documentation of <pre>
<span class="i">$@</span></code>
 was reworded to clarify that it is not just for
syntax errors in <code class="inline"><a class="l_k" href="functions/eval.html">eval</a></code>.
<a href="https://rt.perl.org/Ticket/Display.html?id=124034">[perl #124034]</a></p>
</li>
<li>
<p>The specific true value of <pre>
<span class="i">$!</span>{<span class="w">E</span>...}</code>
 is now documented, noting that it is
subject to change and not guaranteed.</p>
</li>
<li>
<p>Use of <pre>
<span class="i">$OLD_PERL_VERSION</span></code>
 is now discouraged.</p>
</li>
</ul>
<a id="the-perlxs-manpage"></a><h4 class='h4' ><a href="perlxs.html">perlxs</a></h4>
<ul>
<li>
<p>The documentation of <pre>
<span class="w">PROTOTYPES</span></code>
 has been corrected; they are <i>disabled</i>
by default, not <i>enabled</i>.</p>
</li>
</ul>
<a id="Diagnostics"></a><h2 class='h2' >Diagnostics</h2>
<p>The following additions or changes have been made to diagnostic output,
including warnings and fatal error messages.  For the complete list of
diagnostic messages, see <a href="perldiag.html">perldiag</a>.</p>
<a id="New-Diagnostics"></a><h3 class='h3' >New Diagnostics</h3>
<a id="New-Errors"></a><h4 class='h4' >New Errors</h4>
<ul>
<li>
<p><a href="perldiag.html#%25s-must-not-be-a-named-sequence-in-transliteration-operator">%s must not be a named sequence in transliteration operator</a></p>
</li>
<li>
<p><a href="perldiag.html#Can't-find-Unicode-property-definition-%22%25s%22-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Can't find Unicode property definition %s in regex;</a></p>
</li>
<li>
<p><a href="perldiag.html#Can't-redeclare-%22%25s%22-in-%22%25s%22">Can't redeclare %s in %s</a></p>
</li>
<li>
<p><a href="perldiag.html#Character-following-%5c%25c-must-be-'%7b'-or-a-single-character-Unicode-property-name-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Character following \p must be '{' or a single-character Unicode property name in regex;</a></p>
</li>
<li>
<p><a href="perldiag.html#Empty-%5c%25c-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Empty \%c in regex; marked by &lt;-- HERE in m/%s/ </a></p>
</li>
<li>
<p><a href="perldiag.html#Illegal-user-defined-property-name">Illegal user-defined property name</a></p>
</li>
<li>
<p><a href="perldiag.html#Invalid-number-'%25s'-for--C-option.">Invalid number '%s' for -C option.</a></p>
</li>
<li>
<p><a href="perldiag.html#Sequence-(%3f...-not-terminated-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Sequence (?... not terminated in regex; marked by &lt;-- HERE in m/%s/</a></p>
</li>
<li>
<p><a href="perldiag.html#Sequence-(%3fP%3c...-not-terminated-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Sequence (?P&lt;... not terminated in regex; marked by &lt;-- HERE in m/%s/ </a></p>
</li>
<li>
<p><a href="perldiag.html#Sequence-(%3fP%3e...-not-terminated-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Sequence (?P&gt;... not terminated in regex; marked by &lt;-- HERE in m/%s/ </a></p>
</li>
</ul>
<a id="New-Warnings"></a><h4 class='h4' >New Warnings</h4>
<ul>
<li>
<p><a href="perldiag.html#Assuming-NOT-a-POSIX-class-since-%25s-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f">Assuming NOT a POSIX class since %s in regex; marked by &lt;-- HERE in m/%s/</a></p>
</li>
<li>
<p><a href="perldiag.html#%25s()-is-deprecated-on-%3autf8-handles">%s() is deprecated on :utf8 handles</a></p>
</li>
</ul>
<a id="Changes-to-Existing-Diagnostics"></a><h3 class='h3' >Changes to Existing Diagnostics</h3>
<ul>
<li>
<p>Accessing the <pre>
<span class="w">IO</span></code>
 part of a glob as <pre>
<span class="w">FILEHANDLE</span></code>
 instead of <pre>
<span class="w">IO</span></code>
 is no
longer deprecated.  It is discouraged to encourage uniformity (so that, for
example, one can grep more easily) but it will not be removed.
<a href="https://rt.perl.org/Ticket/Display.html?id=127060">[perl #127060]</a></p>
</li>
<li>
<p>The diagnostic <code class="inline">Hexadecimal float: internal error</code> has been changed to
<code class="inline">Hexadecimal float: internal error (%s)</code> to include more information.</p>
</li>
<li>
<p><a href="perldiag.html#Can't-modify-non-lvalue-subroutine-call-of-%26%25s">Can't modify non-lvalue subroutine call of &amp;%s</a></p>
<p>This error now reports the name of the non-lvalue subroutine you attempted to
use as an lvalue.</p>
</li>
<li>
<p>When running out of memory during an attempt the increase the stack
size, previously, perl would die using the cryptic message
<code class="inline">panic: av_extend_guts() negative count (-9223372036854775681)</code>.
This has been fixed to show the prettier message:
<a href="perldiag.html#Out-of-memory-during-%25s-extend">Out of memory during stack extend</a></p>
</li>
</ul>
<a id="Configuration-and-Compilation"></a><h2 class='h2' >Configuration and Compilation</h2>
<ul>
<li>
<p><pre>
<span class="w">Configure</span></code>
 now acts as if the <pre>
-O</code>
 option is always passed, allowing command
line options to override saved configuration.  This should eliminate confusion
when command line options are ignored for no obvious reason.  <pre>
-O</code>
 is now
permitted, but ignored.</p>
</li>
<li>
<p>Bison 3.0 is now supported.</p>
</li>
<li>
<p><i>Configure</i> no longer probes for <i>libnm</i> by default.  Originally
this was the "New Math" library, but the name has been re-used by the
GNOME NetworkManager.
<a href="https://rt.perl.org/Ticket/Display.html?id=127131">[perl #127131]</a></p>
</li>
<li>
<p>Added <i>Configure</i> probes for <pre>
<span class="w">newlocale</span></code>
, <pre>
<span class="w">freelocale</span></code>
, and <pre>
<span class="w">uselocale</span></code>
.</p>
</li>
<li>
<p><pre>
<span class="w">PPPort</span>.<span class="w">so</span>/<span class="w">PPPort</span>.<span class="w">dll</span></code>
 no longer get installed, as they are
not used by <pre>
<span class="w">PPPort</span>.<span class="w">pm</span></code>
, only by its test files.</p>
</li>
<li>
<p>It is now possible to specify which compilation date to show on
<pre>
<span class="w">perl</span> -<span class="w">V</span></code>
 output, by setting the macro <pre>
<span class="w">PERL_BUILD_DATE</span></code>
.</p>
</li>
<li>
<p>Using the <pre>
<span class="w">NO_HASH_SEED</span></code>
 define in combination with the default hash algorithm
<pre>
<span class="w">PERL_HASH_FUNC_ONE_AT_A_TIME_HARD</span></code>
 resulted in a fatal error while compiling
the interpreter, since Perl 5.17.10.  This has been fixed.</p>
</li>
<li>
<p><i>Configure</i> should handle spaces in paths a little better.</p>
</li>
<li>
<p>No longer generate EBCDIC POSIX-BC tables.  We don't believe anyone is
using Perl and POSIX-BC at this time, and by not generating these tables
it saves time during development, and makes the resulting tar ball smaller.</p>
</li>
<li>
<p>The GNU Make makefile for Win32 now supports parallel builds.  [perl #126632]</p>
</li>
<li>
<p>You can now build perl with MSVC++ on Win32 using GNU Make.  [perl #126632]</p>
</li>
<li>
<p>The Win32 miniperl now has a real <pre>
<span class="w">getcwd</span></code>
 which increases build performance
resulting in <pre>
<span class="i">getcwd</span><span class="s">(</span><span class="s">)</span></code>
 being 605x faster in Win32 miniperl.</p>
</li>
<li>
<p>Configure now takes <pre>
-<span class="w">Dusequadmath</span></code>
 into account when calculating the
<pre>
<span class="w">alignbytes</span></code>
 configuration variable.  Previously the mis-calculated
<pre>
<span class="w">alignbytes</span></code>
 could cause alignment errors on debugging builds. [perl
#127894]</p>
</li>
</ul>
<a id="Testing"></a><h2 class='h2' >Testing</h2>
<ul>
<li>
<p>A new test (<i>t/op/aassign.t</i>) has been added to test the list assignment operator
<pre>
<span class="w">OP_AASSIGN</span></code>
.</p>
</li>
<li>
<p>Parallel building has been added to the dmake <pre>
<span class="w">makefile</span>.<span class="w">mk</span></code>
 makefile. All
Win32 compilers are supported.</p>
</li>
</ul>
<a id="Platform-Support"></a><h2 class='h2' >Platform Support</h2>
<a id="Platform-Specific-Notes"></a><h3 class='h3' >Platform-Specific Notes</h3>
<ul>
<li><a id="AmigaOS"></a><strong>AmigaOS</strong>
<ul>
<li>
<p>The AmigaOS port has been reintegrated into the main tree, based off of
Perl 5.22.1.</p>
</li>
</ul>
</li>
<li><a id="Cygwin"></a><strong>Cygwin</strong>
<ul>
<li>
<p>Tests are more robust against unusual cygdrive prefixes.
<a href="https://rt.perl.org/Ticket/Display.html?id=126834">[perl #126834]</a></p>
</li>
</ul>
</li>
<li><a id="EBCDIC"></a><strong>EBCDIC</strong>
<ul>
<li><a id="UTF-EBCDIC-extended"></a><strong>UTF-EBCDIC extended</strong>
<p>UTF-EBCDIC is like UTF-8, but for EBCDIC platforms.  It now has been
extended so that it can represent code points up to 2 ** 64 - 1 on
platforms with 64-bit words.  This brings it into parity with UTF-8.
This enhancement requires an incompatible change to the representation
of code points in the range 2 ** 30 to 2 ** 31 -1 (the latter was the
previous maximum representable code point).  This means that a file that
contains one of these code points, written out with previous versions of
perl cannot be read in, without conversion, by a perl containing this
change.  We do not believe any such files are in existence, but if you
do have one, submit a ticket at <a href="mailto:perlbug@perl.org">perlbug@perl.org</a>,
and we will write a conversion script for you.</p>
</li>
<li><a id="EBCDIC-cmp()-and-sort()-fixed-for-UTF-EBCDIC-strings"></a><strong>EBCDIC <code class="inline"><a class="l_k" href="functions/cmp.html">cmp()</a></code> and <code class="inline"><a class="l_k" href="functions/sort.html">sort()</a></code> fixed for UTF-EBCDIC strings</strong>
<p>Comparing two strings that were both encoded in UTF-8 (or more
precisely, UTF-EBCDIC) did not work properly until now.  Since <code class="inline"><a class="l_k" href="functions/sort.html">sort()</a></code>
uses <code class="inline"><a class="l_k" href="functions/cmp.html">cmp()</a></code>, this fixes that as well.</p>
</li>
<li><a id="EBCDIC-tr%2f%2f%2f-and-y%2f%2f%2f-fixed-for-%5cN%7b%7d%2c-and-use-utf8-ranges"></a><strong>EBCDIC <code class="inline"><a class="l_k" href="functions/tr.html">tr///</a></code> and <code class="inline"><a class="l_k" href="functions/y.html">y///</a></code> fixed for <pre>
\<span class="w">N</span><span class="s">{</span><span class="s">}</span></code>
, and <pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">utf8</span></code>
 ranges</strong>
<p>Perl v5.22 introduced the concept of portable ranges to regular
expression patterns.  A portable range matches the same set of
characters no matter what platform is being run on.  This concept is now
extended to <code class="inline"><a class="l_k" href="functions/tr.html">tr///</a></code>.  See
<code class="inline"><a href="perlop.html#tr%2fSEARCHLIST%2fREPLACEMENTLIST%2fcdsr">tr///</a></code>.</p>
<p>There were also some problems with these operations under <pre>
<a class="l_k" href="functions/use.html">use</a>
<span class="w">utf8</span></code>
, which are now fixed</p>
</li>
</ul>
</li>
<li><a id="FreeBSD"></a><strong>FreeBSD</strong>
<ul>
<li>
<p>Use the <pre>
<span class="i">fdclose</span><span class="s">(</span><span class="s">)</span></code>
 function from FreeBSD if it is available.
<a href="https://rt.perl.org/Ticket/Display.html?id=126847">[perl #126847]</a></p>
</li>
</ul>
</li>
<li><a id="IRIX"></a><strong>IRIX</strong>
<ul>
<li>
<p>Under some circumstances IRIX stdio <pre>
<span class="i">fgetc</span><span class="s">(</span><span class="s">)</span></code>
 and <pre>
<span class="i">fread</span><span class="s">(</span><span class="s">)</span></code>
 set the errno to
<pre>
<span class="w">ENOENT</span></code>
, which made no sense according to either IRIX or POSIX docs.  Errno
is now cleared in such cases.
<a href="https://rt.perl.org/Ticket/Display.html?id=123977">[perl #123977]</a></p>
</li>
<li>
<p>Problems when multiplying long doubles by infinity have been fixed.
<a href="https://rt.perl.org/Ticket/Display.html?id=126396">[perl #126396]</a></p>
</li>
</ul>
</li>
<li><a id="MacOS-X"></a><strong>MacOS X</strong>
<ul>
<li>
<p>Until now OS X builds of perl have specified a link target of 10.3 (Panther,
2003) but have not specified a compiler target.  From now on, builds of perl on
OS X 10.6 or later (Snow Leopard, 2008) by default capture the current OS X
version and specify that as the explicit build target in both compiler and
linker flags, thus preserving binary compatibility for extensions built later
regardless of changes in OS X, SDK, or compiler and linker versions.  To
override the default value used in the build and preserved in the flags,
specify <code class="inline">export MACOSX_DEPLOYMENT_TARGET=10.N</code> before configuring and building
perl, where 10.N is the version of OS X you wish to target.  In OS X 10.5 or
earlier there is no change to the behavior present when those systems were
current; the link target is still OS X 10.3 and there is no explicit compiler
target.</p>
</li>
<li>
<p>Builds with both -DDEBUGGING and threading enabled would fail with a
"panic: free from wrong pool" error when built or tested from Terminal
on OS X.  This was caused by perl's internal management of the
environment conflicting with an atfork handler using the libc
<pre>
<span class="i">setenv</span><span class="s">(</span><span class="s">)</span></code>
 function to update the environment.</p>
<p>Perl now uses <pre>
<span class="i">setenv</span><span class="s">(</span><span class="s">)</span></code>
/<pre>
<span class="i">unsetenv</span><span class="s">(</span><span class="s">)</span></code>
 to update the environment on OS X.
<a href="https://rt.perl.org/Ticket/Display.html?id=126240">[perl #126240]</a></p>
</li>
</ul>
</li>
<li><a id="Solaris"></a><strong>Solaris</strong>
<ul>
<li>
<p>All Solaris variants now build a shared libperl</p>
<p>Solaris and variants like OpenIndiana now always build with the shared
Perl library (Configure -Duseshrplib).  This was required for the
OpenIndiana builds, but this has also been the setting for Oracle/Sun
Perl builds for several years.</p>
</li>
</ul>
</li>
<li><a id="Tru64"></a><strong>Tru64</strong>
<ul>
<li>
<p>Workaround where Tru64 balks when prototypes are listed as
<pre>
<span class="w">PERL_STATIC_INLINE</span></code>
, but where the test is build with
<pre>
-<span class="w">DPERL_NO_INLINE_FUNCTIONS</span></code>
.</p>
</li>
</ul>
</li>
<li><a id="VMS"></a><strong>VMS</strong>
<ul>
<li>
<p>On VMS, the math function prototypes in <pre>
<span class="w">math</span>.<span class="w">h</span></code>
 are now visible under C++.
Now building the POSIX extension with C++ will no longer crash.</p>
</li>
<li>
<p>VMS has had <pre>
<span class="w">setenv</span></code>
/<pre>
<span class="w">unsetenv</span></code>
 since v7.0 (released in 1996),
<pre>
<span class="w">Perl_vmssetenv</span></code>
 now always uses <pre>
<span class="w">setenv</span></code>
/<pre>
<span class="w">unsetenv</span></code>
.</p>
</li>
<li>
<p>Perl now implements its own <pre>
<span class="w">killpg</span></code>
 by scanning for processes in the
specified process group, which may not mean exactly the same thing as a Unix
process group, but allows us to send a signal to a parent (or master) process
and all of its sub-processes.  At the perl level, this means we can now send a
negative pid like so:</p>
<pre>
    <a class="l_k" href="functions/kill.html">kill</a> <span class="w">SIGKILL</span><span class="cm">,</span> -<span class="i">$pid</span><span class="sc">;</span></pre>
<p>to signal all processes in the same group as <pre>
<span class="i">$pid</span></code>
.</p>
</li>
<li>
<p>For those <pre>
<span class="i">%ENV</span></code>
 elements based on the CRTL environ array, we've always
preserved case when setting them but did look-ups only after upcasing the
key first, which made lower- or mixed-case entries go missing. This problem
has been corrected by making <pre>
<span class="i">%ENV</span></code>
 elements derived from the environ array
case-sensitive on look-up as well as case-preserving on store.</p>
</li>
<li>
<p>Environment look-ups for <pre>
<span class="w">PERL5LIB</span></code>
 and <pre>
<span class="w">PERLLIB</span></code>
 previously only
considered logical names, but now consider all sources of <pre>
<span class="i">%ENV</span></code>
 as
determined by <pre>
<span class="w">PERL_ENV_TABLES</span></code>
 and as documented in <a href="perlvms.html#%25ENV">%ENV in perlvms</a>.</p>
</li>
<li>
<p>The minimum supported version of VMS is now v7.3-2, released in 2003.  As a
side effect of this change, VAX is no longer supported as the terminal
release of OpenVMS VAX was v7.3 in 2001.</p>
</li>
</ul>
</li>
<li><a id="Win32"></a><strong>Win32</strong>
<ul>
<li>
<p>A new build option <pre>
<span class="w">USE_NO_REGISTRY</span></code>
 has been added to the makefiles.  This
option is off by default, meaning the default is to do Windows registry
lookups.  This option stops Perl from looking inside the registry for anything.
For what values are looked up in the registry see <a href="perlwin32.html">perlwin32</a>.  Internally, in
C, the name of this option is <pre>
<span class="w">WIN32_NO_REGISTRY</span></code>
.</p>
</li>
<li>
<p>The behavior of Perl using <pre>
<span class="w">HKEY_CURRENT_USER</span>\<span class="w">Software</span>\<span class="w">Perl</span></code>
 and
<pre>
<span class="w">HKEY_LOCAL_MACHINE</span>\<span class="w">Software</span>\<span class="w">Perl</span></code>
 to lookup certain values, including <pre>
<span class="i">%ENV</span></code>

vars starting with <pre>
<span class="w">PERL</span></code>
 has changed.  Previously, the 2 keys were checked
for entries at all times through the perl process's life time even if
they did not
exist.  For performance reasons, now, if the root key (i.e.
<pre>
<span class="w">HKEY_CURRENT_USER</span>\<span class="w">Software</span>\<span class="w">Perl</span></code>
 or <pre>
<span class="w">HKEY_LOCAL_MACHINE</span>\<span class="w">Software</span>\<span class="w">Perl</span></code>
) does
not exist at process start time, it will not be checked again for <pre>
<span class="i">%ENV</span></code>

override entries for the remainder of the perl process's life.  This more
closely matches Unix behavior in that the environment is copied or inherited
on startup and changing the variable in the parent process or another process
or editing <i>.bashrc</i> will not change the environmental variable in other
existing, running, processes.</p>
</li>
<li>
<p>One glob fetch was removed for each <code class="inline"><a class="l_k" href="functions/-X.html">-X</a></code> or <code class="inline"><a class="l_k" href="functions/stat.html">stat</a></code> call whether done from
Perl code or internally from Perl's C code.  The glob being looked up was
<pre>
<span class="i">$</span>{<span class="w">^WIN32_SLOPPY_STAT</span>}</code>
 which is a special variable.  This makes <code class="inline"><a class="l_k" href="functions/-X.html">-X</a></code> and
<code class="inline"><a class="l_k" href="functions/stat.html">stat</a></code> slightly faster.</p>
</li>
<li>
<p>During miniperl's process startup, during the build process, 4 to 8 IO calls
related to the process starting <i>.pl</i> and the <i>buildcustomize.pl</i> file were
removed from the code opening and executing the first 1 or 2 <i>.pl</i> files.</p>
</li>
<li>
<p>Builds using Microsoft Visual C++ 2003 and earlier no longer produce
an "INTERNAL COMPILER ERROR" message.  [perl #126045]</p>
</li>
<li>
<p>Visual C++ 2013 builds will now execute on XP and higher. Previously they would
only execute on Vista and higher.</p>
</li>
<li>
<p>You can now build perl with GNU Make and GCC.  [perl #123440]</p>
</li>
<li>
<p><pre>
<a class="l_k" href="functions/truncate.html">truncate</a><span class="s">(</span><span class="i">$filename</span><span class="cm">,</span> <span class="i">$size</span><span class="s">)</span></code>
 now works for files over 4GB in size.
[perl #125347]</p>
</li>
<li>
<p>Parallel building has been added to the dmake <pre>
<span class="w">makefile</span>.<span class="w">mk</span></code>
 makefile. All
Win32 compilers are supported.</p>
</li>
<li>
<p>Building a 64-bit perl with a 64-bit GCC but a 32-bit gmake would
result in an invalid <pre>
<span class="i">$Config</span>{<span class="w">archname</span>}</code>
 for the resulting perl.
[perl #127584]</p>
</li>
<li>
<p>Errors set by Winsock functions are now put directly into <pre>
<span class="i">$^E</span></code>
, and the
relevant <pre>
<span class="w">WSAE</span>*</code>
 error codes are now exported from the <a href="Errno.html">Errno</a> and <a href="POSIX.html">POSIX</a>
modules for testing this against.</p>
<p>The previous behavior of putting the errors (converted to POSIX-style <pre>
<span class="w">E</span>*</code>

error codes since Perl 5.20.0) into <pre>
<span class="i">$!</span></code>
 was buggy due to the non-equivalence
of like-named Winsock and POSIX error constants, a relationship between which
has unfortunately been established in one way or another since Perl 5.8.0.</p>
<p>The new behavior provides a much more robust solution for checking Winsock
errors in portable software without accidentally matching POSIX tests that were
intended for other OSes and may have different meanings for Winsock.</p>
<p>The old behavior is currently retained, warts and all, for backwards
compatibility, but users are encouraged to change any code that tests <pre>
<span class="i">$!</span></code>

against <pre>
<span class="w">E</span>*</code>
 constants for Winsock errors to instead test <pre>
<span class="i">$^E</span></code>
 against
<pre>
<span class="w">WSAE</span>*</code>
 constants.  After a suitable deprecation period, the old behavior may
be removed, leaving <pre>
<span class="i">$!</span></code>
 unchanged after Winsock function calls, to avoid any
possible confusion over which error variable to check.</p>
</li>
</ul>
</li>
<li><a id="ppc64el"></a><strong>ppc64el</strong>
<ul>
<li><a id="floating-point"></a><strong>floating point</strong>
<p>The floating point format of ppc64el (Debian naming for little-endian
PowerPC) is now detected correctly.</p>
</li>
</ul>
</li>
</ul>
<a id="Internal-Changes"></a><h2 class='h2' >Internal Changes</h2>
<ul>
<li>
<p>The implementation of perl's context stack system, and its internal API,
have been heavily reworked. Note that no significant changes have been
made to any external APIs, but XS code which relies on such internal
details may need to be fixed. The main changes are:</p>
<ul>
<li>
<p>The <pre>
<span class="i">PUSHBLOCK</span><span class="s">(</span><span class="s">)</span></code>
, <pre>
<span class="i">POPSUB</span><span class="s">(</span><span class="s">)</span></code>
 etc. macros have been replaced with static
inline functions such as <pre>
<span class="i">cx_pushblock</span><span class="s">(</span><span class="s">)</span></code>
, <pre>
<span class="i">cx_popsub</span><span class="s">(</span><span class="s">)</span></code>
 etc. These use
function args rather than implicitly relying on local vars such as
<pre>
<span class="w">gimme</span></code>
 and <pre>
<span class="w">newsp</span></code>
 being available. Also their functionality has
changed: in particular, <pre>
<span class="i">cx_popblock</span><span class="s">(</span><span class="s">)</span></code>
 no longer decrements
<pre>
<span class="w">cxstack_ix</span></code>
. The ordering of the steps in the <pre>
<span class="w">pp_leave</span>*</code>
 functions
involving <pre>
<span class="i">cx_popblock</span><span class="s">(</span><span class="s">)</span></code>
, <pre>
<span class="i">cx_popsub</span><span class="s">(</span><span class="s">)</span></code>
 etc. has changed. See the new
documentation, <a href="perlguts.html#Dynamic-Scope-and-the-Context-Stack">Dynamic Scope and the Context Stack in perlguts</a>, for
details on how to use them.</p>
</li>
<li>
<p>Various macros, which now consistently have a CX_ prefix, have been added:</p>
<pre>
  <span class="i">CX_CUR</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span> <span class="i">CX_LEAVE_SCOPE</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span> <span class="i">CX_POP</span><span class="s">(</span><span class="s">)</span></pre>
<p>or renamed:</p>
<pre>
  <span class="i">CX_POP_SAVEARRAY</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span> <span class="i">CX_DEBUG</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span> <span class="i">CX_PUSHSUBST</span><span class="s">(</span><span class="s">)</span><span class="cm">,</span> <span class="i">CX_POPSUBST</span><span class="s">(</span><span class="s">)</span></pre>
</li>
<li>
<p><pre>
<span class="i">cx_pushblock</span><span class="s">(</span><span class="s">)</span></code>
 now saves <pre>
<span class="w">PL_savestack_ix</span></code>
 and <pre>
<span class="w">PL_tmps_floor</span></code>
, so
<pre>
<span class="w">pp_enter</span>*</code>
 and <pre>
<span class="w">pp_leave</span>*</code>
 no longer do</p>
<div class="verbatim"><ol><li>  ENTER; SAVETMPS; ....; LEAVE</li></ol></div></li>
<li>
<p><pre>
<span class="i">cx_popblock</span><span class="s">(</span><span class="s">)</span></code>
 now also restores <pre>
<span class="w">PL_curpm</span></code>
.</p>
</li>
<li>
<p>In <pre>
<span class="i">dounwind</span><span class="s">(</span><span class="s">)</span></code>
 for every context type, the current savestack frame is
now processed before each context is popped; formerly this was only done
for sub-like context frames. This action has been removed from
<pre>
<span class="i">cx_popsub</span><span class="s">(</span><span class="s">)</span></code>
 and placed into its own macro, <pre>
<span class="i">CX_LEAVE_SCOPE</span><span class="s">(</span><span class="w">cx</span><span class="s">)</span></code>
, which
must be called before <pre>
<span class="i">cx_popsub</span><span class="s">(</span><span class="s">)</span></code>
 etc.</p>
<p><pre>
<span class="i">dounwind</span><span class="s">(</span><span class="s">)</span></code>
 now also does a <pre>
<span class="i">cx_popblock</span><span class="s">(</span><span class="s">)</span></code>
 on the last popped frame
(formerly it only did the <pre>
<span class="i">cx_popsub</span><span class="s">(</span><span class="s">)</span></code>
 etc. actions on each frame).</p>
</li>
<li>
<p>The temps stack is now freed on scope exit; previously, temps created
during the last statement of a block wouldn't be freed until the next
<pre>
<span class="w">nextstate</span></code>
 following the block (apart from an existing hack that did
this for recursive subs in scalar context); and in something like
<pre>
<span class="i">f</span><span class="s">(</span><span class="i">g</span><span class="s">(</span><span class="s">)</span><span class="s">)</span></code>
, the temps created by the last statement in <pre>
<span class="i">g</span><span class="s">(</span><span class="s">)</span></code>
 would
formerly not be freed until the statement following the return from
<pre>
<span class="i">f</span><span class="s">(</span><span class="s">)</span></code>
.</p>
</li>
<li>
<p>Most values that were saved on the savestack on scope entry are now
saved in suitable new fields in the context struct, and saved and
restored directly by <pre>
<span class="i">cx_pushfoo</span><span class="s">(</span><span class="s">)</span></code>
 and <pre>
<span class="i">cx_popfoo</span><span class="s">(</span><span class="s">)</span></code>
, which is much
faster.</p>
</li>
<li>
<p>Various context struct fields have been added, removed or modified.</p>
</li>
<li>
<p>The handling of <pre>
<span class="i">@_</span></code>
 in <pre>
<span class="i">cx_pushsub</span><span class="s">(</span><span class="s">)</span></code>
 and <pre>
<span class="i">cx_popsub</span><span class="s">(</span><span class="s">)</span></code>
 has been
considerably tidied up, including removing the <pre>
<span class="w">argarray</span></code>
 field from the
context struct, and extracting out some common (but rarely used) code into
a separate function, <pre>
<span class="i">clear_defarray</span><span class="s">(</span><span class="s">)</span></code>
. Also, useful subsets of
<pre>
<span class="i">cx_popsub</span><span class="s">(</span><span class="s">)</span></code>
 which had been unrolled in places like <pre>
<span class="w">pp_goto</span></code>
 have been
gathered into the new functions <pre>
<span class="i">cx_popsub_args</span><span class="s">(</span><span class="s">)</span></code>
 and
<pre>
<span class="i">cx_popsub_common</span><span class="s">(</span><span class="s">)</span></code>
.</p>
</li>
<li>
<p><pre>
<span class="w">pp_leavesub</span></code>
 and <pre>
<span class="w">pp_leavesublv</span></code>
 now use the same function as the rest
of the <pre>
<span class="w">pp_leave</span>*</code>
's to process return args.</p>
</li>
<li>
<p><pre>
<span class="w">CXp_FOR_PAD</span></code>
 and <pre>
<span class="w">CXp_FOR_GV</span></code>
 flags have been added, and
<pre>
<span class="w">CXt_LOOP_FOR</span></code>
 has been split into <pre>
<span class="w">CXt_LOOP_LIST</span></code>
, <pre>
<span class="w">CXt_LOOP_ARY</span></code>
.</p>
</li>
<li>
<p>Some variables formerly declared by <pre>
<span class="w">dMULTICALL</span></code>
 (but not documented) have
been removed.</p>
</li>
</ul>
</li>
<li>
<p>The obscure <pre>
<span class="w">PL_timesbuf</span></code>
 variable, effectively a vestige of Perl 1, has
been removed. It was documented as deprecated in Perl 5.20, with a statement
that it would be removed early in the 5.21.x series; that has now finally
happened.
<a href="https://rt.perl.org/Ticket/Display.html?id=121351">[perl #121351]</a></p>
</li>
<li>
<p>An unwarranted assertion in <pre>
<span class="i">Perl_newATTRSUB_x</span><span class="s">(</span><span class="s">)</span></code>
 has been removed.  If
a stub subroutine
definition with a prototype has been seen, then any subsequent stub (or
definition) of the same subroutine with an attribute was causing an assertion
failure because of a null pointer.
<a href="https://rt.perl.org/Ticket/Display.html?id=126845">[perl #126845]</a></p>
</li>
<li>
<p><pre>
<span class="w">::</span></code>
 has been replaced by <pre>
<span class="w">__</span></code>
 in <pre>
<span class="w">ExtUtils::ParseXS</span></code>
, like it's done for
parameters/return values. This is more consistent, and simplifies writing XS
code wrapping C++ classes into a nested Perl namespace (it requires only
a typedef for <pre>
<span class="w">Foo__Bar</span></code>
 rather than two, one for <pre>
<span class="w">Foo_Bar</span></code>
 and the other
for <pre>
<span class="w">Foo::Bar</span></code>
).</p>
</li>
<li>
<p>The <pre>
<span class="i">to_utf8_case</span><span class="s">(</span><span class="s">)</span></code>
 function is now deprecated.  Instead use
<pre>
<span class="w">toUPPER_utf8</span></code>
, <pre>
<span class="w">toTITLE_utf8</span></code>
, <pre>
<span class="w">toLOWER_utf8</span></code>
, and <pre>
<span class="w">toFOLD_utf8</span></code>
.
(See <a href="http://nntp.perl.org/group/perl.perl5.porters/233287">http://nntp.perl.org/group/perl.perl5.porters/233287</a>.)</p>
</li>
<li>
<p>Perl core code and the threads extension have been annotated so that,
if Perl is configured to use threads, then during compile-time clang (3.6
or later) will warn about suspicious uses of mutexes.
See <a href="http://clang.llvm.org/docs/ThreadSafetyAnalysis.html">http://clang.llvm.org/docs/ThreadSafetyAnalysis.html</a> for more
information.</p>
</li>
<li>
<p>The <pre>
<span class="i">signbit</span><span class="s">(</span><span class="s">)</span></code>
 emulation has been enhanced.  This will help older
and/or more exotic platforms or configurations.</p>
</li>
<li>
<p>Most EBCDIC-specific code in the core has been unified with non-EBCDIC
code, to avoid repetition and make maintenance easier.</p>
</li>
<li>
<p>MSWin32 code for <pre>
<span class="i">$^X</span></code>
 has been moved out of the <i>win32</i> directory to
<i>caretx.c</i>, where other operating systems set that variable.</p>
</li>
<li>
<p><pre>
<span class="i">sv_ref</span><span class="s">(</span><span class="s">)</span></code>
 is now part of the API.</p>
</li>
<li>
<p><a href="perlapi.html#sv_backoff">sv_backoff in perlapi</a> had its return type changed from <code class="inline"><a class="l_k" href="functions/int.html">int</a></code> to <pre>
<span class="w">void</span></code>
.  It
previously has always returned <pre></code>
 since Perl 5.000 stable but that was
undocumented.  Although <pre>
<span class="w">sv_backoff</span></code>
 is marked as public API, XS code is not
expected to be impacted since the proper API call would be through public API
<pre>
<span class="i">sv_setsv</span><span class="s">(</span><span class="w">sv</span><span class="cm">,</span> <span class="i">&amp;PL_sv_undef</span><span class="s">)</span></code>
, or quasi-public <pre>
<span class="w">SvOOK_off</span></code>
, or non-public
<pre>
<span class="w">SvOK_off</span></code>
 calls, and the return value of <pre>
<span class="w">sv_backoff</span></code>
 was previously a
meaningless constant that can be rewritten as <pre>
<span class="s">(</span><span class="i">sv_backoff</span><span class="s">(</span><span class="w">sv</span><span class="s">)</span><span class="cm">,</span><span class="n">0</span><span class="s">)</span></code>
.</p>
</li>
<li>
<p>The <pre>
<span class="w">EXTEND</span></code>
 and <pre>
<span class="w">MEXTEND</span></code>
 macros have been improved to avoid various issues
with integer truncation and wrapping.  In particular, some casts formerly used
within the macros have been removed.  This means for example that passing an
unsigned <pre>
<span class="w">nitems</span></code>
 argument is likely to raise a compiler warning now
(it's always been documented to require a signed value; formerly int,
lately SSize_t).</p>
</li>
<li>
<p><pre>
<span class="w">PL_sawalias</span></code>
 and <pre>
<span class="w">GPf_ALIASED_SV</span></code>
 have been removed.</p>
</li>
<li>
<p><pre>
<span class="w">GvASSIGN_GENERATION</span></code>
 and <pre>
<span class="w">GvASSIGN_GENERATION_set</span></code>
 have been removed.</p>
</li>
</ul>
<a id="Selected-Bug-Fixes"></a><h2 class='h2' >Selected Bug Fixes</h2>
<ul>
<li>
<p>It now works properly to specify a user-defined property, such as</p>
<pre>
 <span class="q">qr/\p{mypkg1::IsMyProperty}/i</span></pre>
<p>with <code class="inline">/i</code> caseless matching, an explicit package name, and
<i>IsMyProperty</i> not defined at the time of the pattern compilation.</p>
</li>
<li>
<p>Perl's <pre>
<span class="i">memcpy</span><span class="s">(</span><span class="s">)</span></code>
, <pre>
<span class="i">memmove</span><span class="s">(</span><span class="s">)</span></code>
, <pre>
<span class="i">memset</span><span class="s">(</span><span class="s">)</span></code>
 and <pre>
<span class="i">memcmp</span><span class="s">(</span><span class="s">)</span></code>
 fallbacks are now
more compatible with the originals.  [perl #127619]</p>
</li>
<li>
<p>Fixed the issue where a <code class="inline"><a class="l_k" href="functions/s.html">s///r</a></code>) with <strong>-DPERL_NO_COW</strong> attempts
to modify the source SV, resulting in the program dying. [perl #127635]</p>
</li>
<li>
<p>Fixed an EBCDIC-platform-only case where a pattern could fail to match. This
occurred when matching characters from the set of C1 controls when the
target matched string was in UTF-8.</p>
</li>
<li>
<p>Narrow the filename check in <i>strict.pm</i> and <i>warnings.pm</i>. Previously,
it assumed that if the filename (without the <i>.pmc?</i> extension) differed
from the package name, if was a misspelled use statement (i.e. <pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">Strict</span></code>

instead of <pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span></code>
). We now check whether there's really a 
miscapitalization happening, and not some other issue.</p>
</li>
<li>
<p>Turn an assertion into a more user friendly failure when parsing
regexes. [perl #127599]</p>
</li>
<li>
<p>Correctly raise an error when trying to compile patterns with 
unterminated character classes while there are trailing backslashes.
[perl #126141].</p>
</li>
<li>
<p>Line numbers larger than 2**31-1 but less than 2**32 are no longer
returned by <code class="inline"><a class="l_k" href="functions/caller.html">caller()</a></code> as negative numbers.  [perl #126991]</p>
</li>
<li>
<p><code class="inline">unless ( <i>assignment</i> )</code> now properly warns when syntax
warnings are enabled.  [perl #127122]</p>
</li>
<li>
<p>Setting an <pre>
<span class="w">ISA</span></code>
 glob to an array reference now properly adds
<pre>
<span class="w">isaelem</span></code>
 magic to any existing elements.  Previously modifying such
an element would not update the ISA cache, so method calls would call
the wrong function.  Perl would also crash if the <pre>
<span class="w">ISA</span></code>
 glob was
destroyed, since new code added in 5.23.7 would try to release the
<pre>
<span class="w">isaelem</span></code>
 magic from the elements.  [perl #127351]</p>
</li>
<li>
<p>If a here-doc was found while parsing another operator, the parser had
already read end of file, and the here-doc was not terminated, perl
could produce an assertion or a segmentation fault.  This now reliably
complains about the unterminated here-doc.  [perl #125540]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/untie.html">untie()</a></code> would sometimes return the last value returned by the <pre>
<span class="i">UNTIE</span><span class="s">(</span><span class="s">)</span></code>

handler as well as it's normal value, messing up the stack.  [perl
#126621]</p>
</li>
<li>
<p>Fixed an operator precedence problem when <pre>
 <span class="w">castflags</span> &amp; <span class="n">2</span></code>
 is true.
[perl #127474]</p>
</li>
<li>
<p>Caching of DESTROY methods could result in a non-pointer or a
non-STASH stored in the <pre>
<span class="i">SvSTASH</span><span class="s">(</span><span class="s">)</span></code>
 slot of a stash, breaking the B
<pre>
<span class="i">STASH</span><span class="s">(</span><span class="s">)</span></code>
 method.  The DESTROY method is now cached in the MRO metadata
for the stash.  [perl #126410]</p>
</li>
<li>
<p>The AUTOLOAD method is now called when searching for a DESTROY method,
and correctly sets <pre>
<span class="i">$AUTOLOAD</span></code>
 too.  [perl #124387]  [perl #127494]</p>
</li>
<li>
<p>Avoid parsing beyond the end of the buffer when processing a <pre>
<span class="c">#line</span></code>

directive with no filename.  [perl #127334]</p>
</li>
<li>
<p>Perl now raises a warning when a regular expression pattern looks like
it was supposed to contain a POSIX class, like <code class="inline"><a class="l_k" href="functions/qr.html">qr/[[:alpha:]]/</a></code>, but
there was some slight defect in its specification which causes it to
instead be treated as a regular bracketed character class.  An example
would be missing the second colon in the above like this:
<code class="inline"><a class="l_k" href="functions/qr.html">qr/[[:alpha]]/</a></code>.  This compiles to match a sequence of two characters.
The second is <pre>
<span class="q">&quot;]&quot;</span></code>
, and the first is any of: <pre>
<span class="q">&quot;[&quot;</span></code>
, <pre>
<span class="q">&quot;:&quot;</span></code>
, <pre>
<span class="q">&quot;a&quot;</span></code>
,
<pre>
<span class="q">&quot;h&quot;</span></code>
, <pre>
<span class="q">&quot;l&quot;</span></code>
, or <pre>
<span class="q">&quot;p&quot;</span></code>
.   This is unlikely to be the intended
meaning, and now a warning is raised.  No warning is raised unless the
specification is very close to one of the 14 legal POSIX classes.  (See
<a href="perlrecharclass.html#POSIX-Character-Classes">POSIX Character Classes in perlrecharclass</a>.)
[perl #8904]</p>
</li>
<li>
<p>Certain regex patterns involving a complemented POSIX class in an
inverted bracketed character class, and matching something else
optionally would improperly fail to match.  An example of one that could
fail is <code class="inline"><a class="l_k" href="functions/qr.html">qr/_?[^\Wbar]\x{100}/</a></code>.  This has been fixed.
[perl #127537]</p>
</li>
<li>
<p>Perl 5.22 added support to the C99 hexadecimal floating point notation,
but sometimes misparses hex floats. This has been fixed.
[perl #127183]</p>
</li>
<li>
<p>A regression that allowed undeclared barewords in hash keys to work despite
strictures has been fixed.
<a href="https://rt.perl.org/Ticket/Display.html?id=126981">[perl #126981]</a></p>
</li>
<li>
<p>Calls to the placeholder <pre>
<span class="i">&amp;PL_sv_yes</span></code>
 used internally when an <code class="inline"><a class="l_k" href="functions/import.html">import()</a></code>
or <pre>
<span class="i">unimport</span><span class="s">(</span><span class="s">)</span></code>
 method isn't found now correctly handle scalar context.
<a href="https://rt.perl.org/Ticket/Display.html?id=126042">[perl #126042]</a></p>
</li>
<li>
<p>Report more context when we see an array where we expect to see an
operator and avoid an assertion failure.
<a href="https://rt.perl.org/Ticket/Display.html?id=123737">[perl #123737]</a></p>
</li>
<li>
<p>Modifying an array that was previously a package <pre>
<span class="i">@ISA</span></code>
 no longer
causes assertion failures or crashes.
<a href="https://rt.perl.org/Ticket/Display.html?id=123788">[perl #123788]</a></p>
</li>
<li>
<p>Retain binary compatibility across plain and DEBUGGING perl builds.
<a href="https://rt.perl.org/Ticket/Display.html?id=127212">[perl #127212]</a></p>
</li>
<li>
<p>Avoid leaking memory when setting <pre>
<span class="i">$ENV</span>{<span class="w">foo</span>}</code>
 on darwin.
<a href="https://rt.perl.org/Ticket/Display.html?id=126240">[perl #126240]</a></p>
</li>
<li>
<p><pre>
<span class="q">/...\G/</span></code>
 no longer crashes on utf8 strings. When <pre>
\<span class="w">G</span></code>
 is a fixed number
of characters from the start of the regex, perl needs to count back that
many characters from the current <code class="inline"><a class="l_k" href="functions/pos.html">pos()</a></code> position and start matching from
there. However, it was counting back bytes rather than characters, which
could lead to panics on utf8 strings.</p>
</li>
<li>
<p>In some cases operators that return integers would return negative
integers as large positive integers.
<a href="https://rt.perl.org/Ticket/Display.html?id=126635">[perl #126635]</a></p>
</li>
<li>
<p>The <code class="inline"><a class="l_k" href="functions/pipe.html">pipe()</a></code> operator would assert for DEBUGGING builds instead of
producing the correct error message.  The condition asserted on is
detected and reported on correctly without the assertions, so the
assertions were removed.
<a href="https://rt.perl.org/Ticket/Display.html?id=126480">[perl #126480]</a></p>
</li>
<li>
<p>In some cases, failing to parse a here-doc would attempt to use freed
memory.  This was caused by a pointer not being restored correctly.
<a href="https://rt.perl.org/Ticket/Display.html?id=126443">[perl #126443]</a></p>
</li>
<li>
<p><pre>
<span class="i">@x</span> = <a class="l_k" href="functions/sort.html">sort</a> <span class="s">{</span> <span class="i">*a</span> = <span class="n">0</span><span class="sc">;</span> <span class="i">$a</span> &lt;=&gt; <span class="i">$b</span> <span class="s">}</span> <span class="n">0</span> .. <span class="n">1</span></code>
 no longer frees the GP
for *a before restoring its SV slot.
<a href="https://rt.perl.org/Ticket/Display.html?id=124097">[perl #124097]</a></p>
</li>
<li>
<p>Multiple problems with the new hexadecimal floating point printf
format <pre>
<span class="i">%a</span></code>
 were fixed:
<a href="https://rt.perl.org/Ticket/Display.html?id=126582">[perl #126582]</a>,
<a href="https://rt.perl.org/Ticket/Display.html?id=126586">[perl #126586]</a>,
<a href="https://rt.perl.org/Ticket/Display.html?id=126822">[perl #126822]</a></p>
</li>
<li>
<p>Calling <pre>
<span class="i">mg_set</span><span class="s">(</span><span class="s">)</span></code>
 in <pre>
<span class="i">leave_scope</span><span class="s">(</span><span class="s">)</span></code>
 no longer leaks.</p>
</li>
<li>
<p>A regression from Perl v5.20 was fixed in which debugging output of regular
expression compilation was wrong.  (The pattern was correctly compiled, but
what got displayed for it was wrong.)</p>
</li>
<li>
<p><pre>
\<span class="i">b</span><span class="s">{</span><span class="w">sb</span><span class="s">}</span></code>
 works much better.  In Perl v5.22.0, this new construct didn't
seem to give the expected results, yet passed all the tests in the
extensive suite furnished by Unicode.  It turns out that it was because
these were short input strings, and the failures had to do with longer
inputs.</p>
</li>
<li>
<p>Certain syntax errors in
<a href="perlrecharclass.html#Extended-Bracketed-Character-Classes">Extended Bracketed Character Classes in perlrecharclass</a> caused panics
instead of the proper error message.  This has now been fixed. [perl
#126481]</p>
</li>
<li>
<p>Perl 5.20 added a message when a quantifier in a regular
expression was useless, but then caused the parser to skip it;
this caused the surplus quantifier to be silently ignored, instead
of throwing an error. This is now fixed. [perl #126253]</p>
</li>
<li>
<p>The switch to building non-XS modules last in win32/makefile.mk (introduced
by design as part of the changes to enable parallel building) caused the
build of POSIX to break due to problems with the version module. This
is now fixed.</p>
</li>
<li>
<p>Improved parsing of hex float constants.</p>
</li>
<li>
<p>Fixed an issue with <code class="inline"><a class="l_k" href="functions/pack.html">pack</a></code> where <pre>
<a class="l_k" href="functions/pack.html">pack</a> <span class="q">&quot;H&quot;</span></code>
 (and <pre>
<a class="l_k" href="functions/pack.html">pack</a> <span class="q">&quot;h&quot;</span></code>
)
could read past the source when given a non-utf8 source, and a utf8 target.
[perl #126325]</p>
</li>
<li>
<p>Fixed several cases where perl would abort due to a segmentation fault,
or a C-level assert. [perl #126615], [perl #126602], [perl #126193].</p>
</li>
<li>
<p>There were places in regular expression patterns where comments (<code class="inline">(?#...)</code>)
weren't allowed, but should have been.  This is now fixed.
<a href="https://rt.perl.org/Ticket/Display.html?id=116639">[perl #116639]</a></p>
</li>
<li>
<p>Some regressions from Perl 5.20 have been fixed, in which some syntax errors in
<a href="perlrecharclass.html#Extended-Bracketed-Character-Classes">(?[...])</a> constructs
within regular expression patterns could cause a segfault instead of a proper
error message.
<a href="https://rt.perl.org/Ticket/Display.html?id=126180">[perl #126180]</a>
<a href="https://rt.perl.org/Ticket/Display.html?id=126404">[perl #126404]</a></p>
</li>
<li>
<p>Another problem with
<a href="perlrecharclass.html#Extended-Bracketed-Character-Classes">(?[...])</a>
constructs has been fixed wherein things like <code class="inline">\c]</code> could cause panics.
<a href="https://rt.perl.org/Ticket/Display.html?id=126181">[perl #126181]</a></p>
</li>
<li>
<p>Some problems with attempting to extend the perl stack to around 2G or 4G
entries have been fixed.  This was particularly an issue on 32-bit perls built
to use 64-bit integers, and was easily noticeable with the list repetition
operator, e.g.</p>
<pre>
    <span class="i">@a</span> = <span class="s">(</span><span class="n">1</span><span class="s">)</span> x <span class="i">$big_number</span></pre>
<p>Formerly perl may have crashed, depending on the exact value of <pre>
<span class="i">$big_number</span></code>
;
now it will typically raise an exception.
<a href="https://rt.perl.org/Ticket/Display.html?id=125937">[perl #125937]</a></p>
</li>
<li>
<p>In a regex conditional expression <code class="inline">(?(condition)yes-pattern|no-pattern)</code>, if
the condition is <code class="inline">(?!)</code> then perl failed the match outright instead of
matching the no-pattern.  This has been fixed.
<a href="https://rt.perl.org/Ticket/Display.html?id=126222">[perl #126222]</a></p>
</li>
<li>
<p>The special backtracking control verbs <code class="inline">(*VERB:ARG)</code> now all allow an optional
argument and set <pre>
<span class="w">REGERROR</span></code>
/<pre>
<span class="w">REGMARK</span></code>
 appropriately as well.
<a href="https://rt.perl.org/Ticket/Display.html?id=126186">[perl #126186]</a></p>
</li>
<li>
<p>Several bugs, including a segmentation fault, have been fixed with the boundary
checking constructs (introduced in Perl 5.22) <pre>
\<span class="i">b</span><span class="s">{</span><span class="w">gcb</span><span class="s">}</span></code>
, <pre>
\<span class="i">b</span><span class="s">{</span><span class="w">sb</span><span class="s">}</span></code>
, <pre>
\<span class="i">b</span><span class="s">{</span><span class="w">wb</span><span class="s">}</span></code>
,
<pre>
\<span class="i">B</span><span class="s">{</span><span class="w">gcb</span><span class="s">}</span></code>
, <pre>
\<span class="i">B</span><span class="s">{</span><span class="w">sb</span><span class="s">}</span></code>
, and <pre>
\<span class="i">B</span><span class="s">{</span><span class="w">wb</span><span class="s">}</span></code>
.  All the <pre>
\<span class="w">B</span><span class="s">{</span><span class="s">}</span></code>
 ones now match an empty
string; none of the <pre>
\<span class="w">b</span><span class="s">{</span><span class="s">}</span></code>
 ones do.
<a href="https://rt.perl.org/Ticket/Display.html?id=126319">[perl #126319]</a></p>
</li>
<li>
<p>Duplicating a closed file handle for write no longer creates a
filename of the form <i>GLOB(0xXXXXXXXX)</i>.  [perl #125115]</p>
</li>
<li>
<p>Warning fatality is now ignored when rewinding the stack.  This
prevents infinite recursion when the now fatal error also causes
rewinding of the stack.  [perl #123398]</p>
</li>
<li>
<p>In perl v5.22.0, the logic changed when parsing a numeric parameter to the -C
option, such that the successfully parsed number was not saved as the option
value if it parsed to the end of the argument.  [perl #125381]</p>
</li>
<li>
<p>The PadlistNAMES macro is an lvalue again.</p>
</li>
<li>
<p>Zero -DPERL_TRACE_OPS memory for sub-threads.</p>
<p><pre>
<span class="i">perl_clone_using</span><span class="s">(</span><span class="s">)</span></code>
 was missing Zero init of PL_op_exec_cnt[].  This
caused sub-threads in threaded -DPERL_TRACE_OPS builds to spew exceedingly
large op-counts at destruct.  These counts would print %x as "ABABABAB",
clearly a mem-poison value.</p>
</li>
<li>
<p>A leak in the XS typemap caused one scalar to be leaked each time a <pre>
<span class="w">FILE</span> *</code>

or a <pre>
<span class="w">PerlIO</span> *</code>
 was <pre>
<span class="j">OUTPUT:</span></code>
ed or imported to Perl, since perl 5.000. These
particular typemap entries are thought to be extremely rarely used by XS
modules. [perl #124181]</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/alarm.html">alarm()</a></code> and <code class="inline"><a class="l_k" href="functions/sleep.html">sleep()</a></code> will now warn if the argument is a negative number
and return undef. Previously they would pass the negative value to the
underlying C function which may have set up a timer with a surprising value.</p>
</li>
<li>
<p>Perl can again be compiled with any Unicode version.  This used to
(mostly) work, but was lost in v5.18 through v5.20.  The property
<pre>
<span class="w">Name_Alias</span></code>
 did not exist prior to Unicode 5.0.  <a href="Unicode/UCD.html">Unicode::UCD</a>
incorrectly said it did.  This has been fixed.</p>
</li>
<li>
<p>Very large code-points (beyond Unicode) in regular expressions no
longer cause a buffer overflow in some cases when converted to UTF-8.
<a href="https://rt.perl.org/Ticket/Display.html?id=125826">[perl #125826]</a></p>
</li>
<li>
<p>The integer overflow check for the range operator (...) in list
context now correctly handles the case where the size of the range is
larger than the address space.  This could happen on 32-bits with
-Duse64bitint.
<a href="https://rt.perl.org/Ticket/Display.html?id=125781">[perl #125781]</a></p>
</li>
<li>
<p>A crash with <pre>
<span class="i">%::</span>=<span class="s">(</span><span class="s">)</span><span class="sc">;</span> <span class="w">J</span><span class="i">-&gt;$</span>{\<span class="q">&quot;::&quot;</span>}</code>
 has been fixed.
<a href="https://rt.perl.org/Ticket/Display.html?id=125541">[perl #125541]</a></p>
</li>
<li>
<p><pre>
<span class="q">qr/(?[ () ])/</span></code>
 no longer segfaults, giving a syntax error message instead.
[perl #125805]</p>
</li>
<li>
<p>Regular expression possessive quantifier v5.20 regression now fixed.
<code class="inline"><a class="l_k" href="functions/qr.html">qr/</a></code><i>PAT</i><code class="inline">{</code><i>min</i>,<i>max</i><code class="inline">}+</code><code class="inline">/</code> is supposed to behave identically
to <code class="inline"><a class="l_k" href="functions/qr.html">qr/(?></a></code><i>PAT</i><code class="inline">{</code><i>min</i>,<i>max</i><code class="inline">})/</code>.  Since v5.20, this didn't
work if <i>min</i> and <i>max</i> were equal.  [perl #125825]</p>
</li>
<li>
<p><pre>
<a class="l_k" href="functions/BEGIN.html">BEGIN</a> &lt;&gt;</code>
 no longer segfaults and properly produces an error
message.  [perl #125341]</p>
</li>
<li>
<p>In <code class="inline"><a class="l_k" href="functions/tr.html">tr///</a></code> an illegal backwards range like <code class="inline"><a class="l_k" href="functions/tr.html">tr/\x{101}-\x{100}//</a></code> was
not always detected, giving incorrect results.  This is now fixed.</p>
</li>
</ul>
<a id="Acknowledgements"></a><h2 class='h2' >Acknowledgements</h2>
<p>Perl 5.24.0 represents approximately 11 months of development since Perl 5.24.0
and contains approximately 360,000 lines of changes across 1,800 files from 75
authors.</p>
<p>Excluding auto-generated files, documentation and release tools, there were
approximately 250,000 lines of changes to 1,200 .pm, .t, .c and .h files.</p>
<p>Perl continues to flourish into its third decade thanks to a vibrant community
of users and developers. The following people are known to have contributed the
improvements that became Perl 5.24.0:</p>
<p>Aaron Crane, Aaron Priven, Abigail, Achim Gratz, Alexander D'Archangel, Alex
Vandiver, Andreas K&#xf6;nig, Andy Broad, Andy Dougherty, Aristotle Pagaltzis,
Chase Whitener, Chas. Owens, Chris 'BinGOs' Williams, Craig A. Berry, Dagfinn
Ilmari Manns&#xe5;ker, Dan Collins, Daniel Dragan, David Golden, David Mitchell,
Doug Bell, Dr.Ruud, Ed Avis, Ed J, Father Chrysostomos, Herbert Breunung,
H.Merijn Brand, Hugo van der Sanden, Ivan Pozdeev, James E Keenan, Jan Dubois,
Jarkko Hietaniemi, Jerry D. Hedden, Jim Cromie, John Peacock, John SJ Anderson,
Karen Etheridge, Karl Williamson, kmx, Leon Timmermans, Ludovic E. R.
Tolhurst-Cleaver, Lukas Mai, Martijn Lievaart, Matthew Horsfall, Mattia Barbon,
Max Maischein, Mohammed El-Afifi, Nicholas Clark, Nicolas R., Niko Tyni, Peter
John Acklam, Peter Martini, Peter Rabbitson, Pip Cet, Rafael Garcia-Suarez,
Reini Urban, Ricardo Signes, Sawyer X, Shlomi Fish, Sisyphus, Stanislaw Pusep,
Steffen M&#xfc;ller, Stevan Little, Steve Hay, Sullivan Beck, Thomas Sibley, Todd
Rinaldo, Tom Hukins, Tony Cook, Unicode Consortium, Victor Adam, Vincent Pit,
Vladimir Timofeev, Yves Orton, Zachary Storer, Zefram.</p>
<p>The list above is almost certainly incomplete as it is automatically generated
from version control history. In particular, it does not include the names of
the (very much appreciated) contributors who reported issues to the Perl bug
tracker.</p>
<p>Many of the changes included in this version originated in the CPAN modules
included in Perl's core. We're grateful to the entire CPAN community for
helping Perl to flourish.</p>
<p>For a more complete list of all of Perl's historical contributors, please see
the <i>AUTHORS</i> file in the Perl source distribution.</p>
<a id="Reporting-Bugs"></a><h2 class='h2' >Reporting Bugs</h2>
<p>If you find what you think is a bug, you might check the articles recently
posted to the comp.lang.perl.misc newsgroup and the perl bug database at
https://rt.perl.org/ .  There may also be information at
<a href="http://www.perl.org/">http://www.perl.org/</a> , the Perl Home Page.</p>
<p>If you believe you have an unreported bug, please run the <a href="perlbug.html">perlbug</a> program
included with your release.  Be sure to trim your bug down to a tiny but
sufficient test case.  Your bug report, along with the output of <pre>
<span class="w">perl</span> -<span class="w">V</span></code>
,
will be sent off to perlbug@perl.org to be analysed by the Perl porting team.</p>
<p>If the bug you are reporting has security implications which make it
inappropriate to send to a publicly archived mailing list, then see
<a href="perlsec.html#SECURITY-VULNERABILITY-CONTACT-INFORMATION">SECURITY VULNERABILITY CONTACT INFORMATION in perlsec</a>
for details of how to report the issue.</p>
<a id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p>The <i>Changes</i> file for an explanation of how to view exhaustive details on
what changed.</p>
<p>The <i>INSTALL</i> file for how to build Perl.</p>
<p>The <i>README</i> file for general stuff.</p>
<p>The <i>Artistic</i> and <i>Copying</i> files for copyright information.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Core-Enhancements">Core Enhancements</a></li><ul><li><a href="#Postfix-dereferencing-is-no-longer-experimental">Postfix dereferencing is no longer experimental</a></li><li><a href="#Unicode-8.0-is-now-supported">Unicode 8.0 is now supported</a></li><li><a href="#perl-will-now-croak-when-closing-an-in-place-output-file-fails">perl will now croak when closing an in-place output file fails</a></li><li><a href="#New-%5cb%7blb%7d-boundary-in-regular-expressions">New \b{lb} boundary in regular expressions</a></li><li><a href="#qr%2f(%3f%5b-%5d)%2f-now-works-in-UTF-8-locales">qr/(?[ ])/ now works in UTF-8 locales</a></li><li><a href="#Integer-shift-(%3c%3c-and-%3e%3e)-now-more-explicitly-defined">Integer shift (<< and >>) now more explicitly defined</a></li><li><a href="#printf-and-sprintf-now-allow-reordered-precision-arguments">printf and sprintf now allow reordered precision arguments</a></li><li><a href="#More-fields-provided-to-sigaction-callback-with-SA_SIGINFO">More fields provided to sigaction callback with SA_SIGINFO</a></li><li><a href="#Hashbang-redirection-to-Perl-6">Hashbang redirection to Perl 6</a></li></ul><li><a href="#Security">Security</a></li><ul><li><a href="#Set-proper-umask-before-calling-mkstemp(3)">Set proper umask before calling mkstemp(3)</a></li><li><a href="#Fix-out-of-boundary-access-in-Win32-path-handling">Fix out of boundary access in Win32 path handling</a></li><li><a href="#Fix-loss-of-taint-in-canonpath">Fix loss of taint in canonpath</a></li><li><a href="#Avoid-accessing-uninitialized-memory-in-win32-crypt()">Avoid accessing uninitialized memory in win32 crypt()</a></li><li><a href="#Remove-duplicate-environment-variables-from-environ">Remove duplicate environment variables from environ</a></li></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a></li><ul><li><a href="#The-autoderef-feature-has-been-removed">The autoderef feature has been removed</a></li><li><a href="#Lexical-%24_-has-been-removed">Lexical $_ has been removed</a></li><li><a href="#qr%2f%5cb%7bwb%7d%2f-is-now-tailored-to-Perl-expectations">qr/\b{wb}/ is now tailored to Perl expectations</a></li><li><a href="#Regular-expression-compilation-errors">Regular expression compilation errors</a></li><li><a href="#qr%2f%5cN%7b%7d%2f-now-disallowed-under-use-re-%22strict%22">qr/\N{}/ now disallowed under use re "strict"</a></li><li><a href="#Nested-declarations-are-now-disallowed">Nested declarations are now disallowed</a></li><li><a href="#The-%2f%5cC%2f-character-class-has-been-removed.">The /\C/ character class has been removed.</a></li><li><a href="#chdir('')-no-longer-chdirs-home">chdir('') no longer chdirs home</a></li><li><a href="#ASCII-characters-in-variable-names-must-now-be-all-visible">ASCII characters in variable names must now be all visible</a></li><li><a href="#An-off-by-one-issue-in-%24Carp%3a%3aMaxArgNums-has-been-fixed">An off by one issue in $Carp::MaxArgNums has been fixed</a></li><li><a href="#Only-blanks-and-tabs-are-now-allowed-within-%5b...%5d-within-(%3f%5b...%5d).">Only blanks and tabs are now allowed within [...] within (?[...]).</a></li></ul><li><a href="#Deprecations">Deprecations</a></li><ul><li><a href="#Using-code-points-above-the-platform's-IV_MAX-is-now-deprecated">Using code points above the platform's IV_MAX is now deprecated</a></li><li><a href="#Doing-bitwise-operations-on-strings-containing-code-points-above-0xFF-is-deprecated">Doing bitwise operations on strings containing code points above
0xFF is deprecated</a></li><li><a href="#sysread()%2c-syswrite()%2c-recv()-and-send()-are-deprecated-on-%3autf8-handles">sysread(), syswrite(), recv() and send() are deprecated on
:utf8 handles</a></li></ul><li><a href="#Performance-Enhancements">Performance Enhancements</a></li><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a></li><ul><li><a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a></li></ul><li><a href="#Documentation">Documentation</a></li><ul><li><a href="#Changes-to-Existing-Documentation">Changes to Existing Documentation</a></li></ul><li><a href="#Diagnostics">Diagnostics</a></li><ul><li><a href="#New-Diagnostics">New Diagnostics</a></li><li><a href="#Changes-to-Existing-Diagnostics">Changes to Existing Diagnostics</a></li></ul><li><a href="#Configuration-and-Compilation">Configuration and Compilation</a></li><li><a href="#Testing">Testing</a></li><li><a href="#Platform-Support">Platform Support</a></li><ul><li><a href="#Platform-Specific-Notes">Platform-Specific Notes</a></li></ul><li><a href="#Internal-Changes">Internal Changes</a></li><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a></li><li><a href="#Acknowledgements">Acknowledgements</a></li><li><a href="#Reporting-Bugs">Reporting Bugs</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul>


                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/28/0/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/28/0/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/28/0/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/28/0/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/28/0/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/28/0/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/28/0/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
