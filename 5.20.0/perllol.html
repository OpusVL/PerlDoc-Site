<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="perllol - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>perllol - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.20.0/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.20.0/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.20.0/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.20.0/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.20.0/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.20.0/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.20.0/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.20.0/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.20.0/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.20.0/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.20.0/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.20.0/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.20.0/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.20.0/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.20.0/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.20.0/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-tutorials.html">Tutorials</a> &gt;
      
    
    perllol
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 20.0 documentation</h1>
                  </div>
                  <h1>perllol</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Declaration-and-Access-of-Arrays-of-Arrays">Declaration and Access of Arrays of Arrays</a></li><li><a href="#Growing-Your-Own">Growing Your Own</a></li><li><a href="#Access-and-Printing">Access and Printing</a></li><li><a href="#Slices">Slices</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR">AUTHOR</a></li></ul><a id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perllol - Manipulating Arrays of Arrays in Perl</p>
<a id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<a id="Declaration-and-Access-of-Arrays-of-Arrays"></a><h3 class='h3' >Declaration and Access of Arrays of Arrays</h3>
<p>The simplest two-level data structure to build in Perl is an array of
arrays, sometimes casually called a list of lists.  It's reasonably easy to
understand, and almost everything that applies here will also be applicable
later on with the fancier data structures.</p>
<p>An array of an array is just a regular old array @AoA that you can
get at with two subscripts, like <pre>
<span class="i">$AoA</span>[<span class="n">3</span>][<span class="n">2</span>]</code>
.  Here's a declaration
of the array:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="n">5.010</span><span class="sc">;</span>  <span class="c"># so we can use say()</span>

    <span class="c"># assign to our array, an array of array references</span>
    <span class="i">@AoA</span> = <span class="s">(</span>
	   <span class="s">[</span> <span class="q">&quot;fred&quot;</span><span class="cm">,</span> <span class="q">&quot;barney&quot;</span><span class="cm">,</span> <span class="q">&quot;pebbles&quot;</span><span class="cm">,</span> <span class="q">&quot;bambam&quot;</span><span class="cm">,</span> <span class="q">&quot;dino&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
	   <span class="s">[</span> <span class="q">&quot;george&quot;</span><span class="cm">,</span> <span class="q">&quot;jane&quot;</span><span class="cm">,</span> <span class="q">&quot;elroy&quot;</span><span class="cm">,</span> <span class="q">&quot;judy&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
	   <span class="s">[</span> <span class="q">&quot;homer&quot;</span><span class="cm">,</span> <span class="q">&quot;bart&quot;</span><span class="cm">,</span> <span class="q">&quot;marge&quot;</span><span class="cm">,</span> <span class="q">&quot;maggie&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/say.html">say</a> <span class="i">$AoA</span>[<span class="n">2</span>][<span class="n">1</span>]<span class="sc">;</span>
  <span class="w">bart</span></pre>
<p>Now you should be very careful that the outer bracket type
is a round one, that is, a parenthesis.  That's because you're assigning to
an @array, so you need parentheses.  If you wanted there <i>not</i> to be an @AoA,
but rather just a reference to it, you could do something more like this:</p>
<pre>
    <span class="c"># assign a reference to array of array references</span>
    <span class="i">$ref_to_AoA</span> = <span class="s">[</span>
	<span class="s">[</span> <span class="q">&quot;fred&quot;</span><span class="cm">,</span> <span class="q">&quot;barney&quot;</span><span class="cm">,</span> <span class="q">&quot;pebbles&quot;</span><span class="cm">,</span> <span class="q">&quot;bambam&quot;</span><span class="cm">,</span> <span class="q">&quot;dino&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
	<span class="s">[</span> <span class="q">&quot;george&quot;</span><span class="cm">,</span> <span class="q">&quot;jane&quot;</span><span class="cm">,</span> <span class="q">&quot;elroy&quot;</span><span class="cm">,</span> <span class="q">&quot;judy&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
	<span class="s">[</span> <span class="q">&quot;homer&quot;</span><span class="cm">,</span> <span class="q">&quot;bart&quot;</span><span class="cm">,</span> <span class="q">&quot;marge&quot;</span><span class="cm">,</span> <span class="q">&quot;maggie&quot;</span><span class="cm">,</span> <span class="s">]</span><span class="cm">,</span>
    <span class="s">]</span><span class="sc">;</span>
    <a class="l_k" href="functions/say.html">say</a> <span class="i">$ref_to_AoA</span>-&gt;[<span class="n">2</span>][<span class="n">1</span>]<span class="sc">;</span>
  <span class="w">bart</span></pre>
<p>Notice that the outer bracket type has changed, and so our access syntax
has also changed.  That's because unlike C, in perl you can't freely
interchange arrays and references thereto.  $ref_to_AoA is a reference to an
array, whereas @AoA is an array proper.  Likewise, <pre>
<span class="i">$AoA</span>[<span class="n">2</span>]</code>
 is not an
array, but an array ref.  So how come you can write these:</p>
<div class="verbatim"><ol><li>    $AoA[2][2]</li><li>    $ref_to_AoA-&gt;[2][2]</li></ol></div><p>instead of having to write these:</p>
<div class="verbatim"><ol><li>    $AoA[2]-&gt;[2]</li><li>    $ref_to_AoA-&gt;[2]-&gt;[2]</li></ol></div><p>Well, that's because the rule is that on adjacent brackets only (whether
square or curly), you are free to omit the pointer dereferencing arrow.
But you cannot do so for the very first one if it's a scalar containing
a reference, which means that $ref_to_AoA always needs it.</p>
<a id="Growing-Your-Own"></a><h3 class='h3' >Growing Your Own</h3>
<p>That's all well and good for declaration of a fixed data structure,
but what if you wanted to add new elements on the fly, or build
it up entirely from scratch?</p>
<p>First, let's look at reading it in from a file.  This is something like
adding a row at a time.  We'll assume that there's a flat file in which
each line is a row and each word an element.  If you're trying to develop an
@AoA array containing all these, here's the right way to do that:</p>
<pre>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<span class="i">@tmp</span> = <a class="l_k" href="functions/split.html">split</a><span class="sc">;</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@AoA</span><span class="cm">,</span> <span class="s">[</span> <span class="i">@tmp</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>You might also have loaded that from a function:</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">1</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <span class="i">somefunc</span><span class="s">(</span><span class="i">$i</span><span class="s">)</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Or you might have had a temporary variable sitting around with the
array in it.</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">1</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">@tmp</span> = <span class="i">somefunc</span><span class="s">(</span><span class="i">$i</span><span class="s">)</span><span class="sc">;</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <span class="i">@tmp</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>It's important you make sure to use the <pre>
<span class="s">[</span> <span class="s">]</span></code>
 array reference
constructor.  That's because this wouldn't work:</p>
<pre>
    <span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="i">@tmp</span><span class="sc">;</span>   <span class="c"># WRONG!</span></pre>
<p>The reason that doesn't do what you want is because assigning a
named array like that to a scalar is taking an array in scalar
context, which means just counts the number of elements in @tmp.</p>
<p>If you are running under <pre>
<a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span></code>
 (and if you aren't, why in
the world aren't you?), you'll have to add some declarations to
make it happy:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span><span class="sc">;</span>
    <a class="l_k" href="functions/my.html">my</a><span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">@tmp</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<span class="i">@tmp</span> = <a class="l_k" href="functions/split.html">split</a><span class="sc">;</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@AoA</span><span class="cm">,</span> <span class="s">[</span> <span class="i">@tmp</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Of course, you don't need the temporary array to have a name at all:</p>
<pre>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@AoA</span><span class="cm">,</span> <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>You also don't have to use push().  You could just make a direct assignment
if you knew where you wanted to put it:</p>
<pre>
    <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">$i</span><span class="cm">,</span> <span class="i">$line</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$line</span> = &lt;&gt;<span class="sc">;</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="q">&quot; &quot;</span><span class="cm">,</span> <span class="i">$line</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>or even just</p>
<pre>
    <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">$i</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="q">&quot; &quot;</span><span class="cm">,</span> &lt;&gt; <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>You should in general be leery of using functions that could
potentially return lists in scalar context without explicitly stating
such.  This would be clearer to the casual reader:</p>
<pre>
    <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">@AoA</span><span class="cm">,</span> <span class="i">$i</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">10</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$i</span>] = <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="q">&quot; &quot;</span><span class="cm">,</span> <a class="l_k" href="functions/scalar.html">scalar</a><span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>If you wanted to have a $ref_to_AoA variable as a reference to an array,
you'd have to do something like this:</p>
<pre>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@$ref_to_AoA</span><span class="cm">,</span> <span class="s">[</span> <a class="l_k" href="functions/split.html">split</a> <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Now you can add new rows.  What about adding new columns?  If you're
dealing with just matrices, it's often easiest to use simple assignment:</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$x</span> <span class="s">(</span><span class="n">1</span> .. <span class="n">10</span><span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/for.html">for</a> <span class="i">$y</span> <span class="s">(</span><span class="n">1</span> .. <span class="n">10</span><span class="s">)</span> <span class="s">{</span>
	    <span class="i">$AoA</span>[<span class="i">$x</span>][<span class="i">$y</span>] = <span class="i">func</span><span class="s">(</span><span class="i">$x</span><span class="cm">,</span> <span class="i">$y</span><span class="s">)</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span>

    <a class="l_k" href="functions/for.html">for</a> <span class="i">$x</span> <span class="s">(</span> <span class="n">3</span><span class="cm">,</span> <span class="n">7</span><span class="cm">,</span> <span class="n">9</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$AoA</span>[<span class="i">$x</span>][<span class="n">20</span>] += <span class="i">func2</span><span class="s">(</span><span class="i">$x</span><span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>It doesn't matter whether those elements are already
there or not: it'll gladly create them for you, setting
intervening elements to <code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> as need be.</p>
<p>If you wanted just to append to a row, you'd have
to do something a bit funnier looking:</p>
<pre>
    <span class="c"># add new columns to an existing row</span>
    <a class="l_k" href="functions/push.html">push</a> <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="n">0</span>] }<span class="cm">,</span> <span class="q">&quot;wilma&quot;</span><span class="cm">,</span> <span class="q">&quot;betty&quot;</span><span class="sc">;</span>   <span class="c"># explicit deref</span></pre>
<p>Prior to Perl 5.14, this wouldn't even compile:</p>
<pre>
    <a class="l_k" href="functions/push.html">push</a> <span class="i">$AoA</span>[<span class="n">0</span>]<span class="cm">,</span> <span class="q">&quot;wilma&quot;</span><span class="cm">,</span> <span class="q">&quot;betty&quot;</span><span class="sc">;</span>        <span class="c"># implicit deref</span></pre>
<p>How come?  Because once upon a time, the argument to push() had to be a
real array, not just a reference to one. That's no longer true.  In fact,
the line marked "implicit deref" above works just fine--in this
instance--to do what the one that says explicit deref did.</p>
<p>The reason I said "in this instance" is because that <i>only</i> works
because <pre>
<span class="i">$AoA</span>[<span class="n">0</span>]</code>
 already held an array reference.  If you try that on an
undefined variable, you'll take an exception.  That's because the implicit
derefererence will never autovivify an undefined variable the way <pre>
<span class="i">@</span>{ }</code>

always will:</p>
<pre>
    <a class="l_k" href="functions/my.html">my</a> <span class="i">$aref</span> = <a class="l_k" href="functions/undef.html">undef</a><span class="sc">;</span>
    <a class="l_k" href="functions/push.html">push</a> <span class="i">$aref</span><span class="cm">,</span>  <span class="q">qw(some more values)</span><span class="sc">;</span>  <span class="c"># WRONG!</span>
    <a class="l_k" href="functions/push.html">push</a> <span class="i">@$aref</span><span class="cm">,</span> <span class="q">qw(a few more)</span><span class="sc">;</span>        <span class="c"># ok</span></pre>
<p>If you want to take advantage of this new implicit dereferencing behavior,
go right ahead: it makes code easier on the eye and wrist.  Just understand
that older releases will choke on it during compilation.  Whenever you make
use of something that works only in some given release of Perl and later,
but not earlier, you should place a prominent</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="v">v5.14</span><span class="sc">;</span>   <span class="c"># needed for implicit deref of array refs by array ops</span></pre>
<p>directive at the top of the file that needs it.  That way when somebody
tries to run the new code under an old perl, rather than getting an error like</p>
<div class="verbatim"><ol><li>    Type of arg 1 to push must be array (not array element) at /tmp/a line 8, near ""betty";"</li><li>    Execution of /tmp/a aborted due to compilation errors.</li></ol></div><p>they'll be politely informed that</p>
<div class="verbatim"><ol><li>    Perl v5.14.0 required--this is only v5.12.3, stopped at /tmp/a line 1.</li><li>    BEGIN failed--compilation aborted at /tmp/a line 1.</li></ol></div><a id="Access-and-Printing"></a><h3 class='h3' >Access and Printing</h3>
<p>Now it's time to print your data structure out.  How
are you going to do that?  Well, if you want only one
of the elements, it's trivial:</p>
<pre>
    <a class="l_k" href="functions/print.html">print</a> <span class="i">$AoA</span>[<span class="n">0</span>][<span class="n">0</span>]<span class="sc">;</span></pre>
<p>If you want to print the whole thing, though, you can't
say</p>
<pre>
    <a class="l_k" href="functions/print.html">print</a> <span class="i">@AoA</span><span class="sc">;</span>		<span class="c"># WRONG</span></pre>
<p>because you'll get just references listed, and perl will never
automatically dereference things for you.  Instead, you have to
roll yourself a loop or two.  This prints the whole structure,
using the shell-style for() construct to loop across the outer
set of subscripts.</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$aref</span> <span class="s">(</span> <span class="i">@AoA</span> <span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;\t [ @$aref ],&quot;</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>If you wanted to keep track of subscripts, you might do this:</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;\t elt $i is [ @{$AoA[$i]} ],&quot;</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>or maybe even this.  Notice the inner loop.</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/for.html">for</a> <span class="i">$j</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#</span>{<span class="i">$AoA</span>[<span class="i">$i</span>]} <span class="s">)</span> <span class="s">{</span>
	    <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;elt $i $j is $AoA[$i][$j]&quot;</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<p>As you can see, it's getting a bit complicated.  That's why
sometimes is easier to take a temporary on your way through:</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$aref</span> = <span class="i">$AoA</span>[<span class="i">$i</span>]<span class="sc">;</span>
	<a class="l_k" href="functions/for.html">for</a> <span class="i">$j</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#</span>{<span class="i">$aref</span>} <span class="s">)</span> <span class="s">{</span>
	    <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;elt $i $j is $AoA[$i][$j]&quot;</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<p>Hmm... that's still a bit ugly.  How about this:</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="i">$i</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$#AoA</span> <span class="s">)</span> <span class="s">{</span>
	<span class="i">$aref</span> = <span class="i">$AoA</span>[<span class="i">$i</span>]<span class="sc">;</span>
	<span class="i">$n</span> = <span class="i">@$aref</span> - <span class="n">1</span><span class="sc">;</span>
	<a class="l_k" href="functions/for.html">for</a> <span class="i">$j</span> <span class="s">(</span> <span class="n">0</span> .. <span class="i">$n</span> <span class="s">)</span> <span class="s">{</span>
	    <a class="l_k" href="functions/say.html">say</a> <span class="q">&quot;elt $i $j is $AoA[$i][$j]&quot;</span><span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<p>When you get tired of writing a custom print for your data structures,
you might look at the standard <a href="Dumpvalue.html">Dumpvalue</a> or <a href="Data/Dumper.html">Data::Dumper</a> modules.
The former is what the Perl debugger uses, while the latter generates
parsable Perl code.  For example:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="v">v5.14</span><span class="sc">;</span>     <span class="c"># using the + prototype, new to v5.14</span>

<a name="show"></a>    sub <span class="m">show(+)</span> <span class="s">{</span>
	<a class="l_k" href="functions/require.html">require</a> <span class="w">Dumpvalue</span><span class="sc">;</span>
	<span class="w">state</span> <span class="i">$prettily</span> = <span class="w">new</span> <span class="w">Dumpvalue::</span>
			    <span class="w">tick</span>        <span class="cm">=&gt;</span> <span class="q">q(&quot;)</span><span class="cm">,</span>
			    <span class="w">compactDump</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span>  <span class="c"># comment these two lines out</span>
			    <span class="w">veryCompact</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span>  <span class="c"># if you want a bigger dump</span>
			<span class="sc">;</span>
	<span class="w">dumpValue</span> <span class="i">$prettily</span> <span class="i">@_</span><span class="sc">;</span>
    <span class="s">}</span>

    <span class="c"># Assign a list of array references to an array.</span>
    <a class="l_k" href="functions/my.html">my</a> <span class="i">@AoA</span> = <span class="s">(</span>
	   <span class="s">[</span> <span class="q">&quot;fred&quot;</span><span class="cm">,</span> <span class="q">&quot;barney&quot;</span> <span class="s">]</span><span class="cm">,</span>
	   <span class="s">[</span> <span class="q">&quot;george&quot;</span><span class="cm">,</span> <span class="q">&quot;jane&quot;</span><span class="cm">,</span> <span class="q">&quot;elroy&quot;</span> <span class="s">]</span><span class="cm">,</span>
	   <span class="s">[</span> <span class="q">&quot;homer&quot;</span><span class="cm">,</span> <span class="q">&quot;marge&quot;</span><span class="cm">,</span> <span class="q">&quot;bart&quot;</span> <span class="s">]</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/push.html">push</a> <span class="i">$AoA</span>[<span class="n">0</span>]<span class="cm">,</span> <span class="q">&quot;wilma&quot;</span><span class="cm">,</span> <span class="q">&quot;betty&quot;</span><span class="sc">;</span>
    <span class="i">show</span> <span class="i">@AoA</span><span class="sc">;</span></pre>
<p>will print out:</p>
<div class="verbatim"><ol><li>    0  0..3  "fred" "barney" "wilma" "betty"</li><li>    1  0..2  "george" "jane" "elroy"</li><li>    2  0..2  "homer" "marge" "bart"</li></ol></div><p>Whereas if you comment out the two lines I said you might wish to,
then it shows it to you this way instead:</p>
<div class="verbatim"><ol><li>    0  ARRAY(0x8031d0)</li><li>       0  "fred"</li><li>       1  "barney"</li><li>       2  "wilma"</li><li>       3  "betty"</li><li>    1  ARRAY(0x803d40)</li><li>       0  "george"</li><li>       1  "jane"</li><li>       2  "elroy"</li><li>    2  ARRAY(0x803e10)</li><li>       0  "homer"</li><li>       1  "marge"</li><li>       2  "bart"</li></ol></div><a id="Slices"></a><h3 class='h3' >Slices</h3>
<p>If you want to get at a slice (part of a row) in a multidimensional
array, you're going to have to do some fancy subscripting.  That's
because while we have a nice synonym for single elements via the
pointer arrow for dereferencing, no such convenience exists for slices.</p>
<p>Here's how to do one operation using a loop.  We'll assume an @AoA
variable as before.</p>
<pre>
    <span class="i">@part</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$x</span> = <span class="n">4</span><span class="sc">;</span>
    <a class="l_k" href="functions/for.html">for</a> <span class="s">(</span><span class="i">$y</span> = <span class="n">7</span><span class="sc">;</span> <span class="i">$y</span> &lt; <span class="n">13</span><span class="sc">;</span> <span class="i">$y</span>++<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@part</span><span class="cm">,</span> <span class="i">$AoA</span>[<span class="i">$x</span>][<span class="i">$y</span>]<span class="sc">;</span>
    <span class="s">}</span></pre>
<p>That same loop could be replaced with a slice operation:</p>
<pre>
    <span class="i">@part</span> = <span class="i">@</span>{<span class="i">$AoA</span>[<span class="n">4</span>]}[<span class="n">7</span>..<span class="n">12</span>]<span class="sc">;</span></pre>
<p>or spaced out a bit:</p>
<pre>
    <span class="i">@part</span> = <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="n">4</span>] } [ <span class="n">7</span>..<span class="n">12</span> ]<span class="sc">;</span></pre>
<p>But as you might well imagine, this can get pretty rough on the reader.</p>
<p>Ah, but what if you wanted a <i>two-dimensional slice</i>, such as having
$x run from 4..8 and $y run from 7 to 12?  Hmm... here's the simple way:</p>
<pre>
    <span class="i">@newAoA</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/for.html">for</a> <span class="s">(</span><span class="i">$startx</span> = <span class="i">$x</span> = <span class="n">4</span><span class="sc">;</span> <span class="i">$x</span> &lt;= <span class="n">8</span><span class="sc">;</span> <span class="i">$x</span>++<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/for.html">for</a> <span class="s">(</span><span class="i">$starty</span> = <span class="i">$y</span> = <span class="n">7</span><span class="sc">;</span> <span class="i">$y</span> &lt;= <span class="n">12</span><span class="sc">;</span> <span class="i">$y</span>++<span class="s">)</span> <span class="s">{</span>
	    <span class="i">$newAoA</span>[<span class="i">$x</span> - <span class="i">$startx</span>][<span class="i">$y</span> - <span class="i">$starty</span>] = <span class="i">$AoA</span>[<span class="i">$x</span>][<span class="i">$y</span>]<span class="sc">;</span>
	<span class="s">}</span>
    <span class="s">}</span></pre>
<p>We can reduce some of the looping through slices</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <span class="s">(</span><span class="i">$x</span> = <span class="n">4</span><span class="sc">;</span> <span class="i">$x</span> &lt;= <span class="n">8</span><span class="sc">;</span> <span class="i">$x</span>++<span class="s">)</span> <span class="s">{</span>
	<a class="l_k" href="functions/push.html">push</a> <span class="i">@newAoA</span><span class="cm">,</span> <span class="s">[</span> <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="i">$x</span>] } [ <span class="n">7</span>..<span class="n">12</span> ] <span class="s">]</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>If you were into Schwartzian Transforms, you would probably
have selected map for that</p>
<pre>
    <span class="i">@newAoA</span> = <a class="l_k" href="functions/map.html">map</a> <span class="s">{</span> <span class="s">[</span> <span class="i">@</span>{ <span class="i">$AoA</span>[<span class="i">$_</span>] } [ <span class="n">7</span>..<span class="n">12</span> ] <span class="s">]</span> <span class="s">}</span> <span class="n">4</span> .. <span class="n">8</span><span class="sc">;</span></pre>
<p>Although if your manager accused you of seeking job security (or rapid
insecurity) through inscrutable code, it would be hard to argue. :-)
If I were you, I'd put that in a function:</p>
<pre>
    <span class="i">@newAoA</span> = <span class="i">splice_2D</span><span class="s">(</span> \<span class="i">@AoA</span><span class="cm">,</span> <span class="n">4</span> <span class="cm">=&gt;</span> <span class="n">8</span><span class="cm">,</span> <span class="n">7</span> <span class="cm">=&gt;</span> <span class="n">12</span> <span class="s">)</span><span class="sc">;</span>
<a name="splice_2D"></a>    sub <span class="m">splice_2D</span> <span class="s">{</span>
	<a class="l_k" href="functions/my.html">my</a> <span class="i">$lrr</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span> 	<span class="c"># ref to array of array refs!</span>
	<a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">$x_lo</span><span class="cm">,</span> <span class="i">$x_hi</span><span class="cm">,</span>
	    <span class="i">$y_lo</span><span class="cm">,</span> <span class="i">$y_hi</span><span class="s">)</span> = <span class="i">@_</span><span class="sc">;</span>

	<a class="l_k" href="functions/return.html">return</a> <a class="l_k" href="functions/map.html">map</a> <span class="s">{</span>
	    <span class="s">[</span> <span class="i">@</span>{ <span class="i">$lrr</span>-&gt;[<span class="i">$_</span>] } [ <span class="i">$y_lo</span> .. <span class="i">$y_hi</span> ] <span class="s">]</span>
	<span class="s">}</span> <span class="i">$x_lo</span> .. <span class="i">$x_hi</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<a id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p><a href="perldata.html">perldata</a>, <a href="perlref.html">perlref</a>, <a href="perldsc.html">perldsc</a></p>
<a id="AUTHOR"></a><h2 class='h2' >AUTHOR</h2>
<p>Tom Christiansen &lt;<i>tchrist@perl.com</i>&gt;</p>
<p>Last update: Tue Apr 26 18:30:55 MDT 2011</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Declaration-and-Access-of-Arrays-of-Arrays">Declaration and Access of Arrays of Arrays</a></li><li><a href="#Growing-Your-Own">Growing Your Own</a></li><li><a href="#Access-and-Printing">Access and Printing</a></li><li><a href="#Slices">Slices</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR">AUTHOR</a></li></ul>


                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/20/0/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/20/0/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/20/0/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/20/0/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/20/0/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/20/0/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/20/0/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
