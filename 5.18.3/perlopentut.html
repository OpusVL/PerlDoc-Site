<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="perlopentut - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>perlopentut - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.18.3/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.18.3/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.18.3/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.18.3/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.18.3/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.18.3/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.18.3/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.18.3/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.18.3/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.18.3/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.18.3/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.18.3/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.18.3/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.18.3/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.18.3/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.18.3/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-tutorials.html">Tutorials</a> &gt;
      
    
    perlopentut
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 18.3 documentation</h1>
                  </div>
                  <h1>perlopentut</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Open-agrave-la-shell">Open agrave la shell</a></li><ul><li><a href="#Simple-Opens">Simple Opens</a></li><li><a href="#Indirect-Filehandles">Indirect Filehandles</a></li><li><a href="#Pipe-Opens">Pipe Opens</a></li><li><a href="#The-Minus-File">The Minus File</a></li><li><a href="#Mixing-Reads-and-Writes">Mixing Reads and Writes</a></li><li><a href="#Filters">Filters</a></li></ul><li><a href="#Open-agrave-la-C">Open agrave la C</a></li><ul><li><a href="#Permissions-agrave-la-mode">Permissions agrave la mode</a></li></ul><li><a href="#Obscure-Open-Tricks">Obscure Open Tricks</a></li><ul><li><a href="#Re-Opening-Files-(dups)">Re-Opening Files (dups)</a></li><li><a href="#Dispelling-the-Dweomer">Dispelling the Dweomer</a></li><li><a href="#Paths-as-Opens">Paths as Opens</a></li><li><a href="#Single-Argument-Open">Single Argument Open</a></li><li><a href="#Playing-with-STDIN-and-STDOUT">Playing with STDIN and STDOUT</a></li></ul><li><a href="#Other-I%2fO-Issues">Other I/O Issues</a></li><ul><li><a href="#Opening-Non-File-Files">Opening Non-File Files</a></li><li><a href="#Opening-Named-Pipes">Opening Named Pipes</a></li><li><a href="#Opening-Sockets">Opening Sockets</a></li><li><a href="#Binary-Files">Binary Files</a></li><li><a href="#File-Locking">File Locking</a></li><li><a href="#IO-Layers">IO Layers</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR-and-COPYRIGHT">AUTHOR and COPYRIGHT</a></li><li><a href="#HISTORY">HISTORY</a></li></ul><a id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perlopentut - tutorial on opening things in Perl</p>
<a id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>Perl has two simple, built-in ways to open files: the shell way for
convenience, and the C way for precision.  The shell way also has 2- and
3-argument forms, which have different semantics for handling the filename.
The choice is yours.</p>
<a id="Open-agrave-la-shell"></a><h2 class='h2' >Open &#xe0; la shell</h2>
<p>Perl's <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> function was designed to mimic the way command-line
redirection in the shell works.  Here are some basic examples
from the shell:</p>
<div class="verbatim"><ol><li>    $ myprogram file1 file2 file3</li><li>    $ myprogram    &lt;  inputfile</li><li>    $ myprogram    &gt;  outputfile</li><li>    $ myprogram    &gt;&gt; outputfile</li><li>    $ myprogram    |  otherprogram </li><li>    $ otherprogram |  myprogram</li></ol></div><p>And here are some more advanced examples:</p>
<div class="verbatim"><ol><li>    $ otherprogram      | myprogram f1 - f2</li><li>    $ otherprogram 2&gt;&amp;1 | myprogram -</li><li>    $ myprogram     &lt;&amp;3</li><li>    $ myprogram     &gt;&amp;4</li></ol></div><p>Programmers accustomed to constructs like those above can take comfort
in learning that Perl directly supports these familiar constructs using
virtually the same syntax as the shell.</p>
<a id="Simple-Opens"></a><h3 class='h3' >Simple Opens</h3>
<p>The <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> function takes two arguments: the first is a filehandle,
and the second is a single string comprising both what to open and how
to open it.  <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> returns true when it works, and when it fails,
returns a false value and sets the special variable <pre>
<span class="i">$!</span></code>
 to reflect
the system error.  If the filehandle was previously opened, it will
be implicitly closed first.</p>
<p>For example:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">INFO</span><span class="cm">,</span>      <span class="q">&quot;datafile&quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a><span class="s">(</span><span class="q">&quot;can&#39;t open datafile: $!&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">INFO</span><span class="cm">,</span>   <span class="q">&quot;&lt;  datafile&quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a><span class="s">(</span><span class="q">&quot;can&#39;t open datafile: $!&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">RESULTS</span><span class="cm">,</span><span class="q">&quot;&gt;  runstats&quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a><span class="s">(</span><span class="q">&quot;can&#39;t open runstats: $!&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">LOG</span><span class="cm">,</span>    <span class="q">&quot;&gt;&gt; logfile &quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a><span class="s">(</span><span class="q">&quot;can&#39;t open logfile:  $!&quot;</span><span class="s">)</span><span class="sc">;</span></pre>
<p>If you prefer the low-punctuation version, you could write that this way:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a> <span class="w">INFO</span><span class="cm">,</span>   <span class="q">&quot;&lt;  datafile&quot;</span>  <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open datafile: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a> <span class="w">RESULTS</span><span class="cm">,</span><span class="q">&quot;&gt;  runstats&quot;</span>  <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open runstats: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a> <span class="w">LOG</span><span class="cm">,</span>    <span class="q">&quot;&gt;&gt; logfile &quot;</span>  <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open logfile:  $!&quot;</span><span class="sc">;</span></pre>
<p>A few things to notice.  First, the leading <code class="inline">&lt;</code> is optional.
If omitted, Perl assumes that you want to open the file for reading.</p>
<p>Note also that the first example uses the <code class="inline">||</code> logical operator, and the
second uses <code class="inline"><a class="l_k" href="functions/or.html">or</a></code>, which has lower precedence.  Using <code class="inline">||</code> in the latter
examples would effectively mean</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a> <span class="w">INFO</span><span class="cm">,</span> <span class="s">(</span> <span class="q">&quot;&lt;  datafile&quot;</span>  || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open datafile: $!&quot;</span> <span class="s">)</span><span class="sc">;</span></pre>
<p>which is definitely not what you want.</p>
<p>The other important thing to notice is that, just as in the shell,
any whitespace before or after the filename is ignored.  This is good,
because you wouldn't want these to do different things:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a> <span class="w">INFO</span><span class="cm">,</span>   <span class="q">&quot;&lt;datafile&quot;</span>   
    <a class="l_k" href="functions/open.html">open</a> <span class="w">INFO</span><span class="cm">,</span>   <span class="q">&quot;&lt; datafile&quot;</span> 
    <a class="l_k" href="functions/open.html">open</a> <span class="w">INFO</span><span class="cm">,</span>   <span class="q">&quot;&lt;  datafile&quot;</span></pre>
<p>Ignoring surrounding whitespace also helps for when you read a filename
in from a different file, and forget to trim it before opening:</p>
<pre>
    <span class="i">$filename</span> = <span class="q">&lt;INFO&gt;</span><span class="sc">;</span>         <span class="c"># oops, \n still there</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">EXTRA</span><span class="cm">,</span> <span class="q">&quot;&lt; $filename&quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open $filename: $!&quot;</span><span class="sc">;</span></pre>
<p>This is not a bug, but a feature.  Because <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> mimics the shell in
its style of using redirection arrows to specify how to open the file, it
also does so with respect to extra whitespace around the filename itself
as well.  For accessing files with naughty names, see 
<a href="#Dispelling-the-Dweomer">Dispelling the Dweomer</a>.</p>
<p>There is also a 3-argument version of <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>, which lets you put the
special redirection characters into their own argument:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span> <span class="w">INFO</span><span class="cm">,</span> <span class="q">&quot;&gt;&quot;</span><span class="cm">,</span> <span class="i">$datafile</span> <span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;Can&#39;t create $datafile: $!&quot;</span><span class="sc">;</span></pre>
<p>In this case, the filename to open is the actual string in <pre>
<span class="i">$datafile</span></code>
,
so you don't have to worry about <pre>
<span class="i">$datafile</span></code>
 containing characters
that might influence the open mode, or whitespace at the beginning of
the filename that would be absorbed in the 2-argument version.  Also,
any reduction of unnecessary string interpolation is a good thing.</p>
<a id="Indirect-Filehandles"></a><h3 class='h3' >Indirect Filehandles</h3>
<p><code class="inline"><a class="l_k" href="functions/open.html">open</a></code>'s first argument can be a reference to a filehandle.  As of
perl 5.6.0, if the argument is uninitialized, Perl will automatically
create a filehandle and put a reference to it in the first argument,
like so:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span> <a class="l_k" href="functions/my.html">my</a> <span class="i">$in</span><span class="cm">,</span> <span class="i">$infile</span> <span class="s">)</span>   <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;Couldn&#39;t read $infile: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span> <span class="q">&lt;$in&gt;</span> <span class="s">)</span> <span class="s">{</span>
	<span class="c"># do something with $_</span>
    <span class="s">}</span>
    <a class="l_k" href="functions/close.html">close</a> <span class="i">$in</span><span class="sc">;</span></pre>
<p>Indirect filehandles make namespace management easier.  Since filehandles
are global to the current package, two subroutines trying to open
<pre>
<span class="w">INFILE</span></code>
 will clash.  With two functions opening indirect filehandles
like <pre>
<a class="l_k" href="functions/my.html">my</a> <span class="i">$infile</span></code>
, there's no clash and no need to worry about future
conflicts.</p>
<p>Another convenient behavior is that an indirect filehandle automatically
closes when there are no more references to it:</p>
<pre>
<a name="firstline"></a>    sub <span class="m">firstline</span> <span class="s">{</span>
	<a class="l_k" href="functions/open.html">open</a><span class="s">(</span> <a class="l_k" href="functions/my.html">my</a> <span class="i">$in</span><span class="cm">,</span> <a class="l_k" href="functions/shift.html">shift</a> <span class="s">)</span> &amp;&amp; <a class="l_k" href="functions/return.html">return</a> <a class="l_k" href="functions/scalar.html">scalar</a> <span class="q">&lt;$in&gt;</span><span class="sc">;</span>
	<span class="c"># no close() required</span>
    <span class="s">}</span></pre>
<p>Indirect filehandles also make it easy to pass filehandles to and return
filehandles from subroutines:</p>
<pre>
    <a class="l_k" href="functions/for.html">for</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$file</span> <span class="s">(</span> <span class="q">qw(this.conf that.conf)</span> <span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="functions/my.html">my</a> <span class="i">$fin</span> = <span class="i">open_or_throw</span><span class="s">(</span><span class="q">&#39;&lt;&#39;</span><span class="cm">,</span> <span class="i">$file</span><span class="s">)</span><span class="sc">;</span>
        <span class="i">process_conf</span><span class="s">(</span> <span class="i">$fin</span> <span class="s">)</span><span class="sc">;</span>
        <span class="c"># no close() needed</span>
    <span class="s">}</span>

    <a class="l_k" href="functions/use.html">use</a> <span class="w">Carp</span><span class="sc">;</span>
<a name="open_or_throw"></a>    sub <span class="m">open_or_throw</span> <span class="s">{</span>
        <a class="l_k" href="functions/my.html">my</a> <span class="s">(</span><span class="i">$mode</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span> = <span class="i">@_</span><span class="sc">;</span>
        <a class="l_k" href="functions/open.html">open</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$h</span><span class="cm">,</span> <span class="i">$mode</span><span class="cm">,</span> <span class="i">$filename</span>
            <a class="l_k" href="functions/or.html">or</a> <span class="w">croak</span> <span class="q">&quot;Could not open &#39;$filename&#39;: $!&quot;</span><span class="sc">;</span>
        <a class="l_k" href="functions/return.html">return</a> <span class="i">$h</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<a id="Pipe-Opens"></a><h3 class='h3' >Pipe Opens</h3>
<p>In C, when you want to open a file using the standard I/O library,
you use the <pre>
<span class="w">fopen</span></code>
 function, but when opening a pipe, you use the
<pre>
<span class="w">popen</span></code>
 function.  But in the shell, you just use a different redirection
character.  That's also the case for Perl.  The <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> call 
remains the same--just its argument differs.</p>
<p>If the leading character is a pipe symbol, <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> starts up a new
command and opens a write-only filehandle leading into that command.
This lets you write into that handle and have what you write show up on
that command's standard input.  For example:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">PRINTER</span><span class="cm">,</span> <span class="q">&quot;| lpr -Plp1&quot;</span><span class="s">)</span>    || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t run lpr: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/print.html">print</a> <span class="i">PRINTER</span> <span class="q">&quot;stuff\n&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="w">PRINTER</span><span class="s">)</span>                  || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t close lpr: $!&quot;</span><span class="sc">;</span></pre>
<p>If the trailing character is a pipe, you start up a new command and open a
read-only filehandle leading out of that command.  This lets whatever that
command writes to its standard output show up on your handle for reading.
For example:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">NET</span><span class="cm">,</span> <span class="q">&quot;netstat -i -n |&quot;</span><span class="s">)</span>    || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t fork netstat: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;NET&gt;</span><span class="s">)</span> <span class="s">{</span> <span class="s">}</span>               <span class="c"># do something with input</span>
    <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="w">NET</span><span class="s">)</span>                      || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t close netstat: $!&quot;</span><span class="sc">;</span></pre>
<p>What happens if you try to open a pipe to or from a non-existent
command?  If possible, Perl will detect the failure and set <pre>
<span class="i">$!</span></code>
 as
usual.  But if the command contains special shell characters, such as
<code class="inline">&gt;</code> or <pre>
<span class="i">*</span></code>
, called 'metacharacters', Perl does not execute the
command directly.  Instead, Perl runs the shell, which then tries to
run the command.  This means that it's the shell that gets the error
indication.  In such a case, the <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> call will only indicate
failure if Perl can't even run the shell.  See <a href="perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3f">How can I capture STDERR from an external command? in perlfaq8</a> to see how to cope with
this.  There's also an explanation in <a href="perlipc.html">perlipc</a>.</p>
<p>If you would like to open a bidirectional pipe, the IPC::Open2
library will handle this for you.  Check out 
<a href="perlipc.html#Bidirectional-Communication-with-Another-Process">Bidirectional Communication with Another Process in perlipc</a></p>
<p>perl-5.6.x introduced a version of piped open that executes a process
based on its command line arguments without relying on the shell. (Similar
to the <code class="inline"><a class="l_k" href="functions/system.html">system(@LIST)</a></code> notation.) This is safer and faster than executing
a single argument pipe-command, but does not allow special shell
constructs. (It is also not supported on Microsoft Windows, Mac OS Classic
or RISC OS.)</p>
<p>Here's an example of <pre>
<a class="l_k" href="functions/open.html">open</a> <span class="q">&#39;-|&#39;</span></code>
, which prints a random Unix
fortune cookie as uppercase:</p>
<pre>
    <a class="l_k" href="functions/my.html">my</a> <span class="i">$collection</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="s">(</span><span class="i">@ARGV</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$fortune</span><span class="cm">,</span> <span class="q">&#39;-|&#39;</span><span class="cm">,</span> <span class="q">&#39;fortune&#39;</span><span class="cm">,</span> <span class="i">$collection</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;Could not find fortune - $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;$fortune&gt;</span><span class="s">)</span>
    <span class="s">{</span>
        <a class="l_k" href="functions/print.html">print</a> <a class="l_k" href="functions/uc.html">uc</a><span class="s">(</span><span class="i">$_</span><span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span>
    <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="i">$fortune</span><span class="s">)</span><span class="sc">;</span></pre>
<p>And this <pre>
<a class="l_k" href="functions/open.html">open</a> <span class="q">&#39;|-&#39;</span></code>
 pipes into lpr:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$printer</span><span class="cm">,</span> <span class="q">&#39;|-&#39;</span><span class="cm">,</span> <span class="q">&#39;lpr&#39;</span><span class="cm">,</span> <span class="q">&#39;-Plp1&#39;</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t run lpr: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/print.html">print</a> <span class="s">{</span><span class="i">$printer</span><span class="s">}</span> <span class="q">&quot;stuff\n&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="i">$printer</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t close lpr: $!&quot;</span><span class="sc">;</span></pre>
<a id="The-Minus-File"></a><h3 class='h3' >The Minus File</h3>
<p>Again following the lead of the standard shell utilities, Perl's
<code class="inline"><a class="l_k" href="functions/open.html">open</a></code> function treats a file whose name is a single minus, "-", in a
special way.  If you open minus for reading, it really means to access
the standard input.  If you open minus for writing, it really means to
access the standard output.</p>
<p>If minus can be used as the default input or default output, what happens
if you open a pipe into or out of minus?  What's the default command it
would run?  The same script as you're currently running!  This is actually
a stealth <code class="inline"><a class="l_k" href="functions/fork.html">fork</a></code> hidden inside an <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> call.  See 
<a href="perlipc.html#Safe-Pipe-Opens">Safe Pipe Opens in perlipc</a> for details.</p>
<a id="Mixing-Reads-and-Writes"></a><h3 class='h3' >Mixing Reads and Writes</h3>
<p>It is possible to specify both read and write access.  All you do is
add a "+" symbol in front of the redirection.  But as in the shell,
using a less-than on a file never creates a new file; it only opens an
existing one.  On the other hand, using a greater-than always clobbers
(truncates to zero length) an existing file, or creates a brand-new one
if there isn't an old one.  Adding a "+" for read-write doesn't affect
whether it only works on existing files or always clobbers existing ones.</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">WTMP</span><span class="cm">,</span> <span class="q">&quot;+&lt; /usr/adm/wtmp&quot;</span><span class="s">)</span> 
        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open /usr/adm/wtmp: $!&quot;</span><span class="sc">;</span>

    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">SCREEN</span><span class="cm">,</span> <span class="q">&quot;+&gt; lkscreen&quot;</span><span class="s">)</span>
        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open lkscreen: $!&quot;</span><span class="sc">;</span>

    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">LOGFILE</span><span class="cm">,</span> <span class="q">&quot;+&gt;&gt; /var/log/applog&quot;</span><span class="s">)</span>
        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open /var/log/applog: $!&quot;</span><span class="sc">;</span></pre>
<p>The first one won't create a new file, and the second one will always
clobber an old one.  The third one will create a new file if necessary
and not clobber an old one, and it will allow you to read at any point
in the file, but all writes will always go to the end.  In short,
the first case is substantially more common than the second and third
cases, which are almost always wrong.  (If you know C, the plus in
Perl's <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> is historically derived from the one in C's fopen(3S),
which it ultimately calls.)</p>
<p>In fact, when it comes to updating a file, unless you're working on
a binary file as in the WTMP case above, you probably don't want to
use this approach for updating.  Instead, Perl's <strong>-i</strong> flag comes to
the rescue.  The following command takes all the C, C++, or yacc source
or header files and changes all their foo's to bar's, leaving
the old version in the original filename with a ".orig" tacked
on the end:</p>
<div class="verbatim"><ol><li>    $ perl -i.orig -pe 's/\bfoo\b/bar/g' *.[Cchy]</li></ol></div><p>This is a short cut for some renaming games that are really
the best way to update textfiles.  See the second question in 
<a href="perlfaq5.html">perlfaq5</a> for more details.</p>
<a id="Filters"></a><h3 class='h3' >Filters</h3>
<p>One of the most common uses for <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> is one you never
even notice.  When you process the ARGV filehandle using
<pre>
<span class="q">&lt;ARGV&gt;</span></code>
, Perl actually does an implicit open 
on each file in @ARGV.  Thus a program called like this:</p>
<div class="verbatim"><ol><li>    $ myprogram file1 file2 file3</li></ol></div><p>can have all its files opened and processed one at a time
using a construct no more complex than:</p>
<pre>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
        <span class="c"># do something with $_</span>
    <span class="s">}</span></pre>
<p>If @ARGV is empty when the loop first begins, Perl pretends you've opened
up minus, that is, the standard input.  In fact, $ARGV, the currently
open file during <pre>
<span class="q">&lt;ARGV&gt;</span></code>
 processing, is even set to "-"
in these circumstances.</p>
<p>You are welcome to pre-process your @ARGV before starting the loop to
make sure it's to your liking.  One reason to do this might be to remove
command options beginning with a minus.  While you can always roll the
simple ones by hand, the Getopts modules are good for this:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">Getopt::Std</span><span class="sc">;</span>

    <span class="c"># -v, -D, -o ARG, sets $opt_v, $opt_D, $opt_o</span>
    <span class="i">getopts</span><span class="s">(</span><span class="q">&quot;vDo:&quot;</span><span class="s">)</span><span class="sc">;</span>            

    <span class="c"># -v, -D, -o ARG, sets $args{v}, $args{D}, $args{o}</span>
    <span class="i">getopts</span><span class="s">(</span><span class="q">&quot;vDo:&quot;</span><span class="cm">,</span> \<span class="i">%args</span><span class="s">)</span><span class="sc">;</span></pre>
<p>Or the standard Getopt::Long module to permit named arguments:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">Getopt::Long</span><span class="sc">;</span>
    <span class="i">GetOptions</span><span class="s">(</span> <span class="q">&quot;verbose&quot;</span>  <span class="cm">=&gt;</span> \<span class="i">$verbose</span><span class="cm">,</span>        <span class="c"># --verbose</span>
                <span class="q">&quot;Debug&quot;</span>    <span class="cm">=&gt;</span> \<span class="i">$debug</span><span class="cm">,</span>          <span class="c"># --Debug</span>
                <span class="q">&quot;output=s&quot;</span> <span class="cm">=&gt;</span> \<span class="i">$output</span> <span class="s">)</span><span class="sc">;</span>       
	    <span class="c"># --output=somestring or --output somestring</span></pre>
<p>Another reason for preprocessing arguments is to make an empty
argument list default to all files:</p>
<pre>
    <span class="i">@ARGV</span> = <a class="l_k" href="functions/glob.html">glob</a><span class="s">(</span><span class="q">&quot;*&quot;</span><span class="s">)</span> <a class="l_k" href="functions/unless.html">unless</a> <span class="i">@ARGV</span><span class="sc">;</span></pre>
<p>You could even filter out all but plain, text files.  This is a bit
silent, of course, and you might prefer to mention them on the way.</p>
<pre>
    <span class="i">@ARGV</span> = <a class="l_k" href="functions/grep.html">grep</a> <span class="s">{</span> -f &amp;&amp; -T <span class="s">}</span> <span class="i">@ARGV</span><span class="sc">;</span></pre>
<p>If you're using the <strong>-n</strong> or <strong>-p</strong> command-line options, you
should put changes to @ARGV in a <code class="inline"><a class="l_k" href="functions/BEGIN.html">BEGIN{}</a></code> block.</p>
<p>Remember that a normal <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> has special properties, in that it might
call fopen(3S) or it might called popen(3S), depending on what its
argument looks like; that's why it's sometimes called "magic open".
Here's an example:</p>
<pre>
    <span class="i">$pwdinfo</span> = <span class="q">`domainname`</span> =~ <span class="q">/^(\(none\))?$/</span>
                    ? <span class="q">&#39;&lt; /etc/passwd&#39;</span>
                    <span class="co">:</span> <span class="q">&#39;ypcat passwd |&#39;</span><span class="sc">;</span>

    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">PWD</span><span class="cm">,</span> <span class="i">$pwdinfo</span><span class="s">)</span>                 
                <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open $pwdinfo: $!&quot;</span><span class="sc">;</span></pre>
<p>This sort of thing also comes into play in filter processing.  Because
<pre>
<span class="q">&lt;ARGV&gt;</span></code>
 processing employs the normal, shell-style Perl <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>,
it respects all the special things we've already seen:</p>
<div class="verbatim"><ol><li>    $ myprogram f1 "cmd1|" - f2 "cmd2|" f3 &lt; tmpfile</li></ol></div><p>That program will read from the file <i>f1</i>, the process <i>cmd1</i>, standard
input (<i>tmpfile</i> in this case), the <i>f2</i> file, the <i>cmd2</i> command,
and finally the <i>f3</i> file.</p>
<p>Yes, this also means that if you have files named "-" (and so on) in
your directory, they won't be processed as literal files by <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>.
You'll need to pass them as "./-", much as you would for the <i>rm</i> program,
or you could use <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> as described below.</p>
<p>One of the more interesting applications is to change files of a certain
name into pipes.  For example, to autoprocess gzipped or compressed
files by decompressing them with <i>gzip</i>:</p>
<pre>
    <span class="i">@ARGV</span> = <a class="l_k" href="functions/map.html">map</a> <span class="s">{</span> <span class="q">/\.(gz|Z)$/</span> ? <span class="q">&quot;gzip -dc $_ |&quot;</span> <span class="co">:</span> <span class="i">$_</span>  <span class="s">}</span> <span class="i">@ARGV</span><span class="sc">;</span></pre>
<p>Or, if you have the <i>GET</i> program installed from LWP,
you can fetch URLs before processing them:</p>
<pre>
    <span class="i">@ARGV</span> = <a class="l_k" href="functions/map.html">map</a> <span class="s">{</span> <span class="q">m#^\w+://#</span> ? <span class="q">&quot;GET $_ |&quot;</span> <span class="co">:</span> <span class="i">$_</span> <span class="s">}</span> <span class="i">@ARGV</span><span class="sc">;</span></pre>
<p>It's not for nothing that this is called magic <pre>
<span class="q">&lt;ARGV&gt;</span></code>
.
Pretty nifty, eh?</p>
<a id="Open-agrave-la-C"></a><h2 class='h2' >Open &#xe0; la C</h2>
<p>If you want the convenience of the shell, then Perl's <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> is
definitely the way to go.  On the other hand, if you want finer precision
than C's simplistic fopen(3S) provides you should look to Perl's
<code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code>, which is a direct hook into the open(2) system call.
That does mean it's a bit more involved, but that's the price of 
precision.</p>
<p><code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> takes 3 (or 4) arguments.</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a> <span class="w">HANDLE</span><span class="cm">,</span> <span class="w">PATH</span><span class="cm">,</span> <span class="w">FLAGS</span><span class="cm">,</span> <span class="s">[</span><span class="w">MASK</span><span class="s">]</span></pre>
<p>The HANDLE argument is a filehandle just as with <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>.  The PATH is
a literal path, one that doesn't pay attention to any greater-thans or
less-thans or pipes or minuses, nor ignore whitespace.  If it's there,
it's part of the path.  The FLAGS argument contains one or more values
derived from the Fcntl module that have been or'd together using the
bitwise "|" operator.  The final argument, the MASK, is optional; if
present, it is combined with the user's current umask for the creation
mode of the file.  You should usually omit this.</p>
<p>Although the traditional values of read-only, write-only, and read-write
are 0, 1, and 2 respectively, this is known not to hold true on some
systems.  Instead, it's best to load in the appropriate constants first
from the Fcntl module, which supplies the following standard flags:</p>
<pre>
    <span class="w">O_RDONLY</span>            <span class="w">Read</span> <span class="w">only</span>
    <span class="w">O_WRONLY</span>            <span class="w">Write</span> <span class="w">only</span>
    <span class="w">O_RDWR</span>              <span class="w">Read</span> <a class="l_k" href="functions/and.html">and</a> <a class="l_k" href="functions/write.html">write</a>
    <span class="w">O_CREAT</span>             <span class="w">Create</span> <span class="w">the</span> <span class="w">file</span> <a class="l_k" href="functions/if.html">if</a> <span class="w">it</span> <span class="w">doesn&#39;t</span> <span class="w">exist</span>
    <span class="w">O_EXCL</span>              <span class="w">Fail</span> <a class="l_k" href="functions/if.html">if</a> <span class="w">the</span> <span class="w">file</span> <span class="w">already</span> <a class="l_k" href="functions/exists.html">exists</a>
    <span class="w">O_APPEND</span>            <span class="w">Append</span> <span class="w">to</span> <span class="w">the</span> <span class="w">file</span>
    <span class="w">O_TRUNC</span>             <span class="w">Truncate</span> <span class="w">the</span> <span class="w">file</span>
    <span class="w">O_NONBLOCK</span>          <span class="w">Non</span>-<span class="w">blocking</span> <span class="w">access</span></pre>
<p>Less common flags that are sometimes available on some operating
systems include <pre>
<span class="w">O_BINARY</span></code>
, <pre>
<span class="w">O_TEXT</span></code>
, <pre>
<span class="w">O_SHLOCK</span></code>
, <pre>
<span class="w">O_EXLOCK</span></code>
,
<pre>
<span class="w">O_DEFER</span></code>
, <pre>
<span class="w">O_SYNC</span></code>
, <pre>
<span class="w">O_ASYNC</span></code>
, <pre>
<span class="w">O_DSYNC</span></code>
, <pre>
<span class="w">O_RSYNC</span></code>
,
<pre>
<span class="w">O_NOCTTY</span></code>
, <pre>
<span class="w">O_NDELAY</span></code>
 and <pre>
<span class="w">O_LARGEFILE</span></code>
.  Consult your open(2)
manpage or its local equivalent for details.  (Note: starting from
Perl release 5.6 the <pre>
<span class="w">O_LARGEFILE</span></code>
 flag, if available, is automatically
added to the sysopen() flags because large files are the default.)</p>
<p>Here's how to use <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> to emulate the simple <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> calls we had
before.  We'll omit the <code class="inline">|| die $!</code> checks for clarity, but make sure
you always check the return values in real code.  These aren't quite
the same, since <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> will trim leading and trailing whitespace,
but you'll get the idea.</p>
<p>To open a file for reading:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;&lt; $path&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_RDONLY</span><span class="s">)</span><span class="sc">;</span></pre>
<p>To open a file for writing, creating a new file if needed or else truncating
an old file:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;&gt; $path&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_WRONLY</span> | <span class="w">O_TRUNC</span> | <span class="w">O_CREAT</span><span class="s">)</span><span class="sc">;</span></pre>
<p>To open a file for appending, creating one if necessary:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;&gt;&gt; $path&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_WRONLY</span> | <span class="w">O_APPEND</span> | <span class="w">O_CREAT</span><span class="s">)</span><span class="sc">;</span></pre>
<p>To open a file for update, where the file must already exist:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;+&lt; $path&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_RDWR</span><span class="s">)</span><span class="sc">;</span></pre>
<p>And here are things you can do with <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> that you cannot do with
a regular <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>.  As you'll see, it's just a matter of controlling the
flags in the third argument.</p>
<p>To open a file for writing, creating a new file which must not previously
exist:</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_WRONLY</span> | <span class="w">O_EXCL</span> | <span class="w">O_CREAT</span><span class="s">)</span><span class="sc">;</span></pre>
<p>To open a file for appending, where that file must already exist:</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_WRONLY</span> | <span class="w">O_APPEND</span><span class="s">)</span><span class="sc">;</span></pre>
<p>To open a file for update, creating a new file if necessary:</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_RDWR</span> | <span class="w">O_CREAT</span><span class="s">)</span><span class="sc">;</span></pre>
<p>To open a file for update, where that file must not already exist:</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_RDWR</span> | <span class="w">O_EXCL</span> | <span class="w">O_CREAT</span><span class="s">)</span><span class="sc">;</span></pre>
<p>To open a file without blocking, creating one if necessary:</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="i">$path</span><span class="cm">,</span> <span class="w">O_WRONLY</span> | <span class="w">O_NONBLOCK</span> | <span class="w">O_CREAT</span><span class="s">)</span><span class="sc">;</span></pre>
<a id="Permissions-agrave-la-mode"></a><h3 class='h3' >Permissions &#xe0; la mode</h3>
<p>If you omit the MASK argument to <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code>, Perl uses the octal value
0666.  The normal MASK to use for executables and directories should
be 0777, and for anything else, 0666.</p>
<p>Why so permissive?  Well, it isn't really.  The MASK will be modified
by your process's current <code class="inline"><a class="l_k" href="functions/umask.html">umask</a></code>.  A umask is a number representing
<i>disabled</i> permissions bits; that is, bits that will not be turned on
in the created file's permissions field.</p>
<p>For example, if your <code class="inline"><a class="l_k" href="functions/umask.html">umask</a></code> were 027, then the 020 part would
disable the group from writing, and the 007 part would disable others
from reading, writing, or executing.  Under these conditions, passing
<code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> 0666 would create a file with mode 0640, since <pre>
<span class="n">0666</span> &amp; ~<span class="n">027</span></code>

is 0640.</p>
<p>You should seldom use the MASK argument to <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen()</a></code>.  That takes
away the user's freedom to choose what permission new files will have.
Denying choice is almost always a bad thing.  One exception would be for
cases where sensitive or private data is being stored, such as with mail
folders, cookie files, and internal temporary files.</p>
<a id="Obscure-Open-Tricks"></a><h2 class='h2' >Obscure Open Tricks</h2>
<a id="Re-Opening-Files-(dups)"></a><h3 class='h3' >Re-Opening Files (dups)</h3>
<p>Sometimes you already have a filehandle open, and want to make another
handle that's a duplicate of the first one.  In the shell, we place an
ampersand in front of a file descriptor number when doing redirections.
For example, <pre>
<span class="n">2</span>&gt;<span class="i">&amp;1</span></code>
 makes descriptor 2 (that's STDERR in Perl)
be redirected into descriptor 1 (which is usually Perl's STDOUT).
The same is essentially true in Perl: a filename that begins with an
ampersand is treated instead as a file descriptor if a number, or as a
filehandle if a string.</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">SAVEOUT</span><span class="cm">,</span> <span class="q">&quot;&gt;&amp;SAVEERR&quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;couldn&#39;t dup SAVEERR: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">MHCONTEXT</span><span class="cm">,</span> <span class="q">&quot;&lt;&amp;4&quot;</span><span class="s">)</span>     || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;couldn&#39;t dup fd4: $!&quot;</span><span class="sc">;</span></pre>
<p>That means that if a function is expecting a filename, but you don't
want to give it a filename because you already have the file open, you
can just pass the filehandle with a leading ampersand.  It's best to
use a fully qualified handle though, just in case the function happens
to be in a different package:</p>
<pre>
    <span class="i">somefunction</span><span class="s">(</span><span class="q">&quot;&amp;main::LOGFILE&quot;</span><span class="s">)</span><span class="sc">;</span></pre>
<p>This way if somefunction() is planning on opening its argument, it can
just use the already opened handle.  This differs from passing a handle,
because with a handle, you don't open the file.  Here you have something
you can pass to open.</p>
<p>If you have one of those tricky, newfangled I/O objects that the C++
folks are raving about, then this doesn't work because those aren't a
proper filehandle in the native Perl sense.  You'll have to use fileno()
to pull out the proper descriptor number, assuming you can:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">IO::Socket</span><span class="sc">;</span>
    <span class="i">$handle</span> = <span class="w">IO::Socket::INET</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&quot;www.perl.com:80&quot;</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$fd</span> = <span class="i">$handle</span><span class="i">-&gt;fileno</span><span class="sc">;</span>
    <span class="i">somefunction</span><span class="s">(</span><span class="q">&quot;&amp;$fd&quot;</span><span class="s">)</span><span class="sc">;</span>  <span class="c"># not an indirect function call</span></pre>
<p>It can be easier (and certainly will be faster) just to use real
filehandles though:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">IO::Socket</span><span class="sc">;</span>
    <a class="l_k" href="functions/local.html">local</a> <span class="i">*REMOTE</span> = <span class="w">IO::Socket::INET</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&quot;www.perl.com:80&quot;</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t connect&quot;</span> <a class="l_k" href="functions/unless.html">unless</a> <a class="l_k" href="functions/defined.html">defined</a><span class="s">(</span><a class="l_k" href="functions/fileno.html">fileno</a><span class="s">(</span><span class="w">REMOTE</span><span class="s">)</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">somefunction</span><span class="s">(</span><span class="q">&quot;&amp;main::REMOTE&quot;</span><span class="s">)</span><span class="sc">;</span></pre>
<p>If the filehandle or descriptor number is preceded not just with a simple
"&amp;" but rather with a "&amp;=" combination, then Perl will not create a
completely new descriptor opened to the same place using the dup(2)
system call.  Instead, it will just make something of an alias to the
existing one using the fdopen(3S) library call.  This is slightly more
parsimonious of systems resources, although this is less a concern
these days.  Here's an example of that:</p>
<pre>
    <span class="i">$fd</span> = <span class="i">$ENV</span>{<span class="q">&quot;MHCONTEXTFD&quot;</span>}<span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">MHCONTEXT</span><span class="cm">,</span> <span class="q">&quot;&lt;&amp;=$fd&quot;</span><span class="s">)</span>   <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;couldn&#39;t fdopen $fd: $!&quot;</span><span class="sc">;</span></pre>
<p>If you're using magic <pre>
<span class="q">&lt;ARGV&gt;</span></code>
, you could even pass in as a
command line argument in @ARGV something like <pre>
<span class="q">&quot;&lt;&amp;=$MHCONTEXTFD&quot;</span></code>
,
but we've never seen anyone actually do this.</p>
<a id="Dispelling-the-Dweomer"></a><h3 class='h3' >Dispelling the Dweomer</h3>
<p>Perl is more of a DWIMmer language than something like Java--where DWIM
is an acronym for "do what I mean".  But this principle sometimes leads
to more hidden magic than one knows what to do with.  In this way, Perl
is also filled with <i>dweomer</i>, an obscure word meaning an enchantment.
Sometimes, Perl's DWIMmer is just too much like dweomer for comfort.</p>
<p>If magic <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> is a bit too magical for you, you don't have to turn
to <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code>.  To open a file with arbitrary weird characters in
it, it's necessary to protect any leading and trailing whitespace.
Leading whitespace is protected by inserting a <pre>
<span class="q">&quot;./&quot;</span></code>
 in front of a
filename that starts with whitespace.  Trailing whitespace is protected
by appending an ASCII NUL byte (<pre>
<span class="q">&quot;\0&quot;</span></code>
) at the end of the string.</p>
<pre>
    <span class="i">$file</span> =~ <span class="q">s#^(\s)#./$1#</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;&lt; $file\0&quot;</span><span class="s">)</span>   || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open $file: $!&quot;</span><span class="sc">;</span></pre>
<p>This assumes, of course, that your system considers dot the current
working directory, slash the directory separator, and disallows ASCII
NULs within a valid filename.  Most systems follow these conventions,
including all POSIX systems as well as proprietary Microsoft systems.
The only vaguely popular system that doesn't work this way is the
"Classic" Macintosh system, which uses a colon where the rest of us
use a slash.  Maybe <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> isn't such a bad idea after all.</p>
<p>If you want to use <pre>
<span class="q">&lt;ARGV&gt;</span></code>
 processing in a totally boring
and non-magical way, you could do this first:</p>
<pre>
    <span class="c">#   &quot;Sam sat on the ground and put his head in his hands.  </span>
    <span class="c">#   &#39;I wish I had never come here, and I don&#39;t want to see </span>
    <span class="c">#   no more magic,&#39; he said, and fell silent.&quot;</span>
    <a class="l_k" href="functions/for.html">for</a> <span class="s">(</span><span class="i">@ARGV</span><span class="s">)</span> <span class="s">{</span> 
        <span class="q">s#^([^./])#./$1#</span><span class="sc">;</span>
        <span class="i">$_</span> .= <span class="q">&quot;\0&quot;</span><span class="sc">;</span>
    <span class="s">}</span> 
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>  
        <span class="c"># now process $_</span>
    <span class="s">}</span></pre>
<p>But be warned that users will not appreciate being unable to use "-"
to mean standard input, per the standard convention.</p>
<a id="Paths-as-Opens"></a><h3 class='h3' >Paths as Opens</h3>
<p>You've probably noticed how Perl's <code class="inline"><a class="l_k" href="functions/warn.html">warn</a></code> and <code class="inline"><a class="l_k" href="functions/die.html">die</a></code> functions can
produce messages like:</p>
<div class="verbatim"><ol><li>    Some warning at scriptname line 29, &lt;FH&gt; line 7.</li></ol></div><p>That's because you opened a filehandle FH, and had read in seven records
from it.  But what was the name of the file, rather than the handle?</p>
<p>If you aren't running with <pre>
<span class="w">strict</span> <span class="w">refs</span></code>
, or if you've turned them off
temporarily, then all you have to do is this:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$path</span><span class="cm">,</span> <span class="q">&quot;&lt; $path&quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open $path: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;$path&gt;</span><span class="s">)</span> <span class="s">{</span>
        <span class="c"># whatever</span>
    <span class="s">}</span></pre>
<p>Since you're using the pathname of the file as its handle,
you'll get warnings more like</p>
<div class="verbatim"><ol><li>    Some warning at scriptname line 29, &lt;/etc/motd&gt; line 7.</li></ol></div><a id="Single-Argument-Open"></a><h3 class='h3' >Single Argument Open</h3>
<p>Remember how we said that Perl's open took two arguments?  That was a
passive prevarication.  You see, it can also take just one argument.
If and only if the variable is a global variable, not a lexical, you
can pass <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> just one argument, the filehandle, and it will 
get the path from the global scalar variable of the same name.</p>
<pre>
    <span class="i">$FILE</span> = <span class="q">&quot;/etc/motd&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a> <span class="w">FILE</span> <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open $FILE: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;FILE&gt;</span><span class="s">)</span> <span class="s">{</span>
        <span class="c"># whatever</span>
    <span class="s">}</span></pre>
<p>Why is this here?  Someone has to cater to the hysterical porpoises.
It's something that's been in Perl since the very beginning, if not
before.</p>
<a id="Playing-with-STDIN-and-STDOUT"></a><h3 class='h3' >Playing with STDIN and STDOUT</h3>
<p>One clever move with STDOUT is to explicitly close it when you're done
with the program.</p>
<pre>
    <a class="l_k" href="functions/END.html">END</a> <span class="s">{</span> <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="w">STDOUT</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t close stdout: $!&quot;</span> <span class="s">}</span></pre>
<p>If you don't do this, and your program fills up the disk partition due
to a command line redirection, it won't report the error exit with a
failure status.</p>
<p>You don't have to accept the STDIN and STDOUT you were given.  You are
welcome to reopen them if you'd like.</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">STDIN</span><span class="cm">,</span> <span class="q">&quot;&lt; datafile&quot;</span><span class="s">)</span>
	|| <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open datafile: $!&quot;</span><span class="sc">;</span>

    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">STDOUT</span><span class="cm">,</span> <span class="q">&quot;&gt; output&quot;</span><span class="s">)</span>
	|| <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open output: $!&quot;</span><span class="sc">;</span></pre>
<p>And then these can be accessed directly or passed on to subprocesses.
This makes it look as though the program were initially invoked
with those redirections from the command line.</p>
<p>It's probably more interesting to connect these to pipes.  For example:</p>
<pre>
    <span class="i">$pager</span> = <span class="i">$ENV</span>{<span class="w">PAGER</span>} || <span class="q">&quot;(less || more)&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">STDOUT</span><span class="cm">,</span> <span class="q">&quot;| $pager&quot;</span><span class="s">)</span>
	|| <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t fork a pager: $!&quot;</span><span class="sc">;</span></pre>
<p>This makes it appear as though your program were called with its stdout
already piped into your pager.  You can also use this kind of thing
in conjunction with an implicit fork to yourself.  You might do this
if you would rather handle the post processing in your own program,
just in a different process:</p>
<pre>
    <span class="i">head</span><span class="s">(</span><span class="n">100</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="functions/print.html">print</a><span class="sc">;</span>
    <span class="s">}</span> 

<a name="head"></a>    sub <span class="m">head</span> <span class="s">{</span>
        <a class="l_k" href="functions/my.html">my</a> <span class="i">$lines</span> = <a class="l_k" href="functions/shift.html">shift</a> || <span class="n">20</span><span class="sc">;</span>
        <a class="l_k" href="functions/return.html">return</a> <a class="l_k" href="functions/if.html">if</a> <span class="i">$pid</span> = <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">STDOUT</span><span class="cm">,</span> <span class="q">&quot;|-&quot;</span><span class="s">)</span><span class="sc">;</span>       <span class="c"># return if parent</span>
        <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;cannot fork: $!&quot;</span> <a class="l_k" href="functions/unless.html">unless</a> <a class="l_k" href="functions/defined.html">defined</a> <span class="i">$pid</span><span class="sc">;</span>
        <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;STDIN&gt;</span><span class="s">)</span> <span class="s">{</span>
            <a class="l_k" href="functions/last.html">last</a> <a class="l_k" href="functions/if.html">if</a> --<span class="i">$lines</span> &lt; <span class="n">0</span><span class="sc">;</span>
            <a class="l_k" href="functions/print.html">print</a><span class="sc">;</span>
        <span class="s">}</span> 
        <a class="l_k" href="functions/exit.html">exit</a><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>This technique can be applied to repeatedly push as many filters on your
output stream as you wish.</p>
<a id="Other-I%2fO-Issues"></a><h2 class='h2' >Other I/O Issues</h2>
<p>These topics aren't really arguments related to <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> or <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code>,
but they do affect what you do with your open files.</p>
<a id="Opening-Non-File-Files"></a><h3 class='h3' >Opening Non-File Files</h3>
<p>When is a file not a file?  Well, you could say when it exists but
isn't a plain file.   We'll check whether it's a symbolic link first,
just in case.</p>
<pre>
    <a class="l_k" href="functions/if.html">if</a> <span class="s">(</span>-l <span class="i">$file</span> || ! -f <span class="i">_</span><span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;$file is not a plain file\n&quot;</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>What other kinds of files are there than, well, files?  Directories,
symbolic links, named pipes, Unix-domain sockets, and block and character
devices.  Those are all files, too--just not <i>plain</i> files.  This isn't
the same issue as being a text file. Not all text files are plain files.
Not all plain files are text files.  That's why there are separate <pre>
-f</code>

and <pre>
-T</code>
 file tests.</p>
<p>To open a directory, you should use the <code class="inline"><a class="l_k" href="functions/opendir.html">opendir</a></code> function, then
process it with <code class="inline"><a class="l_k" href="functions/readdir.html">readdir</a></code>, carefully restoring the directory 
name if necessary:</p>
<pre>
    <a class="l_k" href="functions/opendir.html">opendir</a><span class="s">(</span><span class="w">DIR</span><span class="cm">,</span> <span class="i">$dirname</span><span class="s">)</span> <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t opendir $dirname: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="functions/defined.html">defined</a><span class="s">(</span><span class="i">$file</span> = <a class="l_k" href="functions/readdir.html">readdir</a><span class="s">(</span><span class="w">DIR</span><span class="s">)</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span>
        <span class="c"># do something with &quot;$dirname/$file&quot;</span>
    <span class="s">}</span>
    <a class="l_k" href="functions/closedir.html">closedir</a><span class="s">(</span><span class="w">DIR</span><span class="s">)</span><span class="sc">;</span></pre>
<p>If you want to process directories recursively, it's better to use the
File::Find module.  For example, this prints out all files recursively
and adds a slash to their names if the file is a directory.</p>
<pre>
    <span class="i">@ARGV</span> = <span class="q">qw(.)</span> <a class="l_k" href="functions/unless.html">unless</a> <span class="i">@ARGV</span><span class="sc">;</span>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">File::Find</span><span class="sc">;</span>
    <span class="w">find</span> <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="i">$File::Find::name</span><span class="cm">,</span> -d &amp;&amp; <span class="q">&#39;/&#39;</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span> <span class="s">}</span><span class="cm">,</span> <span class="i">@ARGV</span><span class="sc">;</span></pre>
<p>This finds all bogus symbolic links beneath a particular directory:</p>
<pre>
    <span class="w">find</span> <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;$File::Find::name\n&quot;</span> <a class="l_k" href="functions/if.html">if</a> -l &amp;&amp; !-e <span class="s">}</span><span class="cm">,</span> <span class="i">$dir</span><span class="sc">;</span></pre>
<p>As you see, with symbolic links, you can just pretend that it is
what it points to.  Or, if you want to know <i>what</i> it points to, then
<code class="inline"><a class="l_k" href="functions/readlink.html">readlink</a></code> is called for:</p>
<pre>
    <a class="l_k" href="functions/if.html">if</a> <span class="s">(</span>-l <span class="i">$file</span><span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="functions/if.html">if</a> <span class="s">(</span><a class="l_k" href="functions/defined.html">defined</a><span class="s">(</span><span class="i">$whither</span> = <a class="l_k" href="functions/readlink.html">readlink</a><span class="s">(</span><span class="i">$file</span><span class="s">)</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span>
            <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;$file points to $whither\n&quot;</span><span class="sc">;</span>
        <span class="s">}</span> <a class="l_k" href="functions/else.html">else</a> <span class="s">{</span>
            <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;$file points nowhere: $!\n&quot;</span><span class="sc">;</span>
        <span class="s">}</span> 
    <span class="s">}</span></pre>
<a id="Opening-Named-Pipes"></a><h3 class='h3' >Opening Named Pipes</h3>
<p>Named pipes are a different matter.  You pretend they're regular files,
but their opens will normally block until there is both a reader and
a writer.  You can read more about them in <a href="perlipc.html#Named-Pipes">Named Pipes in perlipc</a>.
Unix-domain sockets are rather different beasts as well; they're
described in <a href="perlipc.html#Unix-Domain-TCP-Clients-and-Servers">Unix-Domain TCP Clients and Servers in perlipc</a>.</p>
<p>When it comes to opening devices, it can be easy and it can be tricky.
We'll assume that if you're opening up a block device, you know what
you're doing.  The character devices are more interesting.  These are
typically used for modems, mice, and some kinds of printers.  This is
described in <a href="perlfaq8.html#How-do-I-read-and-write-the-serial-port%3f">How do I read and write the serial port? in perlfaq8</a>
It's often enough to open them carefully:</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">TTYIN</span><span class="cm">,</span> <span class="q">&quot;/dev/ttyS1&quot;</span><span class="cm">,</span> <span class="w">O_RDWR</span> | <span class="w">O_NDELAY</span> | <span class="w">O_NOCTTY</span><span class="s">)</span>
		<span class="c"># (O_NOCTTY no longer needed on POSIX systems)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open /dev/ttyS1: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">TTYOUT</span><span class="cm">,</span> <span class="q">&quot;+&gt;&amp;TTYIN&quot;</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t dup TTYIN: $!&quot;</span><span class="sc">;</span>

    <span class="i">$ofh</span> = <a class="l_k" href="functions/select.html">select</a><span class="s">(</span><span class="w">TTYOUT</span><span class="s">)</span><span class="sc">;</span> <span class="i">$|</span> = <span class="n">1</span><span class="sc">;</span> <a class="l_k" href="functions/select.html">select</a><span class="s">(</span><span class="i">$ofh</span><span class="s">)</span><span class="sc">;</span>

    <a class="l_k" href="functions/print.html">print</a> <span class="i">TTYOUT</span> <span class="q">&quot;+++at\015&quot;</span><span class="sc">;</span>
    <span class="i">$answer</span> = <span class="q">&lt;TTYIN&gt;</span><span class="sc">;</span></pre>
<p>With descriptors that you haven't opened using <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code>, such as
sockets, you can set them to be non-blocking using <code class="inline"><a class="l_k" href="functions/fcntl.html">fcntl</a></code>:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">Fcntl</span><span class="sc">;</span>
    <a class="l_k" href="functions/my.html">my</a> <span class="i">$old_flags</span> = <a class="l_k" href="functions/fcntl.html">fcntl</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="w">F_GETFL</span><span class="cm">,</span> <span class="n">0</span><span class="s">)</span> 
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t get flags: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/fcntl.html">fcntl</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="w">F_SETFL</span><span class="cm">,</span> <span class="i">$old_flags</span> | <span class="w">O_NONBLOCK</span><span class="s">)</span> 
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t set non blocking: $!&quot;</span><span class="sc">;</span></pre>
<p>Rather than losing yourself in a morass of twisting, turning <code class="inline"><a class="l_k" href="functions/ioctl.html">ioctl</a></code>s,
all dissimilar, if you're going to manipulate ttys, it's best to
make calls out to the stty(1) program if you have it, or else use the
portable POSIX interface.  To figure this all out, you'll need to read the
termios(3) manpage, which describes the POSIX interface to tty devices,
and then <a href="POSIX.html">POSIX</a>, which describes Perl's interface to POSIX.  There are
also some high-level modules on CPAN that can help you with these games.
Check out Term::ReadKey and Term::ReadLine.</p>
<a id="Opening-Sockets"></a><h3 class='h3' >Opening Sockets</h3>
<p>What else can you open?  To open a connection using sockets, you won't use
one of Perl's two open functions.  See 
<a href="perlipc.html#Sockets%3a-Client%2fServer-Communication">Sockets: Client/Server Communication in perlipc</a> for that.  Here's an 
example.  Once you have it, you can use FH as a bidirectional filehandle.</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">IO::Socket</span><span class="sc">;</span>
    <a class="l_k" href="functions/local.html">local</a> <span class="i">*FH</span> = <span class="w">IO::Socket::INET</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&quot;www.perl.com:80&quot;</span><span class="s">)</span><span class="sc">;</span></pre>
<p>For opening up a URL, the LWP modules from CPAN are just what
the doctor ordered.  There's no filehandle interface, but
it's still easy to get the contents of a document:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">LWP::Simple</span><span class="sc">;</span>
    <span class="i">$doc</span> = <span class="i">get</span><span class="s">(</span><span class="q">&#39;<a href="http://www.cpan.org/">http://www.cpan.org/</a>&#39;</span><span class="s">)</span><span class="sc">;</span></pre>
<a id="Binary-Files"></a><h3 class='h3' >Binary Files</h3>
<p>On certain legacy systems with what could charitably be called terminally
convoluted (some would say broken) I/O models, a file isn't a file--at
least, not with respect to the C standard I/O library.  On these old
systems whose libraries (but not kernels) distinguish between text and
binary streams, to get files to behave properly you'll have to bend over
backwards to avoid nasty problems.  On such infelicitous systems, sockets
and pipes are already opened in binary mode, and there is currently no
way to turn that off.  With files, you have more options.</p>
<p>Another option is to use the <code class="inline"><a class="l_k" href="functions/binmode.html">binmode</a></code> function on the appropriate
handles before doing regular I/O on them:</p>
<pre>
    <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="w">STDIN</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="w">STDOUT</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;STDIN&gt;</span><span class="s">)</span> <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="s">}</span></pre>
<p>Passing <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> a non-standard flag option will also open the file in
binary mode on those systems that support it.  This is the equivalent of
opening the file normally, then calling <code class="inline"><a class="l_k" href="functions/binmode.html">binmode</a></code> on the handle.</p>
<pre>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">BINDAT</span><span class="cm">,</span> <span class="q">&quot;records.data&quot;</span><span class="cm">,</span> <span class="w">O_RDWR</span> | <span class="w">O_BINARY</span><span class="s">)</span>
        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open records.data: $!&quot;</span><span class="sc">;</span></pre>
<p>Now you can use <code class="inline"><a class="l_k" href="functions/read.html">read</a></code> and <code class="inline"><a class="l_k" href="functions/print.html">print</a></code> on that handle without worrying
about the non-standard system I/O library breaking your data.  It's not
a pretty picture, but then, legacy systems seldom are.  CP/M will be
with us until the end of days, and after.</p>
<p>On systems with exotic I/O systems, it turns out that, astonishingly
enough, even unbuffered I/O using <code class="inline"><a class="l_k" href="functions/sysread.html">sysread</a></code> and <code class="inline"><a class="l_k" href="functions/syswrite.html">syswrite</a></code> might do
sneaky data mutilation behind your back.</p>
<pre>
    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="functions/sysread.html">sysread</a><span class="s">(</span><span class="w">WHENCE</span><span class="cm">,</span> <span class="i">$buf</span><span class="cm">,</span> <span class="n">1024</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="functions/syswrite.html">syswrite</a><span class="s">(</span><span class="w">WHITHER</span><span class="cm">,</span> <span class="i">$buf</span><span class="cm">,</span> <a class="l_k" href="functions/length.html">length</a><span class="s">(</span><span class="i">$buf</span><span class="s">)</span><span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Depending on the vicissitudes of your runtime system, even these calls
may need <code class="inline"><a class="l_k" href="functions/binmode.html">binmode</a></code> or <pre>
<span class="w">O_BINARY</span></code>
 first.  Systems known to be free of
such difficulties include Unix, the Mac OS, Plan 9, and Inferno.</p>
<a id="File-Locking"></a><h3 class='h3' >File Locking</h3>
<p>In a multitasking environment, you may need to be careful not to collide
with other processes who want to do I/O on the same files as you
are working on.  You'll often need shared or exclusive locks
on files for reading and writing respectively.  You might just
pretend that only exclusive locks exist.</p>
<p>Never use the existence of a file <pre>
-e <span class="i">$file</span></code>
 as a locking indication,
because there is a race condition between the test for the existence of
the file and its creation.  It's possible for another process to create
a file in the slice of time between your existence check and your attempt
to create the file.  Atomicity is critical.</p>
<p>Perl's most portable locking interface is via the <code class="inline"><a class="l_k" href="functions/flock.html">flock</a></code> function,
whose simplicity is emulated on systems that don't directly support it
such as SysV or Windows.  The underlying semantics may affect how
it all works, so you should learn how <code class="inline"><a class="l_k" href="functions/flock.html">flock</a></code> is implemented on your
system's port of Perl.</p>
<p>File locking <i>does not</i> lock out another process that would like to
do I/O.  A file lock only locks out others trying to get a lock, not
processes trying to do I/O.  Because locks are advisory, if one process
uses locking and another doesn't, all bets are off.</p>
<p>By default, the <code class="inline"><a class="l_k" href="functions/flock.html">flock</a></code> call will block until a lock is granted.
A request for a shared lock will be granted as soon as there is no
exclusive locker.  A request for an exclusive lock will be granted as
soon as there is no locker of any kind.  Locks are on file descriptors,
not file names.  You can't lock a file until you open it, and you can't
hold on to a lock once the file has been closed.</p>
<p>Here's how to get a blocking shared lock on a file, typically used
for reading:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="n">5.004</span><span class="sc">;</span>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">Fcntl</span> <span class="q">qw(:DEFAULT :flock)</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;&lt; filename&quot;</span><span class="s">)</span>  <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open filename: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/flock.html">flock</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="w">LOCK_SH</span><span class="s">)</span> 	    <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t lock filename: $!&quot;</span><span class="sc">;</span>
    <span class="c"># now read from FH</span></pre>
<p>You can get a non-blocking lock by using <pre>
<span class="w">LOCK_NB</span></code>
.</p>
<pre>
    <a class="l_k" href="functions/flock.html">flock</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="w">LOCK_SH</span> | <span class="w">LOCK_NB</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t lock filename: $!&quot;</span><span class="sc">;</span></pre>
<p>This can be useful for producing more user-friendly behaviour by warning
if you're going to be blocking:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="n">5.004</span><span class="sc">;</span>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">Fcntl</span> <span class="q">qw(:DEFAULT :flock)</span><span class="sc">;</span>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;&lt; filename&quot;</span><span class="s">)</span>  <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open filename: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/unless.html">unless</a> <span class="s">(</span><a class="l_k" href="functions/flock.html">flock</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="w">LOCK_SH</span> | <span class="w">LOCK_NB</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span>
	<span class="i">$|</span> = <span class="n">1</span><span class="sc">;</span>
	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;Waiting for lock...&quot;</span><span class="sc">;</span>
	<a class="l_k" href="functions/flock.html">flock</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="w">LOCK_SH</span><span class="s">)</span>  <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t lock filename: $!&quot;</span><span class="sc">;</span>
	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;got it.\n&quot;</span>
    <span class="s">}</span> 
    <span class="c"># now read from FH</span></pre>
<p>To get an exclusive lock, typically used for writing, you have to be
careful.  We <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> the file so it can be locked before it gets
emptied.  You can get a nonblocking version using <pre>
<span class="w">LOCK_EX</span> | <span class="w">LOCK_NB</span></code>
.</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="n">5.004</span><span class="sc">;</span>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">Fcntl</span> <span class="q">qw(:DEFAULT :flock)</span><span class="sc">;</span>
    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;filename&quot;</span><span class="cm">,</span> <span class="w">O_WRONLY</span> | <span class="w">O_CREAT</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open filename: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/flock.html">flock</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="w">LOCK_EX</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t lock filename: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/truncate.html">truncate</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="n">0</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t truncate filename: $!&quot;</span><span class="sc">;</span>
    <span class="c"># now write to FH</span></pre>
<p>Finally, due to the uncounted millions who cannot be dissuaded from
wasting cycles on useless vanity devices called hit counters, here's
how to increment a number in a file safely:</p>
<pre>
    <a class="l_k" href="functions/use.html">use</a> <span class="w">Fcntl</span> <span class="q">qw(:DEFAULT :flock)</span><span class="sc">;</span>

    <a class="l_k" href="functions/sysopen.html">sysopen</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="q">&quot;numfile&quot;</span><span class="cm">,</span> <span class="w">O_RDWR</span> | <span class="w">O_CREAT</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t open numfile: $!&quot;</span><span class="sc">;</span>
    <span class="c"># autoflush FH</span>
    <span class="i">$ofh</span> = <a class="l_k" href="functions/select.html">select</a><span class="s">(</span><span class="w">FH</span><span class="s">)</span><span class="sc">;</span> <span class="i">$|</span> = <span class="n">1</span><span class="sc">;</span> <a class="l_k" href="functions/select.html">select</a> <span class="s">(</span><span class="i">$ofh</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="functions/flock.html">flock</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="w">LOCK_EX</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t write-lock numfile: $!&quot;</span><span class="sc">;</span>

    <span class="i">$num</span> = <span class="q">&lt;FH&gt;</span> || <span class="n">0</span><span class="sc">;</span>
    <a class="l_k" href="functions/seek.html">seek</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="n">0</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t rewind numfile : $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/print.html">print</a> <span class="i">FH</span> <span class="i">$num</span>+<span class="n">1</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t write numfile: $!&quot;</span><span class="sc">;</span>

    <a class="l_k" href="functions/truncate.html">truncate</a><span class="s">(</span><span class="w">FH</span><span class="cm">,</span> <a class="l_k" href="functions/tell.html">tell</a><span class="s">(</span><span class="w">FH</span><span class="s">)</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t truncate numfile: $!&quot;</span><span class="sc">;</span>
    <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="w">FH</span><span class="s">)</span>
        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;can&#39;t close numfile: $!&quot;</span><span class="sc">;</span></pre>
<a id="IO-Layers"></a><h3 class='h3' >IO Layers</h3>
<p>In Perl 5.8.0 a new I/O framework called "PerlIO" was introduced.
This is a new "plumbing" for all the I/O happening in Perl; for the
most part everything will work just as it did, but PerlIO also brought
in some new features such as the ability to think of I/O as "layers".
One I/O layer may in addition to just moving the data also do
transformations on the data.  Such transformations may include
compression and decompression, encryption and decryption, and transforming
between various character encodings.</p>
<p>Full discussion about the features of PerlIO is out of scope for this
tutorial, but here is how to recognize the layers being used:</p>
<ul>
<li>
<p>The three-(or more)-argument form of <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> is being used and the
second argument contains something else in addition to the usual
<pre>
<span class="q">&#39;&lt;&#39;</span></code>
, <pre>
<span class="q">&#39;&gt;&#39;</span></code>
, <pre>
<span class="q">&#39;&gt;&gt;&#39;</span></code>
, <pre>
<span class="q">&#39;|&#39;</span></code>
 and their variants,
for example:</p>
<pre>
    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$fh</span><span class="cm">,</span> <span class="q">&quot;&lt;:crlf&quot;</span><span class="cm">,</span> <span class="i">$fn</span><span class="s">)</span><span class="sc">;</span></pre>
</li>
<li>
<p>The two-argument form of <code class="inline"><a class="l_k" href="functions/binmode.html">binmode</a></code> is being used, for example</p>
<pre>
    <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="i">$fh</span><span class="cm">,</span> <span class="q">&quot;:encoding(utf16)&quot;</span><span class="s">)</span><span class="sc">;</span></pre>
</li>
</ul>
<p>For more detailed discussion about PerlIO see <a href="PerlIO.html">PerlIO</a>;
for more detailed discussion about Unicode and I/O see <a href="perluniintro.html">perluniintro</a>.</p>
<a id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p>The <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> and <code class="inline"><a class="l_k" href="functions/sysopen.html">sysopen</a></code> functions in perlfunc(1);
the system open(2), dup(2), fopen(3), and fdopen(3) manpages;
the POSIX documentation.</p>
<a id="AUTHOR-and-COPYRIGHT"></a><h2 class='h2' >AUTHOR and COPYRIGHT</h2>
<p>Copyright 1998 Tom Christiansen.</p>
<p>This documentation is free; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<p>Irrespective of its distribution, all code examples in these files are
hereby placed into the public domain.  You are permitted and
encouraged to use this code in your own programs for fun or for profit
as you see fit.  A simple comment in the code giving credit would be
courteous but is not required.</p>
<a id="HISTORY"></a><h2 class='h2' >HISTORY</h2>
<p>First release: Sat Jan  9 08:09:11 MST 1999</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Open-agrave-la-shell">Open agrave la shell</a></li><ul><li><a href="#Simple-Opens">Simple Opens</a></li><li><a href="#Indirect-Filehandles">Indirect Filehandles</a></li><li><a href="#Pipe-Opens">Pipe Opens</a></li><li><a href="#The-Minus-File">The Minus File</a></li><li><a href="#Mixing-Reads-and-Writes">Mixing Reads and Writes</a></li><li><a href="#Filters">Filters</a></li></ul><li><a href="#Open-agrave-la-C">Open agrave la C</a></li><ul><li><a href="#Permissions-agrave-la-mode">Permissions agrave la mode</a></li></ul><li><a href="#Obscure-Open-Tricks">Obscure Open Tricks</a></li><ul><li><a href="#Re-Opening-Files-(dups)">Re-Opening Files (dups)</a></li><li><a href="#Dispelling-the-Dweomer">Dispelling the Dweomer</a></li><li><a href="#Paths-as-Opens">Paths as Opens</a></li><li><a href="#Single-Argument-Open">Single Argument Open</a></li><li><a href="#Playing-with-STDIN-and-STDOUT">Playing with STDIN and STDOUT</a></li></ul><li><a href="#Other-I%2fO-Issues">Other I/O Issues</a></li><ul><li><a href="#Opening-Non-File-Files">Opening Non-File Files</a></li><li><a href="#Opening-Named-Pipes">Opening Named Pipes</a></li><li><a href="#Opening-Sockets">Opening Sockets</a></li><li><a href="#Binary-Files">Binary Files</a></li><li><a href="#File-Locking">File Locking</a></li><li><a href="#IO-Layers">IO Layers</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR-and-COPYRIGHT">AUTHOR and COPYRIGHT</a></li><li><a href="#HISTORY">HISTORY</a></li></ul>


                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/18/3/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/18/3/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
