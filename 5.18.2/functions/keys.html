<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="keys - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>keys - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.18.2/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.18.2/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.18.2/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.18.2/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.18.2/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.18.2/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.18.2/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.18.2/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.18.2/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.18.2/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.18.2/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.18.2/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.18.2/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.18.2/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.18.2/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.18.2/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../index-language.html">Language reference</a> &gt;
      
        <a href="../index-functions.html">Functions</a> &gt;
      
    
    keys
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 18.2 documentation</h1>
                  </div>
                  <h1>keys</h1>
<div class="mod_az_list">
  <a href="/5.18.2/index-functions.html">Perl functions A-Z</a> |
  <a href="/5.18.2/index-functions-by-cat.html">Perl functions by category</a> |
  <a href="/5.18.2/perlfunc.html">The 'perlfunc' manpage</a>
</div>


  <!--    -->
<ul>
<li><a id="keys-HASH"></a><strong>keys HASH</strong>
<p> </p>
</li>
</ul>
<ul>
<li><a id="keys-ARRAY"></a><strong>keys ARRAY</strong>
</li>
<li><a id="keys-EXPR"></a><strong>keys EXPR</strong>
<p>Called in list context, returns a list consisting of all the keys of the
named hash, or in Perl 5.12 or later only, the indices of an array.  Perl
releases prior to 5.12 will produce a syntax error if you try to use an
array argument.  In scalar context, returns the number of keys or indices.</p>
<p>Hash entries are returned in an apparently random order.  The actual random
order is specific to a given hash; the exact same series of operations
on two hashes may result in a different order for each hash. Any insertion
into the hash may change the order, as will any deletion, with the exception
that the most recent key returned by <code class="inline"><a class="l_k" href="../functions/each.html">each</a></code> or <code class="inline"><a class="l_k" href="../functions/keys.html">keys</a></code> may be deleted
without changing the order. So long as a given hash is unmodified you may
rely on <code class="inline"><a class="l_k" href="../functions/keys.html">keys</a></code>, <code class="inline"><a class="l_k" href="../functions/values.html">values</a></code> and <code class="inline"><a class="l_k" href="../functions/each.html">each</a></code> to repeatedly return the same order
as each other. See <a href="../perlsec.html#Algorithmic-Complexity-Attacks">Algorithmic Complexity Attacks in perlsec</a> for
details on why hash order is randomized. Aside from the guarantees
provided here the exact details of Perl's hash algorithm and the hash
traversal order are subject to change in any release of Perl.</p>
<p>As a side effect, calling keys() resets the internal iterator of the HASH or
ARRAY (see <a href="../functions/each.html">each</a>).  In particular, calling keys() in void context resets
the iterator with no other overhead.</p>
<p>Here is yet another way to print your environment:</p>
<pre>
    <span class="i">@keys</span> = <a class="l_k" href="../functions/keys.html">keys</a> <span class="i">%ENV</span><span class="sc">;</span>
    <span class="i">@values</span> = <a class="l_k" href="../functions/values.html">values</a> <span class="i">%ENV</span><span class="sc">;</span>
    <a class="l_k" href="../functions/while.html">while</a> <span class="s">(</span><span class="i">@keys</span><span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="../functions/print.html">print</a> <a class="l_k" href="../functions/pop.html">pop</a><span class="s">(</span><span class="i">@keys</span><span class="s">)</span><span class="cm">,</span> <span class="q">&#39;=&#39;</span><span class="cm">,</span> <a class="l_k" href="../functions/pop.html">pop</a><span class="s">(</span><span class="i">@values</span><span class="s">)</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>or how about sorted by key:</p>
<pre>
    <a class="l_k" href="../functions/foreach.html">foreach</a> <span class="i">$key</span> <span class="s">(</span><a class="l_k" href="../functions/sort.html">sort</a><span class="s">(</span><a class="l_k" href="../functions/keys.html">keys</a> <span class="i">%ENV</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="../functions/print.html">print</a> <span class="i">$key</span><span class="cm">,</span> <span class="q">&#39;=&#39;</span><span class="cm">,</span> <span class="i">$ENV</span>{<span class="i">$key</span>}<span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>The returned values are copies of the original keys in the hash, so
modifying them will not affect the original hash.  Compare <a href="../functions/values.html">values</a>.</p>
<p>To sort a hash by value, you'll need to use a <code class="inline"><a class="l_k" href="../functions/sort.html">sort</a></code> function.
Here's a descending numeric sort of a hash by its values:</p>
<pre>
    <a class="l_k" href="../functions/foreach.html">foreach</a> <span class="i">$key</span> <span class="s">(</span><a class="l_k" href="../functions/sort.html">sort</a> <span class="s">{</span> <span class="i">$hash</span>{<span class="i">$b</span>} &lt;=&gt; <span class="i">$hash</span>{<span class="i">$a</span>} <span class="s">}</span> <a class="l_k" href="../functions/keys.html">keys</a> <span class="i">%hash</span><span class="s">)</span> <span class="s">{</span>
        <a class="l_k" href="../functions/printf.html">printf</a> <span class="q">&quot;%4d %s\n&quot;</span><span class="cm">,</span> <span class="i">$hash</span>{<span class="i">$key</span>}<span class="cm">,</span> <span class="i">$key</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Used as an lvalue, <code class="inline"><a class="l_k" href="../functions/keys.html">keys</a></code> allows you to increase the number of hash buckets
allocated for the given hash.  This can gain you a measure of efficiency if
you know the hash is going to get big.  (This is similar to pre-extending
an array by assigning a larger number to $#array.)  If you say</p>
<pre>
    <a class="l_k" href="../functions/keys.html">keys</a> <span class="i">%hash</span> = <span class="n">200</span><span class="sc">;</span></pre>
<p>then <pre>
<span class="i">%hash</span></code>
 will have at least 200 buckets allocated for it--256 of them,
in fact, since it rounds up to the next power of two.  These
buckets will be retained even if you do <pre>
<span class="i">%hash</span> = <span class="s">(</span><span class="s">)</span></code>
, use <pre>
<a class="l_k" href="../functions/undef.html">undef</a>
<span class="i">%hash</span></code>
 if you want to free the storage while <pre>
<span class="i">%hash</span></code>
 is still in scope.
You can't shrink the number of buckets allocated for the hash using
<code class="inline"><a class="l_k" href="../functions/keys.html">keys</a></code> in this way (but you needn't worry about doing this by accident,
as trying has no effect).  <pre>
<a class="l_k" href="../functions/keys.html">keys</a> <span class="i">@array</span></code>
 in an lvalue context is a syntax
error.</p>
<p>Starting with Perl 5.14, <code class="inline"><a class="l_k" href="../functions/keys.html">keys</a></code> can take a scalar EXPR, which must contain
a reference to an unblessed hash or array.  The argument will be
dereferenced automatically.  This aspect of <code class="inline"><a class="l_k" href="../functions/keys.html">keys</a></code> is considered highly
experimental.  The exact behaviour may change in a future version of Perl.</p>
<pre>
    <a class="l_k" href="../functions/for.html">for</a> <span class="s">(</span><a class="l_k" href="../functions/keys.html">keys</a> <span class="i">$hashref</span><span class="s">)</span> <span class="s">{</span> ... <span class="s">}</span>
    <a class="l_k" href="../functions/for.html">for</a> <span class="s">(</span><a class="l_k" href="../functions/keys.html">keys</a> <span class="i">$obj</span><span class="i">-&gt;get_arrayref</span><span class="s">)</span> <span class="s">{</span> ... <span class="s">}</span></pre>
<p>To avoid confusing would-be users of your code who are running earlier
versions of Perl with mysterious syntax errors, put this sort of thing at
the top of your file to signal that your code will work <i>only</i> on Perls of
a recent vintage:</p>
<pre>
    <a class="l_k" href="../functions/use.html">use</a> <span class="n">5.012</span><span class="sc">;</span>	<span class="c"># so keys/values/each work on arrays</span>
    <a class="l_k" href="../functions/use.html">use</a> <span class="n">5.014</span><span class="sc">;</span>	<span class="c"># so keys/values/each work on scalars (experimental)</span></pre>
<p>See also <code class="inline"><a class="l_k" href="../functions/each.html">each</a></code>, <code class="inline"><a class="l_k" href="../functions/values.html">values</a></code>, and <code class="inline"><a class="l_k" href="../functions/sort.html">sort</a></code>.</p>
</li>
</ul>



                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/18/2/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/18/2/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/18/2/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/18/2/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/18/2/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/18/2/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/18/2/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
