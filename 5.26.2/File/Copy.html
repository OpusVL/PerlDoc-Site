<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="File::Copy - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>File::Copy - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.26.2/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.26.2/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.26.2/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.26.2/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.26.2/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.26.2/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.26.2/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.26.2/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.26.2/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.26.2/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.26.2/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.26.2/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.26.2/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.26.2/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.26.2/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../index-modules-F.html">Core modules (F)</a> &gt;
      
    
    File::Copy
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 26.2 documentation</h1>
                  </div>
                  <h1>File::Copy</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#RETURN">RETURN</a></li><li><a href="#NOTES">NOTES</a></li><li><a href="#AUTHOR">AUTHOR</a></li></ul><a id="NAME"></a><h2 class='h2' >NAME</h2>
<p>File::Copy - Copy files or filehandles</p>
<a id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<pre>
	<a class="l_k" href="../functions/use.html">use</a> <span class="w">File::Copy</span><span class="sc">;</span>

	<span class="i">copy</span><span class="s">(</span><span class="q">&quot;sourcefile&quot;</span><span class="cm">,</span><span class="q">&quot;destinationfile&quot;</span><span class="s">)</span> <a class="l_k" href="../functions/or.html">or</a> <a class="l_k" href="../functions/die.html">die</a> <span class="q">&quot;Copy failed: $!&quot;</span><span class="sc">;</span>
	<span class="i">copy</span><span class="s">(</span><span class="q">&quot;Copy.pm&quot;</span><span class="cm">,</span>\<span class="i">*STDOUT</span><span class="s">)</span><span class="sc">;</span>
	<span class="i">move</span><span class="s">(</span><span class="q">&quot;/dev1/sourcefile&quot;</span><span class="cm">,</span><span class="q">&quot;/dev2/destinationfile&quot;</span><span class="s">)</span><span class="sc">;</span>

	<a class="l_k" href="../functions/use.html">use</a> <span class="w">File::Copy</span> <span class="q">&quot;cp&quot;</span><span class="sc">;</span>

	<span class="i">$n</span> = <span class="w">FileHandle</span><span class="w">-&gt;new</span><span class="s">(</span><span class="q">&quot;/a/file&quot;</span><span class="cm">,</span><span class="q">&quot;r&quot;</span><span class="s">)</span><span class="sc">;</span>
	<span class="i">cp</span><span class="s">(</span><span class="i">$n</span><span class="cm">,</span><span class="q">&quot;x&quot;</span><span class="s">)</span><span class="sc">;</span></pre>
<a id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>The File::Copy module provides two basic functions, <pre>
<span class="w">copy</span></code>
 and
<pre>
<span class="w">move</span></code>
, which are useful for getting the contents of a file from
one place to another.</p>
<ul>
<li><a id="copy"></a><strong>copy
 </strong>
<p>The <pre>
<span class="w">copy</span></code>
 function takes two
parameters: a file to copy from and a file to copy to. Either
argument may be a string, a FileHandle reference or a FileHandle
glob. Obviously, if the first argument is a filehandle of some
sort, it will be read from, and if it is a file <i>name</i> it will
be opened for reading. Likewise, the second argument will be
written to. If the second argument does not exist but the parent
directory does exist, then it will be created. Trying to copy
a file into a non-existent directory is an error.
Trying to copy a file on top of itself is also an error.
<pre>
<span class="w">copy</span></code>
 will not overwrite read-only files.</p>
<p>If the destination (second argument) already exists and is a directory,
and the source (first argument) is not a filehandle, then the source
file will be copied into the directory specified by the destination,
using the same base name as the source file.  It's a failure to have a
filehandle as the source when the destination is a directory.</p>
<p><strong>Note that passing in
files as handles instead of names may lead to loss of information
on some operating systems; it is recommended that you use file
names whenever possible.</strong>  Files are opened in binary mode where
applicable.  To get a consistent behaviour when copying from a
filehandle to a file, use <code class="inline"><a class="l_k" href="../functions/binmode.html">binmode</a></code> on the filehandle.</p>
<p>An optional third parameter can be used to specify the buffer
size used for copying. This is the number of bytes from the
first file, that will be held in memory at any given time, before
being written to the second file. The default buffer size depends
upon the file, but will generally be the whole file (up to 2MB), or
1k for filehandles that do not reference files (eg. sockets).</p>
<p>You may use the syntax <pre>
<a class="l_k" href="../functions/use.html">use</a> <span class="w">File::Copy</span> <span class="q">&quot;cp&quot;</span></code>
 to get at the <pre>
<span class="w">cp</span></code>

alias for this function. The syntax is <i>exactly</i> the same.  The
behavior is nearly the same as well: as of version 2.15, <pre>
<span class="w">cp</span></code>
 will
preserve the source file's permission bits like the shell utility
<pre>
<span class="i">cp</span><span class="s">(</span><span class="n">1</span><span class="s">)</span></code>
 would do, while <pre>
<span class="w">copy</span></code>
 uses the default permissions for the
target file (which may depend on the process' <code class="inline"><a class="l_k" href="../functions/umask.html">umask</a></code>, file
ownership, inherited ACLs, etc.).  If an error occurs in setting
permissions, <pre>
<span class="w">cp</span></code>
 will return 0, regardless of whether the file was
successfully copied.</p>
</li>
<li><a id="move"></a><strong>move
  </strong>
<p>The <pre>
<span class="w">move</span></code>
 function also takes two parameters: the current name
and the intended name of the file to be moved.  If the destination
already exists and is a directory, and the source is not a
directory, then the source file will be renamed into the directory
specified by the destination.</p>
<p>If possible, move() will simply rename the file.  Otherwise, it copies
the file to the new location and deletes the original.  If an error occurs
during this copy-and-delete process, you may be left with a (possibly partial)
copy of the file under the destination name.</p>
<p>You may use the <pre>
<span class="w">mv</span></code>
 alias for this function in the same way that
you may use the <pre>
<span class="w">cp</span></code>
 alias for <pre>
<span class="w">copy</span></code>
.</p>
</li>
<li><a id="syscopy"></a><strong>syscopy
</strong>
<p>File::Copy also provides the <pre>
<span class="w">syscopy</span></code>
 routine, which copies the
file specified in the first parameter to the file specified in the
second parameter, preserving OS-specific attributes and file
structure.  For Unix systems, this is equivalent to the simple
<pre>
<span class="w">copy</span></code>
 routine, which doesn't preserve OS-specific attributes.  For
VMS systems, this calls the <pre>
<span class="w">rmscopy</span></code>
 routine (see below).  For OS/2
systems, this calls the <pre>
<span class="w">syscopy</span></code>
 XSUB directly. For Win32 systems,
this calls <pre>
<span class="w">Win32::CopyFile</span></code>
.</p>
<p><strong>Special behaviour if <pre>
<span class="w">syscopy</span></code>
 is defined (OS/2, VMS and Win32)</strong>:</p>
<p>If both arguments to <pre>
<span class="w">copy</span></code>
 are not file handles,
then <pre>
<span class="w">copy</span></code>
 will perform a "system copy" of
the input file to a new output file, in order to preserve file
attributes, indexed file structure, <i>etc.</i>  The buffer size
parameter is ignored.  If either argument to <pre>
<span class="w">copy</span></code>
 is a
handle to an opened file, then data is copied using Perl
operators, and no effort is made to preserve file attributes
or record structure.</p>
<p>The system copy routine may also be called directly under VMS and OS/2
as <pre>
<span class="w">File::Copy::syscopy</span></code>
 (or under VMS as <pre>
<span class="w">File::Copy::rmscopy</span></code>
, which
is the routine that does the actual work for syscopy).</p>
</li>
<li><a id="rmscopy(%24from%2c%24to%5b%2c%24date_flag%5d)"></a><strong>rmscopy($from,$to[,$date_flag])
</strong>
<p>The first and second arguments may be strings, typeglobs, typeglob
references, or objects inheriting from IO::Handle;
they are used in all cases to obtain the
<i>filespec</i> of the input and output files, respectively.  The
name and type of the input file are used as defaults for the
output file, if necessary.</p>
<p>A new version of the output file is always created, which
inherits the structure and RMS attributes of the input file,
except for owner and protections (and possibly timestamps;
see below).  All data from the input file is copied to the
output file; if either of the first two parameters to <pre>
<span class="w">rmscopy</span></code>

is a file handle, its position is unchanged.  (Note that this
means a file handle pointing to the output file will be
associated with an old version of that file after <pre>
<span class="w">rmscopy</span></code>

returns, not the newly created version.)</p>
<p>The third parameter is an integer flag, which tells <pre>
<span class="w">rmscopy</span></code>

how to handle timestamps.  If it is &lt; 0, none of the input file's
timestamps are propagated to the output file.  If it is &gt; 0, then
it is interpreted as a bitmask: if bit 0 (the LSB) is set, then
timestamps other than the revision date are propagated; if bit 1
is set, the revision date is propagated.  If the third parameter
to <pre>
<span class="w">rmscopy</span></code>
 is 0, then it behaves much like the DCL COPY command:
if the name or type of the output file was explicitly specified,
then no timestamps are propagated, but if they were taken implicitly
from the input filespec, then all timestamps other than the
revision date are propagated.  If this parameter is not supplied,
it defaults to 0.</p>
<p><pre>
<span class="w">rmscopy</span></code>
 is VMS specific and cannot be exported; it must be
referenced by its full name, e.g.:</p>
<pre>
  <span class="i">File::Copy::rmscopy</span><span class="s">(</span><span class="i">$from</span><span class="cm">,</span> <span class="i">$to</span><span class="s">)</span> <a class="l_k" href="../functions/or.html">or</a> <a class="l_k" href="../functions/die.html">die</a> <span class="i">$!</span><span class="sc">;</span></pre>
<p>Like <pre>
<span class="w">copy</span></code>
, <pre>
<span class="w">rmscopy</span></code>
 returns 1 on success.  If an error occurs,
it sets <pre>
<span class="i">$!</span></code>
, deletes the output file, and returns 0.</p>
</li>
</ul>
<a id="RETURN"></a><h2 class='h2' >RETURN</h2>
<p>All functions return 1 on success, 0 on failure.
$! will be set if an error was encountered.</p>
<a id="NOTES"></a><h2 class='h2' >NOTES</h2>
<p>Before calling copy() or move() on a filehandle, the caller should
close or flush() the file to avoid writes being lost. Note that this
is the case even for move(), because it may actually copy the file,
depending on the OS-specific inplementation, and the underlying
filesystem(s).</p>
<a id="AUTHOR"></a><h2 class='h2' >AUTHOR</h2>
<p>File::Copy was written by Aaron Sherman <i>&lt;ajs@ajs.com&gt;</i> in 1995,
and updated by Charles Bailey <i>&lt;bailey@newman.upenn.edu&gt;</i> in 1996.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#RETURN">RETURN</a></li><li><a href="#NOTES">NOTES</a></li><li><a href="#AUTHOR">AUTHOR</a></li></ul>


                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/26/2/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/26/2/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
