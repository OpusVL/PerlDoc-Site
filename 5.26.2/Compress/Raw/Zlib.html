<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Compress::Raw::Zlib - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>Compress::Raw::Zlib - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.26.2/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.26.2/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.26.2/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.26.2/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.26.2/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.26.2/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.26.2/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.26.2/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.26.2/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.26.2/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.26.2/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.26.2/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.26.2/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.26.2/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.26.2/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.26.2/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="../../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../../index-modules-C.html">Core modules (C)</a> &gt;
      
    
    Compress::Raw::Zlib
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 26.2 documentation</h1>
                  </div>
                  <h1>Compress::Raw::Zlib</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Compress%3a%3aRaw%3a%3aZlib%3a%3aDeflate">Compress::Raw::Zlib::Deflate</a></li><ul><li><a href="#*(%24d%2c-%24status)-%3d-new-Compress%3a%3aRaw%3a%3aZlib%3a%3aDeflate(-%5bOPT%5d-)-*">*($d, $status) = new Compress::Raw::Zlib::Deflate( [OPT] ) *</a></li><li><a href="#*%24status-%3d-%24d-%3edeflate(%24input%2c-%24output)*">*$status = $d->deflate($input, $output)*</a></li><li><a href="#*%24status-%3d-%24d-%3eflush(%24output-%5b%2c-%24flush_type%5d)-*">*$status = $d->flush($output [, $flush_type]) *</a></li><li><a href="#*%24status-%3d-%24d-%3edeflateReset()-*">*$status = $d->deflateReset() *</a></li><li><a href="#*%24status-%3d-%24d-%3edeflateParams(%5bOPT%5d)*">*$status = $d->deflateParams([OPT])*</a></li><li><a href="#*%24status-%3d-%24d-%3edeflateTune(%24good_length%2c-%24max_lazy%2c-%24nice_length%2c-%24max_chain)*">*$status = $d->deflateTune($good_length, $max_lazy, $nice_length, $max_chain)*</a></li><li><a href="#*%24d-%3edict_adler()*">*$d->dict_adler()*</a></li><li><a href="#*%24d-%3ecrc32()*">*$d->crc32()*</a></li><li><a href="#*%24d-%3eadler32()*">*$d->adler32()*</a></li><li><a href="#*%24d-%3emsg()*">*$d->msg()*</a></li><li><a href="#*%24d-%3etotal_in()*">*$d->total_in()*</a></li><li><a href="#*%24d-%3etotal_out()*">*$d->total_out()*</a></li><li><a href="#*%24d-%3eget_Strategy()*">*$d->get_Strategy()*</a></li><li><a href="#*%24d-%3eget_Level()*">*$d->get_Level()*</a></li><li><a href="#*%24d-%3eget_BufSize()*">*$d->get_BufSize()*</a></li><li><a href="#Example">Example</a></li></ul><li><a href="#Compress%3a%3aRaw%3a%3aZlib%3a%3aInflate">Compress::Raw::Zlib::Inflate</a></li><ul><li><a href="#*-(%24i%2c-%24status)-%3d-new-Compress%3a%3aRaw%3a%3aZlib%3a%3aInflate(-%5bOPT%5d-)-*">* ($i, $status) = new Compress::Raw::Zlib::Inflate( [OPT] ) *</a></li><li><a href="#*-%24status-%3d-%24i-%3einflate(%24input%2c-%24output-%5b%2c%24eof%5d)-*">* $status = $i->inflate($input, $output [,$eof]) *</a></li><li><a href="#*%24status-%3d-%24i-%3einflateSync(%24input)*">*$status = $i->inflateSync($input)*</a></li><li><a href="#*%24status-%3d-%24i-%3einflateReset()-*">*$status = $i->inflateReset() *</a></li><li><a href="#*%24i-%3edict_adler()*">*$i->dict_adler()*</a></li><li><a href="#*%24i-%3ecrc32()*">*$i->crc32()*</a></li><li><a href="#*%24i-%3eadler32()*">*$i->adler32()*</a></li><li><a href="#*%24i-%3emsg()*">*$i->msg()*</a></li><li><a href="#*%24i-%3etotal_in()*">*$i->total_in()*</a></li><li><a href="#*%24i-%3etotal_out()*">*$i->total_out()*</a></li><li><a href="#*%24d-%3eget_BufSize()*">*$d->get_BufSize()*</a></li><li><a href="#Examples">Examples</a></li></ul><li><a href="#CHECKSUM-FUNCTIONS">CHECKSUM FUNCTIONS</a></li><li><a href="#Misc">Misc</a></li><ul><li><a href="#my-%24version-%3d-Compress%3a%3aRaw%3a%3aZlib%3a%3azlib_version()%3b">my $version = Compress::Raw::Zlib::zlib_version();</a></li><li><a href="#my-%24flags-%3d-Compress%3a%3aRaw%3a%3aZlib%3a%3azlibCompileFlags()%3b">my $flags = Compress::Raw::Zlib::zlibCompileFlags();</a></li></ul><li><a href="#The-LimitOutput-option.">The LimitOutput option.</a></li><li><a href="#ACCESSING-ZIP-FILES">ACCESSING ZIP FILES</a></li><li><a href="#FAQ">FAQ</a></li><ul><li><a href="#Compatibility-with-Unix-compress%2funcompress.">Compatibility with Unix compress/uncompress.</a></li><li><a href="#Accessing-.tar.Z-files">Accessing .tar.Z files</a></li><li><a href="#Zlib-Library-Version-Support">Zlib Library Version Support</a></li></ul><li><a href="#CONSTANTS">CONSTANTS</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR">AUTHOR</a></li><li><a href="#MODIFICATION-HISTORY">MODIFICATION HISTORY</a></li><li><a href="#COPYRIGHT-AND-LICENSE">COPYRIGHT AND LICENSE</a></li></ul><a id="NAME"></a><h2 class='h2' >NAME</h2>
<p>Compress::Raw::Zlib - Low-Level Interface to zlib compression library</p>
<a id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Compress::Raw::Zlib</span> <span class="sc">;</span>

    <span class="s">(</span><span class="i">$d</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> = <span class="w">new</span> <span class="i">Compress::Raw::Zlib::Deflate</span><span class="s">(</span> <span class="s">[</span><span class="w">OPT</span><span class="s">]</span> <span class="s">)</span> <span class="sc">;</span>
    <span class="i">$status</span> = <span class="i">$d</span><span class="i">-&gt;deflate</span><span class="s">(</span><span class="i">$input</span><span class="cm">,</span> <span class="i">$output</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$status</span> = <span class="i">$d</span><span class="i">-&gt;flush</span><span class="s">(</span><span class="i">$output</span> [<span class="cm">,</span> <span class="i">$flush_type</span>]<span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;deflateReset</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;deflateParams</span><span class="s">(</span><span class="w">OPTS</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;deflateTune</span><span class="s">(</span><span class="w">OPTS</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;dict_adler</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;crc32</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;adler32</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;total_in</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;total_out</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;msg</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;get_Strategy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;get_Level</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;get_BufSize</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>

    <span class="s">(</span><span class="i">$i</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> = <span class="w">new</span> <span class="i">Compress::Raw::Zlib::Inflate</span><span class="s">(</span> <span class="s">[</span><span class="w">OPT</span><span class="s">]</span> <span class="s">)</span> <span class="sc">;</span>
    <span class="i">$status</span> = <span class="i">$i</span><span class="i">-&gt;inflate</span><span class="s">(</span><span class="i">$input</span><span class="cm">,</span> <span class="i">$output</span> [<span class="cm">,</span> <span class="i">$eof</span>]<span class="s">)</span> <span class="sc">;</span>
    <span class="i">$status</span> = <span class="i">$i</span><span class="i">-&gt;inflateSync</span><span class="s">(</span><span class="i">$input</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$i</span><span class="i">-&gt;inflateReset</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$i</span><span class="i">-&gt;dict_adler</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;crc32</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;adler32</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$i</span><span class="i">-&gt;total_in</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$i</span><span class="i">-&gt;total_out</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$i</span><span class="i">-&gt;msg</span><span class="s">(</span><span class="s">)</span> <span class="sc">;</span>
    <span class="i">$d</span><span class="i">-&gt;get_BufSize</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>

    <span class="i">$crc</span> = <span class="i">adler32</span><span class="s">(</span><span class="i">$buffer</span> [<span class="cm">,</span><span class="i">$crc</span>]<span class="s">)</span> <span class="sc">;</span>
    <span class="i">$crc</span> = <span class="i">crc32</span><span class="s">(</span><span class="i">$buffer</span> [<span class="cm">,</span><span class="i">$crc</span>]<span class="s">)</span> <span class="sc">;</span>

    <span class="i">$crc</span> = <span class="i">crc32_combine</span><span class="s">(</span><span class="i">$crc1</span><span class="cm">,</span> <span class="i">$crc2</span><span class="cm">,</span> <span class="i">$len2</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$adler</span> = <span class="i">adler32_combine</span><span class="s">(</span><span class="i">$adler1</span><span class="cm">,</span> <span class="i">$adler2</span><span class="cm">,</span> <span class="i">$len2</span><span class="s">)</span><span class="sc">;</span>

    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$version</span> = <span class="i">Compress::Raw::Zlib::zlib_version</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$flags</span> = <span class="i">Compress::Raw::Zlib::zlibCompileFlags</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></pre>
<a id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>The <i>Compress::Raw::Zlib</i> module provides a Perl interface to the <i>zlib</i>
compression library (see <a href="#AUTHOR">AUTHOR</a> for details about where to get
<i>zlib</i>).</p>
<a id="Compress%3a%3aRaw%3a%3aZlib%3a%3aDeflate"></a><h2 class='h2' >Compress::Raw::Zlib::Deflate</h2>
<p>This section defines an interface that allows in-memory compression using
the <i>deflate</i> interface provided by zlib.</p>
<p>Here is a definition of the interface available:</p>
<a id="*(%24d%2c-%24status)-%3d-new-Compress%3a%3aRaw%3a%3aZlib%3a%3aDeflate(-%5bOPT%5d-)-*"></a><h3 class='h3' ><strong>($d, $status) = new Compress::Raw::Zlib::Deflate( [OPT] ) </strong></h3>
<p>Initialises a deflation object.</p>
<p>If you are familiar with the <i>zlib</i> library, it combines the
features of the <i>zlib</i> functions <pre>
<span class="w">deflateInit</span></code>
, <pre>
<span class="w">deflateInit2</span></code>

and <pre>
<span class="w">deflateSetDictionary</span></code>
.</p>
<p>If successful, it will return the initialised deflation object, <pre>
<span class="i">$d</span></code>

and a <pre>
<span class="i">$status</span></code>
 of <pre>
<span class="w">Z_OK</span></code>
 in a list context. In scalar context it
returns the deflation object, <pre>
<span class="i">$d</span></code>
, only.</p>
<p>If not successful, the returned deflation object, <pre>
<span class="i">$d</span></code>
, will be
<i>undef</i> and <pre>
<span class="i">$status</span></code>
 will hold the a <i>zlib</i> error code.</p>
<p>The function optionally takes a number of named options specified as
<pre>
<span class="w">Name</span> <span class="cm">=&gt;</span> <span class="w">value</span></code>
 pairs. This allows individual options to be
tailored without having to specify them all in the parameter list.</p>
<p>For backward compatibility, it is also possible to pass the parameters
as a reference to a hash containing the name=&gt;value pairs.</p>
<p>Below is a list of the valid options:</p>
<ul>
<li><a id="*-Level*"></a><strong><strong>-Level</strong></strong>
<p>Defines the compression level. Valid values are 0 through 9,
<pre>
<span class="w">Z_NO_COMPRESSION</span></code>
, <pre>
<span class="w">Z_BEST_SPEED</span></code>
, <pre>
<span class="w">Z_BEST_COMPRESSION</span></code>
, and
<pre>
<span class="w">Z_DEFAULT_COMPRESSION</span></code>
.</p>
<p>The default is <pre>
<span class="w">Z_DEFAULT_COMPRESSION</span></code>
.</p>
</li>
<li><a id="*-Method*"></a><strong><strong>-Method</strong></strong>
<p>Defines the compression method. The only valid value at present (and
the default) is <pre>
<span class="w">Z_DEFLATED</span></code>
.</p>
</li>
<li><a id="*-WindowBits*"></a><strong><strong>-WindowBits</strong></strong>
<p>To compress an RFC 1950 data stream, set <pre>
<span class="w">WindowBits</span></code>
 to a positive
number between 8 and 15.</p>
<p>To compress an RFC 1951 data stream, set <pre>
<span class="w">WindowBits</span></code>
 to <pre>
-<span class="w">MAX_WBITS</span></code>
.</p>
<p>To compress an RFC 1952 data stream (i.e. gzip), set <pre>
<span class="w">WindowBits</span></code>
 to
<pre>
<span class="w">WANT_GZIP</span></code>
.</p>
<p>For a definition of the meaning and valid values for <pre>
<span class="w">WindowBits</span></code>

refer to the <i>zlib</i> documentation for <i>deflateInit2</i>.</p>
<p>Defaults to <pre>
<span class="w">MAX_WBITS</span></code>
.</p>
</li>
<li><a id="*-MemLevel*"></a><strong><strong>-MemLevel</strong></strong>
<p>For a definition of the meaning and valid values for <pre>
<span class="w">MemLevel</span></code>

refer to the <i>zlib</i> documentation for <i>deflateInit2</i>.</p>
<p>Defaults to MAX_MEM_LEVEL.</p>
</li>
<li><a id="*-Strategy*"></a><strong><strong>-Strategy</strong></strong>
<p>Defines the strategy used to tune the compression. The valid values are
<pre>
<span class="w">Z_DEFAULT_STRATEGY</span></code>
, <pre>
<span class="w">Z_FILTERED</span></code>
, <pre>
<span class="w">Z_RLE</span></code>
, <pre>
<span class="w">Z_FIXED</span></code>
 and
<pre>
<span class="w">Z_HUFFMAN_ONLY</span></code>
.</p>
<p>The default is <pre>
<span class="w">Z_DEFAULT_STRATEGY</span></code>
.</p>
</li>
<li><a id="*-Dictionary*"></a><strong><strong>-Dictionary</strong></strong>
<p>When a dictionary is specified <i>Compress::Raw::Zlib</i> will automatically
call <pre>
<span class="w">deflateSetDictionary</span></code>
 directly after calling <pre>
<span class="w">deflateInit</span></code>
. The
Adler32 value for the dictionary can be obtained by calling the method 
<pre>
<span class="i">$d</span><span class="i">-&gt;dict_adler</span><span class="s">(</span><span class="s">)</span></code>
.</p>
<p>The default is no dictionary.</p>
</li>
<li><a id="*-Bufsize*"></a><strong><strong>-Bufsize</strong></strong>
<p>Sets the initial size for the output buffer used by the <pre>
<span class="i">$d</span><span class="i">-&gt;deflate</span></code>

and <pre>
<span class="i">$d</span><span class="i">-&gt;flush</span></code>
 methods. If the buffer has to be
reallocated to increase the size, it will grow in increments of
<pre>
<span class="w">Bufsize</span></code>
.</p>
<p>The default buffer size is 4096.</p>
</li>
<li><a id="*-AppendOutput*"></a><strong><strong>-AppendOutput</strong></strong>
<p>This option controls how data is written to the output buffer by the
<pre>
<span class="i">$d</span><span class="i">-&gt;deflate</span></code>
 and <pre>
<span class="i">$d</span><span class="i">-&gt;flush</span></code>
 methods.</p>
<p>If the <pre>
<span class="w">AppendOutput</span></code>
 option is set to false, the output buffers in the
<pre>
<span class="i">$d</span><span class="i">-&gt;deflate</span></code>
 and <pre>
<span class="i">$d</span><span class="i">-&gt;flush</span></code>
  methods will be truncated before
uncompressed data is written to them.</p>
<p>If the option is set to true, uncompressed data will be appended to the
output buffer in the <pre>
<span class="i">$d</span><span class="i">-&gt;deflate</span></code>
 and <pre>
<span class="i">$d</span><span class="i">-&gt;flush</span></code>
 methods.</p>
<p>This option defaults to false.</p>
</li>
<li><a id="*-CRC32*"></a><strong><strong>-CRC32</strong></strong>
<p>If set to true, a crc32 checksum of the uncompressed data will be
calculated. Use the <pre>
<span class="i">$d</span><span class="i">-&gt;crc32</span></code>
 method to retrieve this value.</p>
<p>This option defaults to false.</p>
</li>
<li><a id="*-ADLER32*"></a><strong><strong>-ADLER32</strong></strong>
<p>If set to true, an adler32 checksum of the uncompressed data will be
calculated. Use the <pre>
<span class="i">$d</span><span class="i">-&gt;adler32</span></code>
 method to retrieve this value.</p>
<p>This option defaults to false.</p>
</li>
</ul>
<p>Here is an example of using the <pre>
<span class="w">Compress::Raw::Zlib::Deflate</span></code>
 optional
parameter list to override the default buffer size and compression
level. All other options will take their default values.</p>
<pre>
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$d</span> = <span class="w">new</span> <span class="w">Compress::Raw::Zlib::Deflate</span> <span class="s">(</span> -<span class="w">Bufsize</span> <span class="cm">=&gt;</span> <span class="n">300</span><span class="cm">,</span> 
                                               -<span class="w">Level</span>   <span class="cm">=&gt;</span> <span class="w">Z_BEST_SPEED</span> <span class="s">)</span> <span class="sc">;</span></pre>
<a id="*%24status-%3d-%24d-%3edeflate(%24input%2c-%24output)*"></a><h3 class='h3' ><strong>$status = $d-&gt;deflate($input, $output)</strong></h3>
<p>Deflates the contents of <pre>
<span class="i">$input</span></code>
 and writes the compressed data to
<pre>
<span class="i">$output</span></code>
.</p>
<p>The <pre>
<span class="i">$input</span></code>
 and <pre>
<span class="i">$output</span></code>
 parameters can be either scalars or scalar
references.</p>
<p>When finished, <pre>
<span class="i">$input</span></code>
 will be completely processed (assuming there
were no errors). If the deflation was successful it writes the deflated
data to <pre>
<span class="i">$output</span></code>
 and returns a status value of <pre>
<span class="w">Z_OK</span></code>
.</p>
<p>On error, it returns a <i>zlib</i> error code.</p>
<p>If the <pre>
<span class="w">AppendOutput</span></code>
 option is set to true in the constructor for
the <pre>
<span class="i">$d</span></code>
 object, the compressed data will be appended to <pre>
<span class="i">$output</span></code>
. If
it is false, <pre>
<span class="i">$output</span></code>
 will be truncated before any compressed data is
written to it.</p>
<p><strong>Note</strong>: This method will not necessarily write compressed data to
<pre>
<span class="i">$output</span></code>
 every time it is called. So do not assume that there has been
an error if the contents of <pre>
<span class="i">$output</span></code>
 is empty on returning from
this method. As long as the return code from the method is <pre>
<span class="w">Z_OK</span></code>
,
the deflate has succeeded.</p>
<a id="*%24status-%3d-%24d-%3eflush(%24output-%5b%2c-%24flush_type%5d)-*"></a><h3 class='h3' ><strong>$status = $d-&gt;flush($output [, $flush_type]) </strong></h3>
<p>Typically used to finish the deflation. Any pending output will be
written to <pre>
<span class="i">$output</span></code>
.</p>
<p>Returns <pre>
<span class="w">Z_OK</span></code>
 if successful.</p>
<p>Note that flushing can seriously degrade the compression ratio, so it
should only be used to terminate a decompression (using <pre>
<span class="w">Z_FINISH</span></code>
) or
when you want to create a <i>full flush point</i> (using <pre>
<span class="w">Z_FULL_FLUSH</span></code>
).</p>
<p>By default the <pre>
<span class="w">flush_type</span></code>
 used is <pre>
<span class="w">Z_FINISH</span></code>
. Other valid values
for <pre>
<span class="w">flush_type</span></code>
 are <pre>
<span class="w">Z_NO_FLUSH</span></code>
, <pre>
<span class="w">Z_PARTIAL_FLUSH</span></code>
, <pre>
<span class="w">Z_SYNC_FLUSH</span></code>

and <pre>
<span class="w">Z_FULL_FLUSH</span></code>
. It is strongly recommended that you only set the
<pre>
<span class="w">flush_type</span></code>
 parameter if you fully understand the implications of
what it does. See the <pre>
<span class="w">zlib</span></code>
 documentation for details.</p>
<p>If the <pre>
<span class="w">AppendOutput</span></code>
 option is set to true in the constructor for
the <pre>
<span class="i">$d</span></code>
 object, the compressed data will be appended to <pre>
<span class="i">$output</span></code>
. If
it is false, <pre>
<span class="i">$output</span></code>
 will be truncated before any compressed data is
written to it.</p>
<a id="*%24status-%3d-%24d-%3edeflateReset()-*"></a><h3 class='h3' ><strong>$status = $d-&gt;deflateReset() </strong></h3>
<p>This method will reset the deflation object <pre>
<span class="i">$d</span></code>
. It can be used when you
are compressing multiple data streams and want to use the same object to
compress each of them. It should only be used once the previous data stream
has been flushed successfully, i.e. a call to <pre>
<span class="i">$d</span><span class="i">-&gt;flush</span><span class="s">(</span><span class="w">Z_FINISH</span><span class="s">)</span></code>
 has
returned <pre>
<span class="w">Z_OK</span></code>
.</p>
<p>Returns <pre>
<span class="w">Z_OK</span></code>
 if successful.</p>
<a id="*%24status-%3d-%24d-%3edeflateParams(%5bOPT%5d)*"></a><h3 class='h3' ><strong>$status = $d-&gt;deflateParams([OPT])</strong></h3>
<p>Change settings for the deflate object <pre>
<span class="i">$d</span></code>
.</p>
<p>The list of the valid options is shown below. Options not specified
will remain unchanged.</p>
<ul>
<li><a id="*-Level*"></a><strong><strong>-Level</strong></strong>
<p>Defines the compression level. Valid values are 0 through 9,
<pre>
<span class="w">Z_NO_COMPRESSION</span></code>
, <pre>
<span class="w">Z_BEST_SPEED</span></code>
, <pre>
<span class="w">Z_BEST_COMPRESSION</span></code>
, and
<pre>
<span class="w">Z_DEFAULT_COMPRESSION</span></code>
.</p>
</li>
<li><a id="*-Strategy*"></a><strong><strong>-Strategy</strong></strong>
<p>Defines the strategy used to tune the compression. The valid values are
<pre>
<span class="w">Z_DEFAULT_STRATEGY</span></code>
, <pre>
<span class="w">Z_FILTERED</span></code>
 and <pre>
<span class="w">Z_HUFFMAN_ONLY</span></code>
.</p>
</li>
<li><a id="*-BufSize*"></a><strong><strong>-BufSize</strong></strong>
<p>Sets the initial size for the output buffer used by the <pre>
<span class="i">$d</span><span class="i">-&gt;deflate</span></code>

and <pre>
<span class="i">$d</span><span class="i">-&gt;flush</span></code>
 methods. If the buffer has to be
reallocated to increase the size, it will grow in increments of
<pre>
<span class="w">Bufsize</span></code>
.</p>
</li>
</ul>
<a id="*%24status-%3d-%24d-%3edeflateTune(%24good_length%2c-%24max_lazy%2c-%24nice_length%2c-%24max_chain)*"></a><h3 class='h3' ><strong>$status = $d-&gt;deflateTune($good_length, $max_lazy, $nice_length, $max_chain)</strong></h3>
<p>Tune the internal settings for the deflate object <pre>
<span class="i">$d</span></code>
. This option is
only available if you are running zlib 1.2.2.3 or better.</p>
<p>Refer to the documentation in zlib.h for instructions on how to fly
<pre>
<span class="w">deflateTune</span></code>
.</p>
<a id="*%24d-%3edict_adler()*"></a><h3 class='h3' ><strong>$d-&gt;dict_adler()</strong></h3>
<p>Returns the adler32 value for the dictionary.</p>
<a id="*%24d-%3ecrc32()*"></a><h3 class='h3' ><strong>$d-&gt;crc32()</strong></h3>
<p>Returns the crc32 value for the uncompressed data to date.</p>
<p>If the <pre>
<span class="w">CRC32</span></code>
 option is not enabled in the constructor for this object,
this method will always return 0;</p>
<a id="*%24d-%3eadler32()*"></a><h3 class='h3' ><strong>$d-&gt;adler32()</strong></h3>
<p>Returns the adler32 value for the uncompressed data to date.</p>
<a id="*%24d-%3emsg()*"></a><h3 class='h3' ><strong>$d-&gt;msg()</strong></h3>
<p>Returns the last error message generated by zlib.</p>
<a id="*%24d-%3etotal_in()*"></a><h3 class='h3' ><strong>$d-&gt;total_in()</strong></h3>
<p>Returns the total number of bytes uncompressed bytes input to deflate.</p>
<a id="*%24d-%3etotal_out()*"></a><h3 class='h3' ><strong>$d-&gt;total_out()</strong></h3>
<p>Returns the total number of compressed bytes output from deflate.</p>
<a id="*%24d-%3eget_Strategy()*"></a><h3 class='h3' ><strong>$d-&gt;get_Strategy()</strong></h3>
<p>Returns the deflation strategy currently used. Valid values are
<pre>
<span class="w">Z_DEFAULT_STRATEGY</span></code>
, <pre>
<span class="w">Z_FILTERED</span></code>
 and <pre>
<span class="w">Z_HUFFMAN_ONLY</span></code>
.</p>
<a id="*%24d-%3eget_Level()*"></a><h3 class='h3' ><strong>$d-&gt;get_Level()</strong></h3>
<p>Returns the compression level being used.</p>
<a id="*%24d-%3eget_BufSize()*"></a><h3 class='h3' ><strong>$d-&gt;get_BufSize()</strong></h3>
<p>Returns the buffer size used to carry out the compression.</p>
<a id="Example"></a><h3 class='h3' >Example</h3>
<p>Here is a trivial example of using <pre>
<span class="w">deflate</span></code>
. It simply reads standard
input, deflates it and writes it to standard output.</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span> <span class="sc">;</span>

    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Compress::Raw::Zlib</span> <span class="sc">;</span>

    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDIN</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDOUT</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">new</span> <span class="w">Compress::Raw::Zlib::Deflate</span>
       <a class="l_k" href="../../functions/or.html">or</a> <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;Cannot create a deflation stream\n&quot;</span> <span class="sc">;</span>

    <a class="l_k" href="../../functions/my.html">my</a> <span class="s">(</span><span class="i">$output</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/while.html">while</a> <span class="s">(</span>&lt;&gt;<span class="s">)</span>
    <span class="s">{</span>
        <span class="i">$status</span> = <span class="i">$x</span><span class="i">-&gt;deflate</span><span class="s">(</span><span class="i">$_</span><span class="cm">,</span> <span class="i">$output</span><span class="s">)</span> <span class="sc">;</span>
    
        <span class="i">$status</span> == <span class="w">Z_OK</span>
            <a class="l_k" href="../../functions/or.html">or</a> <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;deflation failed\n&quot;</span> <span class="sc">;</span>
    
        <a class="l_k" href="../../functions/print.html">print</a> <span class="i">$output</span> <span class="sc">;</span>
    <span class="s">}</span>
    
    <span class="i">$status</span> = <span class="i">$x</span><span class="i">-&gt;flush</span><span class="s">(</span><span class="i">$output</span><span class="s">)</span> <span class="sc">;</span>
    
    <span class="i">$status</span> == <span class="w">Z_OK</span>
        <a class="l_k" href="../../functions/or.html">or</a> <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;deflation failed\n&quot;</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/print.html">print</a> <span class="i">$output</span> <span class="sc">;</span></pre>
<a id="Compress%3a%3aRaw%3a%3aZlib%3a%3aInflate"></a><h2 class='h2' >Compress::Raw::Zlib::Inflate</h2>
<p>This section defines an interface that allows in-memory uncompression using
the <i>inflate</i> interface provided by zlib.</p>
<p>Here is a definition of the interface:</p>
<a id="*-(%24i%2c-%24status)-%3d-new-Compress%3a%3aRaw%3a%3aZlib%3a%3aInflate(-%5bOPT%5d-)-*"></a><h3 class='h3' ><strong> ($i, $status) = new Compress::Raw::Zlib::Inflate( [OPT] ) </strong></h3>
<p>Initialises an inflation object.</p>
<p>In a list context it returns the inflation object, <pre>
<span class="i">$i</span></code>
, and the
<i>zlib</i> status code (<pre>
<span class="i">$status</span></code>
). In a scalar context it returns the
inflation object only.</p>
<p>If successful, <pre>
<span class="i">$i</span></code>
 will hold the inflation object and <pre>
<span class="i">$status</span></code>
 will
be <pre>
<span class="w">Z_OK</span></code>
.</p>
<p>If not successful, <pre>
<span class="i">$i</span></code>
 will be <i>undef</i> and <pre>
<span class="i">$status</span></code>
 will hold the
<i>zlib</i> error code.</p>
<p>The function optionally takes a number of named options specified as
<pre>
-<span class="w">Name</span> <span class="cm">=&gt;</span> <span class="w">value</span></code>
 pairs. This allows individual options to be
tailored without having to specify them all in the parameter list.</p>
<p>For backward compatibility, it is also possible to pass the parameters
as a reference to a hash containing the <pre>
<span class="w">name</span><span class="cm">=&gt;</span><span class="w">value</span></code>
 pairs.</p>
<p>Here is a list of the valid options:</p>
<ul>
<li><a id="*-WindowBits*"></a><strong><strong>-WindowBits</strong></strong>
<p>To uncompress an RFC 1950 data stream, set <pre>
<span class="w">WindowBits</span></code>
 to a positive
number between 8 and 15.</p>
<p>To uncompress an RFC 1951 data stream, set <pre>
<span class="w">WindowBits</span></code>
 to <pre>
-<span class="w">MAX_WBITS</span></code>
.</p>
<p>To uncompress an RFC 1952 data stream (i.e. gzip), set <pre>
<span class="w">WindowBits</span></code>
 to
<pre>
<span class="w">WANT_GZIP</span></code>
.</p>
<p>To auto-detect and uncompress an RFC 1950 or RFC 1952 data stream (i.e.
gzip), set <pre>
<span class="w">WindowBits</span></code>
 to <pre>
<span class="w">WANT_GZIP_OR_ZLIB</span></code>
.</p>
<p>For a full definition of the meaning and valid values for <pre>
<span class="w">WindowBits</span></code>

refer to the <i>zlib</i> documentation for <i>inflateInit2</i>.</p>
<p>Defaults to <pre>
<span class="w">MAX_WBITS</span></code>
.</p>
</li>
<li><a id="*-Bufsize*"></a><strong><strong>-Bufsize</strong></strong>
<p>Sets the initial size for the output buffer used by the <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>

method. If the output buffer in this method has to be reallocated to
increase the size, it will grow in increments of <pre>
<span class="w">Bufsize</span></code>
.</p>
<p>Default is 4096.</p>
</li>
<li><a id="*-Dictionary*"></a><strong><strong>-Dictionary</strong></strong>
<p>The default is no dictionary.</p>
</li>
<li><a id="*-AppendOutput*"></a><strong><strong>-AppendOutput</strong></strong>
<p>This option controls how data is written to the output buffer by the
<pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>
 method.</p>
<p>If the option is set to false, the output buffer in the <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>

method will be truncated before uncompressed data is written to it.</p>
<p>If the option is set to true, uncompressed data will be appended to the
output buffer by the <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>
 method.</p>
<p>This option defaults to false.</p>
</li>
<li><a id="*-CRC32*"></a><strong><strong>-CRC32</strong></strong>
<p>If set to true, a crc32 checksum of the uncompressed data will be
calculated. Use the <pre>
<span class="i">$i</span><span class="i">-&gt;crc32</span></code>
 method to retrieve this value.</p>
<p>This option defaults to false.</p>
</li>
<li><a id="*-ADLER32*"></a><strong><strong>-ADLER32</strong></strong>
<p>If set to true, an adler32 checksum of the uncompressed data will be
calculated. Use the <pre>
<span class="i">$i</span><span class="i">-&gt;adler32</span></code>
 method to retrieve this value.</p>
<p>This option defaults to false.</p>
</li>
<li><a id="*-ConsumeInput*"></a><strong><strong>-ConsumeInput</strong></strong>
<p>If set to true, this option will remove compressed data from the input
buffer of the <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>
 method as the inflate progresses.</p>
<p>This option can be useful when you are processing compressed data that is
embedded in another file/buffer. In this case the data that immediately
follows the compressed stream will be left in the input buffer.</p>
<p>This option defaults to true.</p>
</li>
<li><a id="*-LimitOutput*"></a><strong><strong>-LimitOutput</strong></strong>
<p>The <pre>
<span class="w">LimitOutput</span></code>
 option changes the behavior of the <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>

method so that the amount of memory used by the output buffer can be
limited.</p>
<p>When <pre>
<span class="w">LimitOutput</span></code>
 is used the size of the output buffer used will either
be the value of the <pre>
<span class="w">Bufsize</span></code>
 option or the amount of memory already
allocated to <pre>
<span class="i">$output</span></code>
, whichever is larger. Predicting the output size
available is tricky, so don't rely on getting an exact output buffer size.</p>
<p>When <pre>
<span class="w">LimitOutout</span></code>
 is not specified <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>
 will use as much
memory as it takes to write all the uncompressed data it creates by
uncompressing the input buffer.</p>
<p>If <pre>
<span class="w">LimitOutput</span></code>
 is enabled, the <pre>
<span class="w">ConsumeInput</span></code>
 option will also be
enabled.</p>
<p>This option defaults to false.</p>
<p>See <a href="#The-LimitOutput-option">The LimitOutput option</a> for a discussion on why <pre>
<span class="w">LimitOutput</span></code>
 is
needed and how to use it.</p>
</li>
</ul>
<p>Here is an example of using an optional parameter to override the default
buffer size.</p>
<pre>
    <a class="l_k" href="../../functions/my.html">my</a> <span class="s">(</span><span class="i">$i</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> = <span class="w">new</span> <span class="i">Compress::Raw::Zlib::Inflate</span><span class="s">(</span> -<span class="w">Bufsize</span> <span class="cm">=&gt;</span> <span class="n">300</span> <span class="s">)</span> <span class="sc">;</span></pre>
<a id="*-%24status-%3d-%24i-%3einflate(%24input%2c-%24output-%5b%2c%24eof%5d)-*"></a><h3 class='h3' ><strong> $status = $i-&gt;inflate($input, $output [,$eof]) </strong></h3>
<p>Inflates the complete contents of <pre>
<span class="i">$input</span></code>
 and writes the uncompressed
data to <pre>
<span class="i">$output</span></code>
. The <pre>
<span class="i">$input</span></code>
 and <pre>
<span class="i">$output</span></code>
 parameters can either be
scalars or scalar references.</p>
<p>Returns <pre>
<span class="w">Z_OK</span></code>
 if successful and <pre>
<span class="w">Z_STREAM_END</span></code>
 if the end of the
compressed data has been successfully reached.</p>
<p>If not successful <pre>
<span class="i">$status</span></code>
 will hold the <i>zlib</i> error code.</p>
<p>If the <pre>
<span class="w">ConsumeInput</span></code>
 option has been set to true when the
<pre>
<span class="w">Compress::Raw::Zlib::Inflate</span></code>
 object is created, the <pre>
<span class="i">$input</span></code>
 parameter
is modified by <pre>
<span class="w">inflate</span></code>
. On completion it will contain what remains
of the input buffer after inflation. In practice, this means that when
the return status is <pre>
<span class="w">Z_OK</span></code>
 the <pre>
<span class="i">$input</span></code>
 parameter will contain an
empty string, and when the return status is <pre>
<span class="w">Z_STREAM_END</span></code>
 the <pre>
<span class="i">$input</span></code>

parameter will contains what (if anything) was stored in the input buffer
after the deflated data stream.</p>
<p>This feature is useful when processing a file format that encapsulates
a compressed data stream (e.g. gzip, zip) and there is useful data
immediately after the deflation stream.</p>
<p>If the <pre>
<span class="w">AppendOutput</span></code>
 option is set to true in the constructor for
this object, the uncompressed data will be appended to <pre>
<span class="i">$output</span></code>
. If
it is false, <pre>
<span class="i">$output</span></code>
 will be truncated before any uncompressed data
is written to it.</p>
<p>The <pre>
<span class="i">$eof</span></code>
 parameter needs a bit of explanation.</p>
<p>Prior to version 1.2.0, zlib assumed that there was at least one trailing
byte immediately after the compressed data stream when it was carrying out
decompression. This normally isn't a problem because the majority of zlib
applications guarantee that there will be data directly after the
compressed data stream.  For example, both gzip (RFC 1950) and zip both
define trailing data that follows the compressed data stream.</p>
<p>The <pre>
<span class="i">$eof</span></code>
 parameter only needs to be used if <strong>all</strong> of the following
conditions apply</p>
<dl>
<dt>1</dt><dd>
<p>You are either using a copy of zlib that is older than version 1.2.0 or you
want your application code to be able to run with as many different
versions of zlib as possible.</p>
</dd>
<dt>2</dt><dd>
<p>You have set the <pre>
<span class="w">WindowBits</span></code>
 parameter to <pre>
-<span class="w">MAX_WBITS</span></code>
 in the constructor
for this object, i.e. you are uncompressing a raw deflated data stream
(RFC 1951).</p>
</dd>
<dt>3</dt><dd>
<p>There is no data immediately after the compressed data stream.</p>
</dd>
</dl>
<p>If <strong>all</strong> of these are the case, then you need to set the <pre>
<span class="i">$eof</span></code>
 parameter
to true on the final call (and only the final call) to <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>
.</p>
<p>If you have built this module with zlib &gt;= 1.2.0, the <pre>
<span class="i">$eof</span></code>
 parameter is
ignored. You can still set it if you want, but it won't be used behind the
scenes.</p>
<a id="*%24status-%3d-%24i-%3einflateSync(%24input)*"></a><h3 class='h3' ><strong>$status = $i-&gt;inflateSync($input)</strong></h3>
<p>This method can be used to attempt to recover good data from a compressed
data stream that is partially corrupt.
It scans <pre>
<span class="i">$input</span></code>
 until it reaches either a <i>full flush point</i> or the
end of the buffer.</p>
<p>If a <i>full flush point</i> is found, <pre>
<span class="w">Z_OK</span></code>
 is returned and <pre>
<span class="i">$input</span></code>

will be have all data up to the flush point removed. This data can then be
passed to the <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span></code>
 method to be uncompressed.</p>
<p>Any other return code means that a flush point was not found. If more
data is available, <pre>
<span class="w">inflateSync</span></code>
 can be called repeatedly with more
compressed data until the flush point is found.</p>
<p>Note <i>full flush points</i> are not present by default in compressed
data streams. They must have been added explicitly when the data stream
was created by calling <pre>
<span class="w">Compress::Deflate::flush</span></code>
  with <pre>
<span class="w">Z_FULL_FLUSH</span></code>
.</p>
<a id="*%24status-%3d-%24i-%3einflateReset()-*"></a><h3 class='h3' ><strong>$status = $i-&gt;inflateReset() </strong></h3>
<p>This method will reset the inflation object <pre>
<span class="i">$i</span></code>
. It can be used when you
are uncompressing multiple data streams and want to use the same object to
uncompress each of them.</p>
<p>Returns <pre>
<span class="w">Z_OK</span></code>
 if successful.</p>
<a id="*%24i-%3edict_adler()*"></a><h3 class='h3' ><strong>$i-&gt;dict_adler()</strong></h3>
<p>Returns the adler32 value for the dictionary.</p>
<a id="*%24i-%3ecrc32()*"></a><h3 class='h3' ><strong>$i-&gt;crc32()</strong></h3>
<p>Returns the crc32 value for the uncompressed data to date.</p>
<p>If the <pre>
<span class="w">CRC32</span></code>
 option is not enabled in the constructor for this object,
this method will always return 0;</p>
<a id="*%24i-%3eadler32()*"></a><h3 class='h3' ><strong>$i-&gt;adler32()</strong></h3>
<p>Returns the adler32 value for the uncompressed data to date.</p>
<p>If the <pre>
<span class="w">ADLER32</span></code>
 option is not enabled in the constructor for this object,
this method will always return 0;</p>
<a id="*%24i-%3emsg()*"></a><h3 class='h3' ><strong>$i-&gt;msg()</strong></h3>
<p>Returns the last error message generated by zlib.</p>
<a id="*%24i-%3etotal_in()*"></a><h3 class='h3' ><strong>$i-&gt;total_in()</strong></h3>
<p>Returns the total number of bytes compressed bytes input to inflate.</p>
<a id="*%24i-%3etotal_out()*"></a><h3 class='h3' ><strong>$i-&gt;total_out()</strong></h3>
<p>Returns the total number of uncompressed bytes output from inflate.</p>
<a id="*%24d-%3eget_BufSize()*"></a><h3 class='h3' ><strong>$d-&gt;get_BufSize()</strong></h3>
<p>Returns the buffer size used to carry out the decompression.</p>
<a id="Examples"></a><h3 class='h3' >Examples</h3>
<p>Here is an example of using <pre>
<span class="w">inflate</span></code>
.</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Compress::Raw::Zlib</span><span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">new</span> <span class="i">Compress::Raw::Zlib::Inflate</span><span class="s">(</span><span class="s">)</span>
       <a class="l_k" href="../../functions/or.html">or</a> <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;Cannot create a inflation stream\n&quot;</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$input</span> = <span class="q">&#39;&#39;</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDIN</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDOUT</span><span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="s">(</span><span class="i">$output</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="../../functions/read.html">read</a><span class="s">(</span><span class="w">STDIN</span><span class="cm">,</span> <span class="i">$input</span><span class="cm">,</span> <span class="n">4096</span><span class="s">)</span><span class="s">)</span>
    <span class="s">{</span>
        <span class="i">$status</span> = <span class="i">$x</span><span class="i">-&gt;inflate</span><span class="s">(</span><span class="i">$input</span><span class="cm">,</span> <span class="i">$output</span><span class="s">)</span> <span class="sc">;</span>
    
        <a class="l_k" href="../../functions/print.html">print</a> <span class="i">$output</span> <span class="sc">;</span>
    
        <a class="l_k" href="../../functions/last.html">last</a> <a class="l_k" href="../../functions/if.html">if</a> <span class="i">$status</span> != <span class="w">Z_OK</span> <span class="sc">;</span>
    <span class="s">}</span>
    
    <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;inflation failed\n&quot;</span>
        <a class="l_k" href="../../functions/unless.html">unless</a> <span class="i">$status</span> == <span class="w">Z_STREAM_END</span> <span class="sc">;</span></pre>
<p>The next example show how to use the <pre>
<span class="w">LimitOutput</span></code>
 option. Notice the use
of two nested loops in this case. The outer loop reads the data from the
input source - STDIN and the inner loop repeatedly calls <pre>
<span class="w">inflate</span></code>
 until
<pre>
<span class="i">$input</span></code>
 is exhausted, we get an error, or the end of the stream is
reached. One point worth remembering is by using the <pre>
<span class="w">LimitOutput</span></code>
 option
you also get <pre>
<span class="w">ConsumeInput</span></code>
 set as well - this makes the code below much
simpler.</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Compress::Raw::Zlib</span><span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">new</span> <span class="i">Compress::Raw::Zlib::Inflate</span><span class="s">(</span><span class="w">LimitOutput</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="s">)</span>
       <a class="l_k" href="../../functions/or.html">or</a> <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;Cannot create a inflation stream\n&quot;</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$input</span> = <span class="q">&#39;&#39;</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDIN</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDOUT</span><span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="s">(</span><span class="i">$output</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> <span class="sc">;</span>

  <span class="j">OUTER:</span>
    <a class="l_k" href="../../functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="../../functions/read.html">read</a><span class="s">(</span><span class="w">STDIN</span><span class="cm">,</span> <span class="i">$input</span><span class="cm">,</span> <span class="n">4096</span><span class="s">)</span><span class="s">)</span>
    <span class="s">{</span>
        <a class="l_k" href="../../functions/do.html">do</a>
        <span class="s">{</span>
            <span class="i">$status</span> = <span class="i">$x</span><span class="i">-&gt;inflate</span><span class="s">(</span><span class="i">$input</span><span class="cm">,</span> <span class="i">$output</span><span class="s">)</span> <span class="sc">;</span>

            <a class="l_k" href="../../functions/print.html">print</a> <span class="i">$output</span> <span class="sc">;</span>

            <a class="l_k" href="../../functions/last.html">last</a> <span class="j">OUTER</span>
                <a class="l_k" href="../../functions/unless.html">unless</a> <span class="i">$status</span> == <span class="w">Z_OK</span> || <span class="i">$status</span> == <span class="w">Z_BUF_ERROR</span> <span class="sc">;</span>
        <span class="s">}</span>
        <a class="l_k" href="../../functions/while.html">while</a> <span class="s">(</span><span class="i">$status</span> == <span class="w">Z_OK</span> &amp;&amp; <a class="l_k" href="../../functions/length.html">length</a> <span class="i">$input</span><span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span>
    
    <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;inflation failed\n&quot;</span>
        <a class="l_k" href="../../functions/unless.html">unless</a> <span class="i">$status</span> == <span class="w">Z_STREAM_END</span> <span class="sc">;</span></pre>
<a id="CHECKSUM-FUNCTIONS"></a><h2 class='h2' >CHECKSUM FUNCTIONS</h2>
<p>Two functions are provided by <i>zlib</i> to calculate checksums. For the
Perl interface, the order of the two parameters in both functions has
been reversed. This allows both running checksums and one off
calculations to be done.</p>
<pre>
    <span class="i">$crc</span> = <span class="i">adler32</span><span class="s">(</span><span class="i">$buffer</span> [<span class="cm">,</span><span class="i">$crc</span>]<span class="s">)</span> <span class="sc">;</span>
    <span class="i">$crc</span> = <span class="i">crc32</span><span class="s">(</span><span class="i">$buffer</span> [<span class="cm">,</span><span class="i">$crc</span>]<span class="s">)</span> <span class="sc">;</span></pre>
<p>The buffer parameters can either be a scalar or a scalar reference.</p>
<p>If the $crc parameters is <code class="inline"><a class="l_k" href="../../functions/undef.html">undef</a></code>, the crc value will be reset.</p>
<p>If you have built this module with zlib 1.2.3 or better, two more
CRC-related functions are available.</p>
<pre>
    <span class="i">$crc</span> = <span class="i">crc32_combine</span><span class="s">(</span><span class="i">$crc1</span><span class="cm">,</span> <span class="i">$crc2</span><span class="cm">,</span> <span class="i">$len2</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$adler</span> = <span class="i">adler32_combine</span><span class="s">(</span><span class="i">$adler1</span><span class="cm">,</span> <span class="i">$adler2</span><span class="cm">,</span> <span class="i">$len2</span><span class="s">)</span><span class="sc">;</span></pre>
<p>These functions allow checksums to be merged.
Refer to the <i>zlib</i> documentation for more details.</p>
<a id="Misc"></a><h2 class='h2' >Misc</h2>
<a id="my-%24version-%3d-Compress%3a%3aRaw%3a%3aZlib%3a%3azlib_version()%3b"></a><h3 class='h3' >my $version = Compress::Raw::Zlib::zlib_version();</h3>
<p>Returns the version of the zlib library.</p>
<a id="my-%24flags-%3d-Compress%3a%3aRaw%3a%3aZlib%3a%3azlibCompileFlags()%3b"></a><h3 class='h3' >my $flags = Compress::Raw::Zlib::zlibCompileFlags();</h3>
<p>Returns the flags indicating compile-time options that were used to build 
the zlib library. See the zlib documentation for a description of the flags
returned by <pre>
<span class="w">zlibCompileFlags</span></code>
.</p>
<p>Note that when the zlib sources are built along with this module the
<code class="inline"><a class="l_k" href="../../functions/sprintf.html">sprintf</a></code> flags (bits 24, 25 and 26) should be ignored.</p>
<p>If you are using zlib 1.2.0 or older, <pre>
<span class="w">zlibCompileFlags</span></code>
 will return 0.</p>
<a id="The-LimitOutput-option."></a><h2 class='h2' >The LimitOutput option.</h2>
<p>By default <pre>
<span class="i">$i</span><span class="i">-&gt;inflate</span><span class="s">(</span><span class="i">$input</span><span class="cm">,</span> <span class="i">$output</span><span class="s">)</span></code>
 will uncompress <i>all</i> data
in <pre>
<span class="i">$input</span></code>
 and write <i>all</i> of the uncompressed data it has generated to
<pre>
<span class="i">$output</span></code>
. This makes the interface to <pre>
<span class="w">inflate</span></code>
 much simpler - if the
method has uncompressed <pre>
<span class="i">$input</span></code>
 successfully <i>all</i> compressed data in
<pre>
<span class="i">$input</span></code>
 will have been dealt with. So if you are reading from an input
source and uncompressing as you go the code will look something like this</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Compress::Raw::Zlib</span><span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">new</span> <span class="i">Compress::Raw::Zlib::Inflate</span><span class="s">(</span><span class="s">)</span>
       <a class="l_k" href="../../functions/or.html">or</a> <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;Cannot create a inflation stream\n&quot;</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$input</span> = <span class="q">&#39;&#39;</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="s">(</span><span class="i">$output</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="../../functions/read.html">read</a><span class="s">(</span><span class="w">STDIN</span><span class="cm">,</span> <span class="i">$input</span><span class="cm">,</span> <span class="n">4096</span><span class="s">)</span><span class="s">)</span>
    <span class="s">{</span>
        <span class="i">$status</span> = <span class="i">$x</span><span class="i">-&gt;inflate</span><span class="s">(</span><span class="i">$input</span><span class="cm">,</span> <span class="i">$output</span><span class="s">)</span> <span class="sc">;</span>
    
        <a class="l_k" href="../../functions/print.html">print</a> <span class="i">$output</span> <span class="sc">;</span>
    
        <a class="l_k" href="../../functions/last.html">last</a> <a class="l_k" href="../../functions/if.html">if</a> <span class="i">$status</span> != <span class="w">Z_OK</span> <span class="sc">;</span>
    <span class="s">}</span>
    
    <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;inflation failed\n&quot;</span>
        <a class="l_k" href="../../functions/unless.html">unless</a> <span class="i">$status</span> == <span class="w">Z_STREAM_END</span> <span class="sc">;</span></pre>
<p>The points to note are</p>
<ul>
<li>
<p>The main processing loop in the code handles reading of compressed data
from STDIN.</p>
</li>
<li>
<p>The status code returned from <pre>
<span class="w">inflate</span></code>
 will only trigger termination of
the main processing loop if it isn't <pre>
<span class="w">Z_OK</span></code>
. When <pre>
<span class="w">LimitOutput</span></code>
 has not
been used the <pre>
<span class="w">Z_OK</span></code>
 status means that the end of the compressed
data stream has been reached or there has been an error in uncompression.</p>
</li>
<li>
<p>After the call to <pre>
<span class="w">inflate</span></code>
 <i>all</i> of the uncompressed data in <pre>
<span class="i">$input</span></code>

will have been processed. This means the subsequent call to <code class="inline"><a class="l_k" href="../../functions/read.html">read</a></code> can
overwrite it's contents without any problem.</p>
</li>
</ul>
<p>For most use-cases the behavior described above is acceptable (this module
and it's predecessor, <pre>
<span class="w">Compress::Zlib</span></code>
, have used it for over 10 years
without an issue), but in a few very specific use-cases the amount of
memory required for <pre>
<span class="i">$output</span></code>
 can prohibitively large. For example, if the
compressed data stream contains the same pattern repeated thousands of
times, a relatively small compressed data stream can uncompress into
hundreds of megabytes.  Remember <pre>
<span class="w">inflate</span></code>
 will keep allocating memory
until <i>all</i> the uncompressed data has been written to the output buffer -
the size of <pre>
<span class="i">$output</span></code>
 is unbounded.</p>
<p>The <pre>
<span class="w">LimitOutput</span></code>
 option is designed to help with this use-case.</p>
<p>The main difference in your code when using <pre>
<span class="w">LimitOutput</span></code>
 is having to
deal with cases where the <pre>
<span class="i">$input</span></code>
 parameter still contains some
uncompressed data that <pre>
<span class="w">inflate</span></code>
 hasn't processed yet. The status code
returned from <pre>
<span class="w">inflate</span></code>
 will be <pre>
<span class="w">Z_OK</span></code>
 if uncompression took place and
<pre>
<span class="w">Z_BUF_ERROR</span></code>
 if the output buffer is full.</p>
<p>Below is typical code that shows how to use <pre>
<span class="w">LimitOutput</span></code>
.</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Compress::Raw::Zlib</span><span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$x</span> = <span class="w">new</span> <span class="i">Compress::Raw::Zlib::Inflate</span><span class="s">(</span><span class="w">LimitOutput</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="s">)</span>
       <a class="l_k" href="../../functions/or.html">or</a> <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;Cannot create a inflation stream\n&quot;</span> <span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$input</span> = <span class="q">&#39;&#39;</span> <span class="sc">;</span>
    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDIN</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/binmode.html">binmode</a> <span class="w">STDOUT</span><span class="sc">;</span>
    
    <a class="l_k" href="../../functions/my.html">my</a> <span class="s">(</span><span class="i">$output</span><span class="cm">,</span> <span class="i">$status</span><span class="s">)</span> <span class="sc">;</span>

  <span class="j">OUTER:</span>
    <a class="l_k" href="../../functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="../../functions/read.html">read</a><span class="s">(</span><span class="w">STDIN</span><span class="cm">,</span> <span class="i">$input</span><span class="cm">,</span> <span class="n">4096</span><span class="s">)</span><span class="s">)</span>
    <span class="s">{</span>
        <a class="l_k" href="../../functions/do.html">do</a>
        <span class="s">{</span>
            <span class="i">$status</span> = <span class="i">$x</span><span class="i">-&gt;inflate</span><span class="s">(</span><span class="i">$input</span><span class="cm">,</span> <span class="i">$output</span><span class="s">)</span> <span class="sc">;</span>

            <a class="l_k" href="../../functions/print.html">print</a> <span class="i">$output</span> <span class="sc">;</span>

            <a class="l_k" href="../../functions/last.html">last</a> <span class="j">OUTER</span>
                <a class="l_k" href="../../functions/unless.html">unless</a> <span class="i">$status</span> == <span class="w">Z_OK</span> || <span class="i">$status</span> == <span class="w">Z_BUF_ERROR</span> <span class="sc">;</span>
        <span class="s">}</span>
        <a class="l_k" href="../../functions/while.html">while</a> <span class="s">(</span><span class="i">$status</span> == <span class="w">Z_OK</span> &amp;&amp; <a class="l_k" href="../../functions/length.html">length</a> <span class="i">$input</span><span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span>
    
    <a class="l_k" href="../../functions/die.html">die</a> <span class="q">&quot;inflation failed\n&quot;</span>
        <a class="l_k" href="../../functions/unless.html">unless</a> <span class="i">$status</span> == <span class="w">Z_STREAM_END</span> <span class="sc">;</span></pre>
<p>Points to note this time:</p>
<ul>
<li>
<p>There are now two nested loops in the code: the outer loop for reading the
compressed data from STDIN, as before; and the inner loop to carry out the
uncompression.</p>
</li>
<li>
<p>There are two exit points from the inner uncompression loop.</p>
<p>Firstly when <pre>
<span class="w">inflate</span></code>
 has returned a status other than <pre>
<span class="w">Z_OK</span></code>
 or
<pre>
<span class="w">Z_BUF_ERROR</span></code>
.  This means that either the end of the compressed data
stream has been reached (<pre>
<span class="w">Z_STREAM_END</span></code>
) or there is an error in the
compressed data. In either of these cases there is no point in continuing
with reading the compressed data, so both loops are terminated.</p>
<p>The second exit point tests if there is any data left in the input buffer,
<pre>
<span class="i">$input</span></code>
 - remember that the <pre>
<span class="w">ConsumeInput</span></code>
 option is automatically
enabled when <pre>
<span class="w">LimitOutput</span></code>
 is used.  When the input buffer has been
exhausted, the outer loop can run again and overwrite a now empty
<pre>
<span class="i">$input</span></code>
.</p>
</li>
</ul>
<a id="ACCESSING-ZIP-FILES"></a><h2 class='h2' >ACCESSING ZIP FILES</h2>
<p>Although it is possible (with some effort on your part) to use this module
to access .zip files, there are other perl modules available that will do
all the hard work for you. Check out <pre>
<span class="w">Archive::Zip</span></code>
,
<pre>
<span class="w">Archive::Zip::SimpleZip</span></code>
, <pre>
<span class="w">IO::Compress::Zip</span></code>
 and
<pre>
<span class="w">IO::Uncompress::Unzip</span></code>
.</p>
<a id="FAQ"></a><h2 class='h2' >FAQ</h2>
<a id="Compatibility-with-Unix-compress%2funcompress."></a><h3 class='h3' >Compatibility with Unix compress/uncompress.</h3>
<p>This module is not compatible with Unix <pre>
<span class="w">compress</span></code>
.</p>
<p>If you have the <pre>
<span class="w">uncompress</span></code>
 program available, you can use this to read
compressed files</p>
<div class="verbatim"><ol><li>    open F, "uncompress -c $filename |";</li><li>    while (&lt;F&gt;)</li><li>    {</li><li>        ...</li></ol></div><p>Alternatively, if you have the <pre>
<span class="w">gunzip</span></code>
 program available, you can use
this to read compressed files</p>
<div class="verbatim"><ol><li>    open F, "gunzip -c $filename |";</li><li>    while (&lt;F&gt;)</li><li>    {</li><li>        ...</li></ol></div><p>and this to write compress files, if you have the <pre>
<span class="w">compress</span></code>
 program
available</p>
<pre>
    <a class="l_k" href="../../functions/open.html">open</a> <span class="w">F</span><span class="cm">,</span> <span class="q">&quot;| compress -c $filename &quot;</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/print.html">print</a> <span class="i">F</span> <span class="q">&quot;data&quot;</span><span class="sc">;</span>
    ...
    <a class="l_k" href="../../functions/close.html">close</a> <span class="w">F</span> <span class="sc">;</span></pre>
<a id="Accessing-.tar.Z-files"></a><h3 class='h3' >Accessing .tar.Z files</h3>
<p>See previous FAQ item.</p>
<p>If the <pre>
<span class="w">Archive::Tar</span></code>
 module is installed and either the <pre>
<span class="w">uncompress</span></code>
 or
<pre>
<span class="w">gunzip</span></code>
 programs are available, you can use one of these workarounds to
read <code class="inline">.tar.Z</code> files.</p>
<p>Firstly with <pre>
<span class="w">uncompress</span></code>
</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Archive::Tar</span><span class="sc">;</span>

    <a class="l_k" href="../../functions/open.html">open</a> <span class="w">F</span><span class="cm">,</span> <span class="q">&quot;uncompress -c $filename |&quot;</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$tar</span> = <span class="w">Archive::Tar</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">*F</span><span class="s">)</span><span class="sc">;</span>
    ...</pre>
<p>and this with <pre>
<span class="w">gunzip</span></code>
</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Archive::Tar</span><span class="sc">;</span>

    <a class="l_k" href="../../functions/open.html">open</a> <span class="w">F</span><span class="cm">,</span> <span class="q">&quot;gunzip -c $filename |&quot;</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$tar</span> = <span class="w">Archive::Tar</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">*F</span><span class="s">)</span><span class="sc">;</span>
    ...</pre>
<p>Similarly, if the <pre>
<span class="w">compress</span></code>
 program is available, you can use this to
write a <code class="inline">.tar.Z</code> file</p>
<pre>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">warnings</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Archive::Tar</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">IO::File</span><span class="sc">;</span>

    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$fh</span> = <span class="w">new</span> <span class="w">IO::File</span> <span class="q">&quot;| compress -c &gt;$filename&quot;</span><span class="sc">;</span>
    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$tar</span> = <span class="w">Archive::Tar</span><span class="w">-&gt;new</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    ...
    <span class="i">$tar</span><span class="i">-&gt;write</span><span class="s">(</span><span class="i">$fh</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$fh</span><span class="i">-&gt;close</span> <span class="sc">;</span></pre>
<a id="Zlib-Library-Version-Support"></a><h3 class='h3' >Zlib Library Version Support</h3>
<p>By default <pre>
<span class="w">Compress::Raw::Zlib</span></code>
 will build with a private copy of version
1.2.5 of the zlib library. (See the <i>README</i> file for details of
how to override this behaviour)</p>
<p>If you decide to use a different version of the zlib library, you need to be
aware of the following issues</p>
<ul>
<li>
<p>First off, you must have zlib 1.0.5 or better.</p>
</li>
<li>
<p>You need to have zlib 1.2.1 or better if you want to use the <pre>
-<span class="w">Merge</span></code>

option with <pre>
<span class="w">IO::Compress::Gzip</span></code>
, <pre>
<span class="w">IO::Compress::Deflate</span></code>
 and
<pre>
<span class="w">IO::Compress::RawDeflate</span></code>
.</p>
</li>
</ul>
<a id="CONSTANTS"></a><h2 class='h2' >CONSTANTS</h2>
<p>All the <i>zlib</i> constants are automatically imported when you make use
of <i>Compress::Raw::Zlib</i>.</p>
<a id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p><a href="../../Compress/Zlib.html">Compress::Zlib</a>, <a href="../../IO/Compress/Gzip.html">IO::Compress::Gzip</a>, <a href="../../IO/Uncompress/Gunzip.html">IO::Uncompress::Gunzip</a>, <a href="../../IO/Compress/Deflate.html">IO::Compress::Deflate</a>, <a href="../../IO/Uncompress/Inflate.html">IO::Uncompress::Inflate</a>, <a href="../../IO/Compress/RawDeflate.html">IO::Compress::RawDeflate</a>, <a href="../../IO/Uncompress/RawInflate.html">IO::Uncompress::RawInflate</a>, <a href="../../IO/Compress/Bzip2.html">IO::Compress::Bzip2</a>, <a href="../../IO/Uncompress/Bunzip2.html">IO::Uncompress::Bunzip2</a>, <a href="https://search.cpan.org/perldoc/IO::Compress::Lzma">IO::Compress::Lzma</a>, <a href="https://search.cpan.org/perldoc/IO::Uncompress::UnLzma">IO::Uncompress::UnLzma</a>, <a href="https://search.cpan.org/perldoc/IO::Compress::Xz">IO::Compress::Xz</a>, <a href="https://search.cpan.org/perldoc/IO::Uncompress::UnXz">IO::Uncompress::UnXz</a>, <a href="https://search.cpan.org/perldoc/IO::Compress::Lzop">IO::Compress::Lzop</a>, <a href="https://search.cpan.org/perldoc/IO::Uncompress::UnLzop">IO::Uncompress::UnLzop</a>, <a href="https://search.cpan.org/perldoc/IO::Compress::Lzf">IO::Compress::Lzf</a>, <a href="https://search.cpan.org/perldoc/IO::Uncompress::UnLzf">IO::Uncompress::UnLzf</a>, <a href="../../IO/Uncompress/AnyInflate.html">IO::Uncompress::AnyInflate</a>, <a href="../../IO/Uncompress/AnyUncompress.html">IO::Uncompress::AnyUncompress</a></p>
<p><a href="../../IO/Compress/FAQ.html">IO::Compress::FAQ</a></p>
<p><a href="../../File/GlobMapper.html">File::GlobMapper</a>, <a href="https://search.cpan.org/perldoc/Archive::Zip">Archive::Zip</a>,
<a href="../../Archive/Tar.html">Archive::Tar</a>,
<a href="../../IO/Zlib.html">IO::Zlib</a></p>
<p>For RFC 1950, 1951 and 1952 see 
<a href="http://www.faqs.org/rfcs/rfc1950.html">http://www.faqs.org/rfcs/rfc1950.html</a>,
<a href="http://www.faqs.org/rfcs/rfc1951.html">http://www.faqs.org/rfcs/rfc1951.html</a> and
<a href="http://www.faqs.org/rfcs/rfc1952.html">http://www.faqs.org/rfcs/rfc1952.html</a></p>
<p>The <i>zlib</i> compression library was written by Jean-loup Gailly
<pre>
<span class="w">gzip</span><span class="i">@prep</span>.<span class="w">ai</span>.<span class="w">mit</span>.<span class="w">edu</span></code>
 and Mark Adler <pre>
<span class="w">madler</span><span class="i">@alumni</span>.<span class="w">caltech</span>.<span class="w">edu</span></code>
.</p>
<p>The primary site for the <i>zlib</i> compression library is
<a href="http://www.zlib.org">http://www.zlib.org</a>.</p>
<p>The primary site for gzip is <a href="http://www.gzip.org">http://www.gzip.org</a>.</p>
<a id="AUTHOR"></a><h2 class='h2' >AUTHOR</h2>
<p>This module was written by Paul Marquess, <pre>
<span class="w">pmqs</span><span class="i">@cpan</span>.<span class="w">org</span></code>
.</p>
<a id="MODIFICATION-HISTORY"></a><h2 class='h2' >MODIFICATION HISTORY</h2>
<p>See the Changes file.</p>
<a id="COPYRIGHT-AND-LICENSE"></a><h2 class='h2' >COPYRIGHT AND LICENSE</h2>
<p>Copyright (c) 2005-2017 Paul Marquess. All rights reserved.</p>
<p>This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Compress%3a%3aRaw%3a%3aZlib%3a%3aDeflate">Compress::Raw::Zlib::Deflate</a></li><ul><li><a href="#*(%24d%2c-%24status)-%3d-new-Compress%3a%3aRaw%3a%3aZlib%3a%3aDeflate(-%5bOPT%5d-)-*">*($d, $status) = new Compress::Raw::Zlib::Deflate( [OPT] ) *</a></li><li><a href="#*%24status-%3d-%24d-%3edeflate(%24input%2c-%24output)*">*$status = $d->deflate($input, $output)*</a></li><li><a href="#*%24status-%3d-%24d-%3eflush(%24output-%5b%2c-%24flush_type%5d)-*">*$status = $d->flush($output [, $flush_type]) *</a></li><li><a href="#*%24status-%3d-%24d-%3edeflateReset()-*">*$status = $d->deflateReset() *</a></li><li><a href="#*%24status-%3d-%24d-%3edeflateParams(%5bOPT%5d)*">*$status = $d->deflateParams([OPT])*</a></li><li><a href="#*%24status-%3d-%24d-%3edeflateTune(%24good_length%2c-%24max_lazy%2c-%24nice_length%2c-%24max_chain)*">*$status = $d->deflateTune($good_length, $max_lazy, $nice_length, $max_chain)*</a></li><li><a href="#*%24d-%3edict_adler()*">*$d->dict_adler()*</a></li><li><a href="#*%24d-%3ecrc32()*">*$d->crc32()*</a></li><li><a href="#*%24d-%3eadler32()*">*$d->adler32()*</a></li><li><a href="#*%24d-%3emsg()*">*$d->msg()*</a></li><li><a href="#*%24d-%3etotal_in()*">*$d->total_in()*</a></li><li><a href="#*%24d-%3etotal_out()*">*$d->total_out()*</a></li><li><a href="#*%24d-%3eget_Strategy()*">*$d->get_Strategy()*</a></li><li><a href="#*%24d-%3eget_Level()*">*$d->get_Level()*</a></li><li><a href="#*%24d-%3eget_BufSize()*">*$d->get_BufSize()*</a></li><li><a href="#Example">Example</a></li></ul><li><a href="#Compress%3a%3aRaw%3a%3aZlib%3a%3aInflate">Compress::Raw::Zlib::Inflate</a></li><ul><li><a href="#*-(%24i%2c-%24status)-%3d-new-Compress%3a%3aRaw%3a%3aZlib%3a%3aInflate(-%5bOPT%5d-)-*">* ($i, $status) = new Compress::Raw::Zlib::Inflate( [OPT] ) *</a></li><li><a href="#*-%24status-%3d-%24i-%3einflate(%24input%2c-%24output-%5b%2c%24eof%5d)-*">* $status = $i->inflate($input, $output [,$eof]) *</a></li><li><a href="#*%24status-%3d-%24i-%3einflateSync(%24input)*">*$status = $i->inflateSync($input)*</a></li><li><a href="#*%24status-%3d-%24i-%3einflateReset()-*">*$status = $i->inflateReset() *</a></li><li><a href="#*%24i-%3edict_adler()*">*$i->dict_adler()*</a></li><li><a href="#*%24i-%3ecrc32()*">*$i->crc32()*</a></li><li><a href="#*%24i-%3eadler32()*">*$i->adler32()*</a></li><li><a href="#*%24i-%3emsg()*">*$i->msg()*</a></li><li><a href="#*%24i-%3etotal_in()*">*$i->total_in()*</a></li><li><a href="#*%24i-%3etotal_out()*">*$i->total_out()*</a></li><li><a href="#*%24d-%3eget_BufSize()*">*$d->get_BufSize()*</a></li><li><a href="#Examples">Examples</a></li></ul><li><a href="#CHECKSUM-FUNCTIONS">CHECKSUM FUNCTIONS</a></li><li><a href="#Misc">Misc</a></li><ul><li><a href="#my-%24version-%3d-Compress%3a%3aRaw%3a%3aZlib%3a%3azlib_version()%3b">my $version = Compress::Raw::Zlib::zlib_version();</a></li><li><a href="#my-%24flags-%3d-Compress%3a%3aRaw%3a%3aZlib%3a%3azlibCompileFlags()%3b">my $flags = Compress::Raw::Zlib::zlibCompileFlags();</a></li></ul><li><a href="#The-LimitOutput-option.">The LimitOutput option.</a></li><li><a href="#ACCESSING-ZIP-FILES">ACCESSING ZIP FILES</a></li><li><a href="#FAQ">FAQ</a></li><ul><li><a href="#Compatibility-with-Unix-compress%2funcompress.">Compatibility with Unix compress/uncompress.</a></li><li><a href="#Accessing-.tar.Z-files">Accessing .tar.Z files</a></li><li><a href="#Zlib-Library-Version-Support">Zlib Library Version Support</a></li></ul><li><a href="#CONSTANTS">CONSTANTS</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR">AUTHOR</a></li><li><a href="#MODIFICATION-HISTORY">MODIFICATION HISTORY</a></li><li><a href="#COPYRIGHT-AND-LICENSE">COPYRIGHT AND LICENSE</a></li></ul>


                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/26/2/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/26/2/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/26/2/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/26/2/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
