<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="map - perldoc.perl.org">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>map - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
    <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-1892152-2', 'auto');  // JJ's account
            ga('create', 'UA-50555-3', 'auto', 'perlOrg');   // perl.org account
            ga('require', 'outboundLinkTracker', {
              events: ['click', 'auxclick', 'contextmenu'],
            });
            ga('require', 'maxScrollTracker');
            ga('send', 'pageview');
            ga('perlOrg.send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="/public/js/tracking.min.js"></script>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml" name="Perl Documentation Logo">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <ul class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5.20.1/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5.20.1/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5.20.1/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5.20.1/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5.20.1/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5.20.1/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5.20.1/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5.20.1/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5.20.1/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5.20.1/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5.20.1/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5.20.1/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5.20.1/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5.20.1/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5.20.1/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5.20.1/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </ul>
          </div>
          <!--/.nav-collapse -->
        </nav>

      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../index-language.html">Language reference</a> &gt;
      
        <a href="../index-functions.html">Functions</a> &gt;
      
    
    map
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <h1 class='page-title'> Perl 5 version 20.1 documentation</h1>
                  </div>
                  <h1>map</h1>
<div class="mod_az_list">
  <a href="/5.20.1/index-functions.html">Perl functions A-Z</a> |
  <a href="/5.20.1/index-functions-by-cat.html">Perl functions by category</a> |
  <a href="/5.20.1/perlfunc.html">The 'perlfunc' manpage</a>
</div>


  <!--    -->
<ul>
<li><a id="map-BLOCK-LIST"></a><strong>map BLOCK LIST</strong>
<p></p>
</li>
</ul>
<ul>
<li><a id="map-EXPR%2cLIST"></a><strong>map EXPR,LIST</strong>
<p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting
<pre>
<span class="i">$_</span></code>
 to each element) and returns the list value composed of the
results of each such evaluation.  In scalar context, returns the
total number of elements so generated.  Evaluates BLOCK or EXPR in
list context, so each element of LIST may produce zero, one, or
more elements in the returned value.</p>
<pre>
    <span class="i">@chars</span> = <a class="l_k" href="../functions/map.html">map</a><span class="s">(</span><a class="l_k" href="../functions/chr.html">chr</a><span class="cm">,</span> <span class="i">@numbers</span><span class="s">)</span><span class="sc">;</span></pre>
<p>translates a list of numbers to the corresponding characters.</p>
<pre>
    <a class="l_k" href="../functions/my.html">my</a> <span class="i">@squares</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span> <span class="i">$_</span> * <span class="i">$_</span> <span class="s">}</span> <span class="i">@numbers</span><span class="sc">;</span></pre>
<p>translates a list of numbers to their squared values.</p>
<pre>
    <a class="l_k" href="../functions/my.html">my</a> <span class="i">@squares</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span> <span class="i">$_</span> &gt; <span class="n">5</span> ? <span class="s">(</span><span class="i">$_</span> * <span class="i">$_</span><span class="s">)</span> <span class="co">:</span> <span class="s">(</span><span class="s">)</span> <span class="s">}</span> <span class="i">@numbers</span><span class="sc">;</span></pre>
<p>shows that number of returned elements can differ from the number of
input elements.  To omit an element, return an empty list ().
This could also be achieved by writing</p>
<pre>
    <a class="l_k" href="../functions/my.html">my</a> <span class="i">@squares</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span> <span class="i">$_</span> * <span class="i">$_</span> <span class="s">}</span> <a class="l_k" href="../functions/grep.html">grep</a> <span class="s">{</span> <span class="i">$_</span> &gt; <span class="n">5</span> <span class="s">}</span> <span class="i">@numbers</span><span class="sc">;</span></pre>
<p>which makes the intention more clear.</p>
<p>Map always returns a list, which can be
assigned to a hash such that the elements
become key/value pairs.  See <a href="../perldata.html">perldata</a> for more details.</p>
<pre>
    <span class="i">%hash</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span> <span class="i">get_a_key_for</span><span class="s">(</span><span class="i">$_</span><span class="s">)</span> <span class="cm">=&gt;</span> <span class="i">$_</span> <span class="s">}</span> <span class="i">@array</span><span class="sc">;</span></pre>
<p>is just a funny way to write</p>
<pre>
    <span class="i">%hash</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <a class="l_k" href="../functions/foreach.html">foreach</a> <span class="s">(</span><span class="i">@array</span><span class="s">)</span> <span class="s">{</span>
        <span class="i">$hash</span>{<span class="i">get_a_key_for</span><span class="s">(</span><span class="i">$_</span><span class="s">)</span>} = <span class="i">$_</span><span class="sc">;</span>
    <span class="s">}</span></pre>
<p>Note that <pre>
<span class="i">$_</span></code>
 is an alias to the list value, so it can be used to
modify the elements of the LIST.  While this is useful and supported,
it can cause bizarre results if the elements of LIST are not variables.
Using a regular <code class="inline"><a class="l_k" href="../functions/foreach.html">foreach</a></code> loop for this purpose would be clearer in
most cases.  See also <a href="../functions/grep.html">grep</a> for an array composed of those items of
the original list for which the BLOCK or EXPR evaluates to true.</p>
<p>If <pre>
<span class="i">$_</span></code>
 is lexical in the scope where the <code class="inline"><a class="l_k" href="../functions/map.html">map</a></code> appears (because it has
been declared with the deprecated <pre>
<a class="l_k" href="../functions/my.html">my</a> <span class="i">$_</span></code>
 construct),
then, in addition to being locally aliased to
the list elements, <pre>
<span class="i">$_</span></code>
 keeps being lexical inside the block; that is, it
can't be seen from the outside, avoiding any potential side-effects.</p>
<p><code class="inline">{</code> starts both hash references and blocks, so <code class="inline">map { ...</code> could be either
the start of map BLOCK LIST or map EXPR, LIST.  Because Perl doesn't look
ahead for the closing <code class="inline">}</code> it has to take a guess at which it's dealing with
based on what it finds just after the
<code class="inline">{</code>.  Usually it gets it right, but if it
doesn't it won't realize something is wrong until it gets to the <code class="inline">}</code> and
encounters the missing (or unexpected) comma.  The syntax error will be
reported close to the <code class="inline">}</code>, but you'll need to change something near the <code class="inline">{</code>
such as using a unary <pre>
+</code>
 to give Perl some help:</p>
<pre>
    <span class="i">%hash</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span>  <span class="q">&quot;\L$_&quot;</span> <span class="cm">=&gt;</span> <span class="n">1</span>  <span class="s">}</span> <span class="i">@array</span> <span class="c"># perl guesses EXPR. wrong</span>
    %<span class="w">hash</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span> +<span class="q">&quot;\L$_&quot;</span> <span class="cm">=&gt;</span> <span class="n">1</span>  <span class="s">}</span> <span class="i">@array</span> <span class="c"># perl guesses BLOCK. right</span>
    %<span class="w">hash</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span> <span class="s">(</span><span class="q">&quot;\L$_&quot;</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="s">)</span> <span class="s">}</span> <span class="i">@array</span> <span class="c"># this also works</span>
    %<span class="w">hash</span> = <a class="l_k" href="../functions/map.html">map</a> <span class="s">{</span>  <a class="l_k" href="../functions/lc.html">lc</a><span class="s">(</span><span class="i">$_</span><span class="s">)</span> <span class="cm">=&gt;</span> <span class="n">1</span>  <span class="s">}</span> <span class="i">@array</span> <span class="c"># as does this.</span>
    %<span class="w">hash</span> = <a class="l_k" href="../functions/map.html">map</a> +<span class="s">(</span> <a class="l_k" href="../functions/lc.html">lc</a><span class="s">(</span><span class="i">$_</span><span class="s">)</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span> <span class="i">@array</span> <span class="c"># this is EXPR and works!</span>

    %<span class="w">hash</span> = <a class="l_k" href="../functions/map.html">map</a>  <span class="s">(</span> <a class="l_k" href="../functions/lc.html">lc</a><span class="s">(</span><span class="i">$_</span><span class="s">)</span><span class="cm">,</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>   <span class="i">@array</span> <span class="c"># evaluates to (1, @array)</span></pre>
<p>or to force an anon hash constructor use <code class="inline">+{</code>:</p>
<pre>
    <span class="i">@hashes</span> = <a class="l_k" href="../functions/map.html">map</a> +<span class="s">{</span> <a class="l_k" href="../functions/lc.html">lc</a><span class="s">(</span><span class="i">$_</span><span class="s">)</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">}</span><span class="cm">,</span> <span class="i">@array</span> <span class="c"># EXPR, so needs</span>
                                           <span class="c"># comma at end</span></pre>
<p>to get a list of anonymous hashes each with only one entry apiece.</p>
</li>
</ul>



                </div>
              </article>
          </div>
        </div>
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Site development sponsored by
                <a href="//opusvl.com" rel="noopener"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/20/1/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/20/1/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/20/1/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/20/1/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/20/1/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/20/1/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/20/1/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <div class="beta-wrapper beta-bottom-right ">
      <div class="beta beta-blue  ">
        <a class="beta-link " href="https://github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
          <span class="beta-text">
            This is a Beta release.
          </span>
          <span class="beta-text">
            For any issues please raise a ticket on GitHub
          </span>
        </a>
      </div>
    </div>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
